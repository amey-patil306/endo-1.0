var Fv=Object.defineProperty;var Vv=(t,e,n)=>e in t?Fv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Md=(t,e,n)=>Vv(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Gv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var gp={exports:{}},ca={},mp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),qv=Symbol.for("react.portal"),Qv=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),Zv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),e0=Symbol.for("react.suspense"),t0=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),Pd=Symbol.iterator;function r0(t){return t===null||typeof t!="object"?null:(t=Pd&&t[Pd]||t["@@iterator"],typeof t=="function"?t:null)}var yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vp=Object.assign,wp={};function Jr(t,e,n){this.props=t,this.context=e,this.refs=wp,this.updater=n||yp}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bp(){}bp.prototype=Jr.prototype;function au(t,e,n){this.props=t,this.context=e,this.refs=wp,this.updater=n||yp}var lu=au.prototype=new bp;lu.constructor=au;vp(lu,Jr.prototype);lu.isPureReactComponent=!0;var Od=Array.isArray,_p=Object.prototype.hasOwnProperty,cu={current:null},xp={key:!0,ref:!0,__self:!0,__source:!0};function Sp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_p.call(e,r)&&!xp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ai,type:t,key:i,ref:o,props:s,_owner:cu.current}}function s0(t,e){return{$$typeof:ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ai}function i0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ld=/\/+/g;function Wa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?i0(""+t.key):e.toString(36)}function Zi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ai:case qv:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wa(o,0):r,Od(s)?(n="",t!=null&&(n=t.replace(Ld,"$&/")+"/"),Zi(s,e,n,"",function(c){return c})):s!=null&&(uu(s)&&(s=s0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ld,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Od(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wa(i,a);o+=Zi(i,e,n,l,s)}else if(l=r0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wa(i,a++),o+=Zi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bi(t,e,n){if(t==null)return t;var r=[],s=0;return Zi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function o0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ue={current:null},Ki={transition:null},a0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:cu};function Ep(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:bi,forEach:function(t,e,n){bi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bi(t,function(){e++}),e},toArray:function(t){return bi(t,function(e){return e})||[]},only:function(t){if(!uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Jr;W.Fragment=Qv;W.Profiler=Jv;W.PureComponent=au;W.StrictMode=Yv;W.Suspense=e0;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a0;W.act=Ep;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=cu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_p.call(e,l)&&!xp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ai,type:t.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:Kv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zv,_context:t},t.Consumer=t};W.createElement=Sp;W.createFactory=function(t){var e=Sp.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:Xv,render:t}};W.isValidElement=uu;W.lazy=function(t){return{$$typeof:n0,_payload:{_status:-1,_result:t},_init:o0}};W.memo=function(t,e){return{$$typeof:t0,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Ki.transition;Ki.transition={};try{t()}finally{Ki.transition=e}};W.unstable_act=Ep;W.useCallback=function(t,e){return Ue.current.useCallback(t,e)};W.useContext=function(t){return Ue.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ue.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ue.current.useEffect(t,e)};W.useId=function(){return Ue.current.useId()};W.useImperativeHandle=function(t,e,n){return Ue.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Ue.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ue.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ue.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Ue.current.useReducer(t,e,n)};W.useRef=function(t){return Ue.current.useRef(t)};W.useState=function(t){return Ue.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Ue.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Ue.current.useTransition()};W.version="18.3.1";mp.exports=W;var j=mp.exports;const yo=Wv(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=j,c0=Symbol.for("react.element"),u0=Symbol.for("react.fragment"),d0=Object.prototype.hasOwnProperty,f0=l0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h0={key:!0,ref:!0,__self:!0,__source:!0};function kp(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)d0.call(e,r)&&!h0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:c0,type:t,key:i,ref:o,props:s,_owner:f0.current}}ca.Fragment=u0;ca.jsx=kp;ca.jsxs=kp;gp.exports=ca;var d=gp.exports,Hl={},Ap={exports:{}},et={},Cp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var z=I.length;I.push(O);e:for(;0<z;){var ne=z-1>>>1,F=I[ne];if(0<s(F,O))I[ne]=O,I[z]=F,z=ne;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],z=I.pop();if(z!==O){I[0]=z;e:for(var ne=0,F=I.length,Be=F>>>1;ne<Be;){var pe=2*(ne+1)-1,nt=I[pe],Ie=pe+1,or=I[Ie];if(0>s(nt,z))Ie<F&&0>s(or,nt)?(I[ne]=or,I[Ie]=z,ne=Ie):(I[ne]=nt,I[pe]=z,ne=pe);else if(Ie<F&&0>s(or,z))I[ne]=or,I[Ie]=z,ne=Ie;else break e}}return O}function s(I,O){var z=I.sortIndex-O.sortIndex;return z!==0?z:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=I)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function _(I){if(w=!1,v(I),!y)if(n(l)!==null)y=!0,ue(A);else{var O=n(c);O!==null&&Ae(_,O.startTime-I)}}function A(I,O){y=!1,w&&(w=!1,g(E),E=-1),p=!0;var z=h;try{for(v(O),f=n(l);f!==null&&(!(f.expirationTime>O)||I&&!D());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var F=ne(f.expirationTime<=O);O=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),v(O)}else r(l);f=n(l)}if(f!==null)var Be=!0;else{var pe=n(c);pe!==null&&Ae(_,pe.startTime-O),Be=!1}return Be}finally{f=null,h=z,p=!1}}var C=!1,k=null,E=-1,P=5,$=-1;function D(){return!(t.unstable_now()-$<P)}function N(){if(k!==null){var I=t.unstable_now();$=I;var O=!0;try{O=k(!0,I)}finally{O?R():(C=!1,k=null)}}else C=!1}var R;if(typeof m=="function")R=function(){m(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=N,R=function(){te.postMessage(null)}}else R=function(){b(N,0)};function ue(I){k=I,C||(C=!0,R())}function Ae(I,O){E=b(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ue(A))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var z=h;h=O;try{return I()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=h;h=I;try{return O()}finally{h=z}},t.unstable_scheduleCallback=function(I,O,z){var ne=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,I){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,I={id:u++,callback:O,priorityLevel:I,startTime:z,expirationTime:F,sortIndex:-1},z>ne?(I.sortIndex=z,e(c,I),n(l)===null&&I===n(c)&&(w?(g(E),E=-1):w=!0,Ae(_,z-ne))):(I.sortIndex=F,e(l,I),y||p||(y=!0,ue(A))),I},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(I){var O=h;return function(){var z=h;h=O;try{return I.apply(this,arguments)}finally{h=z}}}})(Dp);Cp.exports=Dp;var p0=Cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=j,Xe=p0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tp=new Set,Ls={};function Zn(t,e){$r(t,e),$r(t+"Capture",e)}function $r(t,e){for(Ls[t]=e,t=0;t<e.length;t++)Tp.add(e[t])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=Object.prototype.hasOwnProperty,m0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ud={},$d={};function y0(t){return Fl.call($d,t)?!0:Fl.call(Ud,t)?!1:m0.test(t)?$d[t]=!0:(Ud[t]=!0,!1)}function v0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w0(t,e,n,r){if(e===null||typeof e>"u"||v0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var du=/[\-:]([a-z])/g;function fu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(du,fu);Ee[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(du,fu);Ee[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(du,fu);Ee[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function hu(t,e,n,r){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w0(e,n,s,r)&&(n=null),r||s===null?y0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ft=g0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),gr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),Rp=Symbol.for("react.provider"),Np=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),jp=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=Bd&&t[Bd]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,Ga;function ps(t){if(Ga===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ga=e&&e[1]||""}return`
`+Ga+t}var qa=!1;function Qa(t,e){if(!t||qa)return"";qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ps(t):""}function b0(t){switch(t.tag){case 5:return ps(t.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return t=Qa(t.type,!1),t;case 11:return t=Qa(t.type.render,!1),t;case 1:return t=Qa(t.type,!0),t;default:return""}}function ql(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mr:return"Fragment";case gr:return"Portal";case Vl:return"Profiler";case pu:return"StrictMode";case Wl:return"Suspense";case Gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Np:return(t.displayName||"Context")+".Consumer";case Rp:return(t._context.displayName||"Context")+".Provider";case gu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mu:return e=t.displayName||null,e!==null?e:ql(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return ql(t(e))}catch{}}return null}function _0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ql(e);case 8:return e===pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ip(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x0(t){var e=Ip(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xi(t){t._valueTracker||(t._valueTracker=x0(t))}function Mp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ip(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ql(t,e){var n=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pp(t,e){e=e.checked,e!=null&&hu(t,"checked",e,!1)}function Yl(t,e){Pp(t,e);var n=mn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jl(t,e.type,mn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jl(t,e,n){(e!=="number"||vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gs=Array.isArray;function Dr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(gs(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mn(n)}}function Op(t,e){var n=mn(e.value),r=mn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Si,Up=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S0=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(t){S0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ws[e]=ws[t]})});function $p(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ws.hasOwnProperty(t)&&ws[t]?(""+e).trim():e+"px"}function Bp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$p(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var E0=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(t,e){if(e){if(E0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function ec(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=null;function yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nc=null,Tr=null,Rr=null;function Wd(t){if(t=ui(t)){if(typeof nc!="function")throw Error(T(280));var e=t.stateNode;e&&(e=pa(e),nc(t.stateNode,t.type,e))}}function zp(t){Tr?Rr?Rr.push(t):Rr=[t]:Tr=t}function Hp(){if(Tr){var t=Tr,e=Rr;if(Rr=Tr=null,Wd(t),e)for(t=0;t<e.length;t++)Wd(e[t])}}function Fp(t,e){return t(e)}function Vp(){}var Ya=!1;function Wp(t,e,n){if(Ya)return t(e,n);Ya=!0;try{return Fp(t,e,n)}finally{Ya=!1,(Tr!==null||Rr!==null)&&(Vp(),Hp())}}function $s(t,e){var n=t.stateNode;if(n===null)return null;var r=pa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var rc=!1;if(Ot)try{var os={};Object.defineProperty(os,"passive",{get:function(){rc=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{rc=!1}function k0(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var bs=!1,wo=null,bo=!1,sc=null,A0={onError:function(t){bs=!0,wo=t}};function C0(t,e,n,r,s,i,o,a,l){bs=!1,wo=null,k0.apply(A0,arguments)}function D0(t,e,n,r,s,i,o,a,l){if(C0.apply(this,arguments),bs){if(bs){var c=wo;bs=!1,wo=null}else throw Error(T(198));bo||(bo=!0,sc=c)}}function Kn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gd(t){if(Kn(t)!==t)throw Error(T(188))}function T0(t){var e=t.alternate;if(!e){if(e=Kn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Gd(s),t;if(i===r)return Gd(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function qp(t){return t=T0(t),t!==null?Qp(t):null}function Qp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qp(t);if(e!==null)return e;t=t.sibling}return null}var Yp=Xe.unstable_scheduleCallback,qd=Xe.unstable_cancelCallback,R0=Xe.unstable_shouldYield,N0=Xe.unstable_requestPaint,he=Xe.unstable_now,j0=Xe.unstable_getCurrentPriorityLevel,vu=Xe.unstable_ImmediatePriority,Jp=Xe.unstable_UserBlockingPriority,_o=Xe.unstable_NormalPriority,I0=Xe.unstable_LowPriority,Zp=Xe.unstable_IdlePriority,ua=null,Et=null;function M0(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ua,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:L0,P0=Math.log,O0=Math.LN2;function L0(t){return t>>>=0,t===0?32:31-(P0(t)/O0|0)|0}var Ei=64,ki=4194304;function ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ms(a):(i&=o,i!==0&&(r=ms(i)))}else o=n&~s,o!==0?r=ms(o):i!==0&&(r=ms(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mt(e),s=1<<n,r|=t[n],e&=~s;return r}function U0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-mt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=U0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ic(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kp(){var t=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),t}function Ja(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function li(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function B0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function wu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Y=0;function Xp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eg,bu,tg,ng,rg,oc=!1,Ai=[],on=null,an=null,ln=null,Bs=new Map,zs=new Map,Jt=[],z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(t,e){switch(t){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(e.pointerId)}}function as(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ui(e),e!==null&&bu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function H0(t,e,n,r,s){switch(e){case"focusin":return on=as(on,t,e,n,r,s),!0;case"dragenter":return an=as(an,t,e,n,r,s),!0;case"mouseover":return ln=as(ln,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Bs.set(i,as(Bs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zs.set(i,as(zs.get(i)||null,t,e,n,r,s)),!0}return!1}function sg(t){var e=Pn(t.target);if(e!==null){var n=Kn(e);if(n!==null){if(e=n.tag,e===13){if(e=Gp(n),e!==null){t.blockedOn=e,rg(t.priority,function(){tg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ac(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tc=r,n.target.dispatchEvent(r),tc=null}else return e=ui(n),e!==null&&bu(e),t.blockedOn=n,!1;e.shift()}return!0}function Yd(t,e,n){Xi(t)&&n.delete(e)}function F0(){oc=!1,on!==null&&Xi(on)&&(on=null),an!==null&&Xi(an)&&(an=null),ln!==null&&Xi(ln)&&(ln=null),Bs.forEach(Yd),zs.forEach(Yd)}function ls(t,e){t.blockedOn===e&&(t.blockedOn=null,oc||(oc=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,F0)))}function Hs(t){function e(s){return ls(s,t)}if(0<Ai.length){ls(Ai[0],t);for(var n=1;n<Ai.length;n++){var r=Ai[n];r.blockedOn===t&&(r.blockedOn=null)}}for(on!==null&&ls(on,t),an!==null&&ls(an,t),ln!==null&&ls(ln,t),Bs.forEach(e),zs.forEach(e),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)sg(n),n.blockedOn===null&&Jt.shift()}var Nr=Ft.ReactCurrentBatchConfig,So=!0;function V0(t,e,n,r){var s=Y,i=Nr.transition;Nr.transition=null;try{Y=1,_u(t,e,n,r)}finally{Y=s,Nr.transition=i}}function W0(t,e,n,r){var s=Y,i=Nr.transition;Nr.transition=null;try{Y=4,_u(t,e,n,r)}finally{Y=s,Nr.transition=i}}function _u(t,e,n,r){if(So){var s=ac(t,e,n,r);if(s===null)ol(t,e,r,Eo,n),Qd(t,r);else if(H0(s,t,e,n,r))r.stopPropagation();else if(Qd(t,r),e&4&&-1<z0.indexOf(t)){for(;s!==null;){var i=ui(s);if(i!==null&&eg(i),i=ac(t,e,n,r),i===null&&ol(t,e,r,Eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ol(t,e,r,null,n)}}var Eo=null;function ac(t,e,n,r){if(Eo=null,t=yu(r),t=Pn(t),t!==null)if(e=Kn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eo=t,null}function ig(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j0()){case vu:return 1;case Jp:return 4;case _o:case I0:return 16;case Zp:return 536870912;default:return 16}default:return 16}}var en=null,xu=null,eo=null;function og(){if(eo)return eo;var t,e=xu,n=e.length,r,s="value"in en?en.value:en.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return eo=s.slice(t,1<r?1-r:void 0)}function to(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ci(){return!0}function Jd(){return!1}function tt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ci:Jd,this.isPropagationStopped=Jd,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),e}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=tt(Zr),ci=le({},Zr,{view:0,detail:0}),G0=tt(ci),Za,Ka,cs,da=le({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(Za=t.screenX-cs.screenX,Ka=t.screenY-cs.screenY):Ka=Za=0,cs=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Zd=tt(da),q0=le({},da,{dataTransfer:0}),Q0=tt(q0),Y0=le({},ci,{relatedTarget:0}),Xa=tt(Y0),J0=le({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=tt(J0),K0=le({},Zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),X0=tt(K0),ew=le({},Zr,{data:0}),Kd=tt(ew),tw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rw[t])?!!e[t]:!1}function Eu(){return sw}var iw=le({},ci,{key:function(t){if(t.key){var e=tw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=to(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(t){return t.type==="keypress"?to(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?to(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ow=tt(iw),aw=le({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=tt(aw),lw=le({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),cw=tt(lw),uw=le({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dw=tt(uw),fw=le({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hw=tt(fw),pw=[9,13,27,32],ku=Ot&&"CompositionEvent"in window,_s=null;Ot&&"documentMode"in document&&(_s=document.documentMode);var gw=Ot&&"TextEvent"in window&&!_s,ag=Ot&&(!ku||_s&&8<_s&&11>=_s),ef=" ",tf=!1;function lg(t,e){switch(t){case"keyup":return pw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yr=!1;function mw(t,e){switch(t){case"compositionend":return cg(e);case"keypress":return e.which!==32?null:(tf=!0,ef);case"textInput":return t=e.data,t===ef&&tf?null:t;default:return null}}function yw(t,e){if(yr)return t==="compositionend"||!ku&&lg(t,e)?(t=og(),eo=xu=en=null,yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ag&&e.locale!=="ko"?null:e.data;default:return null}}var vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vw[t.type]:e==="textarea"}function ug(t,e,n,r){zp(r),e=ko(e,"onChange"),0<e.length&&(n=new Su("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xs=null,Fs=null;function ww(t){_g(t,0)}function fa(t){var e=br(t);if(Mp(e))return t}function bw(t,e){if(t==="change")return e}var dg=!1;if(Ot){var el;if(Ot){var tl="oninput"in document;if(!tl){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),tl=typeof rf.oninput=="function"}el=tl}else el=!1;dg=el&&(!document.documentMode||9<document.documentMode)}function sf(){xs&&(xs.detachEvent("onpropertychange",fg),Fs=xs=null)}function fg(t){if(t.propertyName==="value"&&fa(Fs)){var e=[];ug(e,Fs,t,yu(t)),Wp(ww,e)}}function _w(t,e,n){t==="focusin"?(sf(),xs=e,Fs=n,xs.attachEvent("onpropertychange",fg)):t==="focusout"&&sf()}function xw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fa(Fs)}function Sw(t,e){if(t==="click")return fa(e)}function Ew(t,e){if(t==="input"||t==="change")return fa(e)}function kw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:kw;function Vs(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fl.call(e,s)||!wt(t[s],e[s]))return!1}return!0}function of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,e){var n=of(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=of(n)}}function hg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pg(){for(var t=window,e=vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vo(t.document)}return e}function Au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Aw(t){var e=pg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hg(n.ownerDocument.documentElement,n)){if(r!==null&&Au(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=af(n,i);var o=af(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cw=Ot&&"documentMode"in document&&11>=document.documentMode,vr=null,lc=null,Ss=null,cc=!1;function lf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||vr==null||vr!==vo(r)||(r=vr,"selectionStart"in r&&Au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&Vs(Ss,r)||(Ss=r,r=ko(lc,"onSelect"),0<r.length&&(e=new Su("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vr)))}function Di(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},nl={},gg={};Ot&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ha(t){if(nl[t])return nl[t];if(!wr[t])return t;var e=wr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gg)return nl[t]=e[n];return t}var mg=ha("animationend"),yg=ha("animationiteration"),vg=ha("animationstart"),wg=ha("transitionend"),bg=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(t,e){bg.set(t,e),Zn(e,[t])}for(var rl=0;rl<cf.length;rl++){var sl=cf[rl],Dw=sl.toLowerCase(),Tw=sl[0].toUpperCase()+sl.slice(1);bn(Dw,"on"+Tw)}bn(mg,"onAnimationEnd");bn(yg,"onAnimationIteration");bn(vg,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(wg,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function uf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,D0(r,e,void 0,t),t.currentTarget=null}function _g(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;uf(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;uf(s,a,c),i=l}}}if(bo)throw t=sc,bo=!1,sc=null,t}function X(t,e){var n=e[pc];n===void 0&&(n=e[pc]=new Set);var r=t+"__bubble";n.has(r)||(xg(e,t,2,!1),n.add(r))}function il(t,e,n){var r=0;e&&(r|=4),xg(n,t,r,e)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[Ti]){t[Ti]=!0,Tp.forEach(function(n){n!=="selectionchange"&&(Rw.has(n)||il(n,!1,t),il(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ti]||(e[Ti]=!0,il("selectionchange",!1,e))}}function xg(t,e,n,r){switch(ig(e)){case 1:var s=V0;break;case 4:s=W0;break;default:s=_u}n=s.bind(null,e,n,t),s=void 0,!rc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ol(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Pn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Wp(function(){var c=i,u=yu(n),f=[];e:{var h=bg.get(t);if(h!==void 0){var p=Su,y=t;switch(t){case"keypress":if(to(n)===0)break e;case"keydown":case"keyup":p=ow;break;case"focusin":y="focus",p=Xa;break;case"focusout":y="blur",p=Xa;break;case"beforeblur":case"afterblur":p=Xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cw;break;case mg:case yg:case vg:p=Z0;break;case wg:p=dw;break;case"scroll":p=G0;break;case"wheel":p=hw;break;case"copy":case"cut":case"paste":p=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xd}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var m=c,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=$s(m,g),_!=null&&w.push(Gs(m,_,v)))),b)break;m=m.return}0<w.length&&(h=new p(h,y,null,n,u),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==tc&&(y=n.relatedTarget||n.fromElement)&&(Pn(y)||y[Lt]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Pn(y):null,y!==null&&(b=Kn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(w=Zd,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Xd,_="onPointerLeave",g="onPointerEnter",m="pointer"),b=p==null?h:br(p),v=y==null?h:br(y),h=new w(_,m+"leave",p,n,u),h.target=b,h.relatedTarget=v,_=null,Pn(u)===c&&(w=new w(g,m+"enter",y,n,u),w.target=v,w.relatedTarget=b,_=w),b=_,p&&y)t:{for(w=p,g=y,m=0,v=w;v;v=ar(v))m++;for(v=0,_=g;_;_=ar(_))v++;for(;0<m-v;)w=ar(w),m--;for(;0<v-m;)g=ar(g),v--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=ar(w),g=ar(g)}w=null}else w=null;p!==null&&df(f,h,p,w,!1),y!==null&&b!==null&&df(f,b,y,w,!0)}}e:{if(h=c?br(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=bw;else if(nf(h))if(dg)A=Ew;else{A=xw;var C=_w}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=Sw);if(A&&(A=A(t,c))){ug(f,A,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Jl(h,"number",h.value)}switch(C=c?br(c):window,t){case"focusin":(nf(C)||C.contentEditable==="true")&&(vr=C,lc=c,Ss=null);break;case"focusout":Ss=lc=vr=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,lf(f,n,u);break;case"selectionchange":if(Cw)break;case"keydown":case"keyup":lf(f,n,u)}var k;if(ku)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else yr?lg(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ag&&n.locale!=="ko"&&(yr||E!=="onCompositionStart"?E==="onCompositionEnd"&&yr&&(k=og()):(en=u,xu="value"in en?en.value:en.textContent,yr=!0)),C=ko(c,E),0<C.length&&(E=new Kd(E,t,null,n,u),f.push({event:E,listeners:C}),k?E.data=k:(k=cg(n),k!==null&&(E.data=k)))),(k=gw?mw(t,n):yw(t,n))&&(c=ko(c,"onBeforeInput"),0<c.length&&(u=new Kd("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=k))}_g(f,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ko(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$s(t,n),i!=null&&r.unshift(Gs(t,i,s)),i=$s(t,e),i!=null&&r.push(Gs(t,i,s))),t=t.return}return r}function ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function df(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=$s(n,i),l!=null&&o.unshift(Gs(n,l,a))):s||(l=$s(n,i),l!=null&&o.push(Gs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Nw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function ff(t){return(typeof t=="string"?t:""+t).replace(Nw,`
`).replace(jw,"")}function Ri(t,e,n){if(e=ff(e),ff(t)!==e&&n)throw Error(T(425))}function Ao(){}var uc=null,dc=null;function fc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(t){return hf.resolve(null).then(t).catch(Pw)}:hc;function Pw(t){setTimeout(function(){throw t})}function al(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hs(e)}function cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),St="__reactFiber$"+Kr,qs="__reactProps$"+Kr,Lt="__reactContainer$"+Kr,pc="__reactEvents$"+Kr,Ow="__reactListeners$"+Kr,Lw="__reactHandles$"+Kr;function Pn(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pf(t);t!==null;){if(n=t[St])return n;t=pf(t)}return e}t=n,n=t.parentNode}return null}function ui(t){return t=t[St]||t[Lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function pa(t){return t[qs]||null}var gc=[],_r=-1;function _n(t){return{current:t}}function ee(t){0>_r||(t.current=gc[_r],gc[_r]=null,_r--)}function K(t,e){_r++,gc[_r]=t.current,t.current=e}var yn={},je=_n(yn),Ge=_n(!1),Vn=yn;function Br(t,e){var n=t.type.contextTypes;if(!n)return yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qe(t){return t=t.childContextTypes,t!=null}function Co(){ee(Ge),ee(je)}function gf(t,e,n){if(je.current!==yn)throw Error(T(168));K(je,e),K(Ge,n)}function Sg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,_0(t)||"Unknown",s));return le({},n,r)}function Do(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,Vn=je.current,K(je,t),K(Ge,Ge.current),!0}function mf(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Sg(t,e,Vn),r.__reactInternalMemoizedMergedChildContext=t,ee(Ge),ee(je),K(je,t)):ee(Ge),K(Ge,n)}var Nt=null,ga=!1,ll=!1;function Eg(t){Nt===null?Nt=[t]:Nt.push(t)}function Uw(t){ga=!0,Eg(t)}function xn(){if(!ll&&Nt!==null){ll=!0;var t=0,e=Y;try{var n=Nt;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nt=null,ga=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(t+1)),Yp(vu,xn),s}finally{Y=e,ll=!1}}return null}var xr=[],Sr=0,To=null,Ro=0,rt=[],st=0,Wn=null,It=1,Mt="";function Dn(t,e){xr[Sr++]=Ro,xr[Sr++]=To,To=t,Ro=e}function kg(t,e,n){rt[st++]=It,rt[st++]=Mt,rt[st++]=Wn,Wn=t;var r=It;t=Mt;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,It=1<<32-mt(e)+s|n<<s|r,Mt=i+t}else It=1<<i|n<<s|r,Mt=t}function Cu(t){t.return!==null&&(Dn(t,1),kg(t,1,0))}function Du(t){for(;t===To;)To=xr[--Sr],xr[Sr]=null,Ro=xr[--Sr],xr[Sr]=null;for(;t===Wn;)Wn=rt[--st],rt[st]=null,Mt=rt[--st],rt[st]=null,It=rt[--st],rt[st]=null}var Ze=null,Je=null,re=!1,gt=null;function Ag(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ze=t,Je=cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ze=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wn!==null?{id:It,overflow:Mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ze=t,Je=null,!0):!1;default:return!1}}function mc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yc(t){if(re){var e=Je;if(e){var n=e;if(!yf(t,e)){if(mc(t))throw Error(T(418));e=cn(n.nextSibling);var r=Ze;e&&yf(t,e)?Ag(r,n):(t.flags=t.flags&-4097|2,re=!1,Ze=t)}}else{if(mc(t))throw Error(T(418));t.flags=t.flags&-4097|2,re=!1,Ze=t}}}function vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ze=t}function Ni(t){if(t!==Ze)return!1;if(!re)return vf(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fc(t.type,t.memoizedProps)),e&&(e=Je)){if(mc(t))throw Cg(),Error(T(418));for(;e;)Ag(t,e),e=cn(e.nextSibling)}if(vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Ze?cn(t.stateNode.nextSibling):null;return!0}function Cg(){for(var t=Je;t;)t=cn(t.nextSibling)}function zr(){Je=Ze=null,re=!1}function Tu(t){gt===null?gt=[t]:gt.push(t)}var $w=Ft.ReactCurrentBatchConfig;function us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function ji(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wf(t){var e=t._init;return e(t._payload)}function Dg(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=hn(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,_){return m===null||m.tag!==6?(m=gl(v,g.mode,_),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,_){var A=v.type;return A===mr?u(g,m,v.props.children,_,v.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===qt&&wf(A)===m.type)?(_=s(m,v.props),_.ref=us(g,m,v),_.return=g,_):(_=lo(v.type,v.key,v.props,null,g.mode,_),_.ref=us(g,m,v),_.return=g,_)}function c(g,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=ml(v,g.mode,_),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function u(g,m,v,_,A){return m===null||m.tag!==7?(m=zn(v,g.mode,_,A),m.return=g,m):(m=s(m,v),m.return=g,m)}function f(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=gl(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _i:return v=lo(m.type,m.key,m.props,null,g.mode,v),v.ref=us(g,null,m),v.return=g,v;case gr:return m=ml(m,g.mode,v),m.return=g,m;case qt:var _=m._init;return f(g,_(m._payload),v)}if(gs(m)||is(m))return m=zn(m,g.mode,v,null),m.return=g,m;ji(g,m)}return null}function h(g,m,v,_){var A=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return A!==null?null:a(g,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _i:return v.key===A?l(g,m,v,_):null;case gr:return v.key===A?c(g,m,v,_):null;case qt:return A=v._init,h(g,m,A(v._payload),_)}if(gs(v)||is(v))return A!==null?null:u(g,m,v,_,null);ji(g,v)}return null}function p(g,m,v,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(m,g,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _i:return g=g.get(_.key===null?v:_.key)||null,l(m,g,_,A);case gr:return g=g.get(_.key===null?v:_.key)||null,c(m,g,_,A);case qt:var C=_._init;return p(g,m,v,C(_._payload),A)}if(gs(_)||is(_))return g=g.get(v)||null,u(m,g,_,A,null);ji(m,_)}return null}function y(g,m,v,_){for(var A=null,C=null,k=m,E=m=0,P=null;k!==null&&E<v.length;E++){k.index>E?(P=k,k=null):P=k.sibling;var $=h(g,k,v[E],_);if($===null){k===null&&(k=P);break}t&&k&&$.alternate===null&&e(g,k),m=i($,m,E),C===null?A=$:C.sibling=$,C=$,k=P}if(E===v.length)return n(g,k),re&&Dn(g,E),A;if(k===null){for(;E<v.length;E++)k=f(g,v[E],_),k!==null&&(m=i(k,m,E),C===null?A=k:C.sibling=k,C=k);return re&&Dn(g,E),A}for(k=r(g,k);E<v.length;E++)P=p(k,g,E,v[E],_),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?E:P.key),m=i(P,m,E),C===null?A=P:C.sibling=P,C=P);return t&&k.forEach(function(D){return e(g,D)}),re&&Dn(g,E),A}function w(g,m,v,_){var A=is(v);if(typeof A!="function")throw Error(T(150));if(v=A.call(v),v==null)throw Error(T(151));for(var C=A=null,k=m,E=m=0,P=null,$=v.next();k!==null&&!$.done;E++,$=v.next()){k.index>E?(P=k,k=null):P=k.sibling;var D=h(g,k,$.value,_);if(D===null){k===null&&(k=P);break}t&&k&&D.alternate===null&&e(g,k),m=i(D,m,E),C===null?A=D:C.sibling=D,C=D,k=P}if($.done)return n(g,k),re&&Dn(g,E),A;if(k===null){for(;!$.done;E++,$=v.next())$=f(g,$.value,_),$!==null&&(m=i($,m,E),C===null?A=$:C.sibling=$,C=$);return re&&Dn(g,E),A}for(k=r(g,k);!$.done;E++,$=v.next())$=p(k,g,E,$.value,_),$!==null&&(t&&$.alternate!==null&&k.delete($.key===null?E:$.key),m=i($,m,E),C===null?A=$:C.sibling=$,C=$);return t&&k.forEach(function(N){return e(g,N)}),re&&Dn(g,E),A}function b(g,m,v,_){if(typeof v=="object"&&v!==null&&v.type===mr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case _i:e:{for(var A=v.key,C=m;C!==null;){if(C.key===A){if(A=v.type,A===mr){if(C.tag===7){n(g,C.sibling),m=s(C,v.props.children),m.return=g,g=m;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===qt&&wf(A)===C.type){n(g,C.sibling),m=s(C,v.props),m.ref=us(g,C,v),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===mr?(m=zn(v.props.children,g.mode,_,v.key),m.return=g,g=m):(_=lo(v.type,v.key,v.props,null,g.mode,_),_.ref=us(g,m,v),_.return=g,g=_)}return o(g);case gr:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=ml(v,g.mode,_),m.return=g,g=m}return o(g);case qt:return C=v._init,b(g,m,C(v._payload),_)}if(gs(v))return y(g,m,v,_);if(is(v))return w(g,m,v,_);ji(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,v),m.return=g,g=m):(n(g,m),m=gl(v,g.mode,_),m.return=g,g=m),o(g)):n(g,m)}return b}var Hr=Dg(!0),Tg=Dg(!1),No=_n(null),jo=null,Er=null,Ru=null;function Nu(){Ru=Er=jo=null}function ju(t){var e=No.current;ee(No),t._currentValue=e}function vc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jr(t,e){jo=t,Ru=Er=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ve=!0),t.firstContext=null)}function lt(t){var e=t._currentValue;if(Ru!==t)if(t={context:t,memoizedValue:e,next:null},Er===null){if(jo===null)throw Error(T(308));Er=t,jo.dependencies={lanes:0,firstContext:t}}else Er=Er.next=t;return e}var On=null;function Iu(t){On===null?On=[t]:On.push(t)}function Rg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Iu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ut(t,r)}function Ut(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ut(t,n)}return s=r.interleaved,s===null?(e.next=e,Iu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ut(t,n)}function no(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wu(t,n)}}function bf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Io(t,e,n,r){var s=t.updateQueue;Qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=le({},f,h);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qn|=o,t.lanes=o,t.memoizedState=f}}function _f(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var di={},kt=_n(di),Qs=_n(di),Ys=_n(di);function Ln(t){if(t===di)throw Error(T(174));return t}function Pu(t,e){switch(K(Ys,e),K(Qs,t),K(kt,di),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kl(e,t)}ee(kt),K(kt,e)}function Fr(){ee(kt),ee(Qs),ee(Ys)}function jg(t){Ln(Ys.current);var e=Ln(kt.current),n=Kl(e,t.type);e!==n&&(K(Qs,t),K(kt,n))}function Ou(t){Qs.current===t&&(ee(kt),ee(Qs))}var oe=_n(0);function Mo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cl=[];function Lu(){for(var t=0;t<cl.length;t++)cl[t]._workInProgressVersionPrimary=null;cl.length=0}var ro=Ft.ReactCurrentDispatcher,ul=Ft.ReactCurrentBatchConfig,Gn=0,ae=null,me=null,we=null,Po=!1,Es=!1,Js=0,Bw=0;function Ce(){throw Error(T(321))}function Uu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wt(t[n],e[n]))return!1;return!0}function $u(t,e,n,r,s,i){if(Gn=i,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ro.current=t===null||t.memoizedState===null?Vw:Ww,t=n(r,s),Es){i=0;do{if(Es=!1,Js=0,25<=i)throw Error(T(301));i+=1,we=me=null,e.updateQueue=null,ro.current=Gw,t=n(r,s)}while(Es)}if(ro.current=Oo,e=me!==null&&me.next!==null,Gn=0,we=me=ae=null,Po=!1,e)throw Error(T(300));return t}function Bu(){var t=Js!==0;return Js=0,t}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ae.memoizedState=we=t:we=we.next=t,we}function ct(){if(me===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=we===null?ae.memoizedState:we.next;if(e!==null)we=e,me=t;else{if(t===null)throw Error(T(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?ae.memoizedState=we=t:we=we.next=t}return we}function Zs(t,e){return typeof e=="function"?e(t):e}function dl(t){var e=ct(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Gn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ae.lanes|=u,qn|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,wt(r,e.memoizedState)||(Ve=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ae.lanes|=i,qn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fl(t){var e=ct(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wt(i,e.memoizedState)||(Ve=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ig(){}function Mg(t,e){var n=ae,r=ct(),s=e(),i=!wt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ve=!0),r=r.queue,zu(Lg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Ks(9,Og.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(T(349));Gn&30||Pg(n,e,s)}return s}function Pg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Og(t,e,n,r){e.value=n,e.getSnapshot=r,Ug(e)&&$g(t)}function Lg(t,e,n){return n(function(){Ug(e)&&$g(t)})}function Ug(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wt(t,n)}catch{return!0}}function $g(t){var e=Ut(t,1);e!==null&&yt(e,t,1,-1)}function xf(t){var e=_t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},e.queue=t,t=t.dispatch=Fw.bind(null,ae,t),[e.memoizedState,t]}function Ks(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bg(){return ct().memoizedState}function so(t,e,n,r){var s=_t();ae.flags|=t,s.memoizedState=Ks(1|e,n,void 0,r===void 0?null:r)}function ma(t,e,n,r){var s=ct();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&Uu(r,o.deps)){s.memoizedState=Ks(e,n,i,r);return}}ae.flags|=t,s.memoizedState=Ks(1|e,n,i,r)}function Sf(t,e){return so(8390656,8,t,e)}function zu(t,e){return ma(2048,8,t,e)}function zg(t,e){return ma(4,2,t,e)}function Hg(t,e){return ma(4,4,t,e)}function Fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vg(t,e,n){return n=n!=null?n.concat([t]):null,ma(4,4,Fg.bind(null,e,t),n)}function Hu(){}function Wg(t,e){var n=ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gg(t,e){var n=ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qg(t,e,n){return Gn&21?(wt(n,e)||(n=Kp(),ae.lanes|=n,qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ve=!0),t.memoizedState=n)}function zw(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=ul.transition;ul.transition={};try{t(!1),e()}finally{Y=n,ul.transition=r}}function Qg(){return ct().memoizedState}function Hw(t,e,n){var r=fn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yg(t))Jg(e,n);else if(n=Rg(t,e,n,r),n!==null){var s=Le();yt(n,t,r,s),Zg(n,e,r)}}function Fw(t,e,n){var r=fn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yg(t))Jg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wt(a,o)){var l=e.interleaved;l===null?(s.next=s,Iu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Rg(t,e,s,r),n!==null&&(s=Le(),yt(n,t,r,s),Zg(n,e,r))}}function Yg(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function Jg(t,e){Es=Po=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wu(t,n)}}var Oo={readContext:lt,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Vw={readContext:lt,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:Sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,so(4194308,4,Fg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return so(4194308,4,t,e)},useInsertionEffect:function(t,e){return so(4,2,t,e)},useMemo:function(t,e){var n=_t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hw.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:xf,useDebugValue:Hu,useDeferredValue:function(t){return _t().memoizedState=t},useTransition:function(){var t=xf(!1),e=t[0];return t=zw.bind(null,t[1]),_t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,s=_t();if(re){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),_e===null)throw Error(T(349));Gn&30||Pg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Sf(Lg.bind(null,r,i,t),[t]),r.flags|=2048,Ks(9,Og.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_t(),e=_e.identifierPrefix;if(re){var n=Mt,r=It;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ww={readContext:lt,useCallback:Wg,useContext:lt,useEffect:zu,useImperativeHandle:Vg,useInsertionEffect:zg,useLayoutEffect:Hg,useMemo:Gg,useReducer:dl,useRef:Bg,useState:function(){return dl(Zs)},useDebugValue:Hu,useDeferredValue:function(t){var e=ct();return qg(e,me.memoizedState,t)},useTransition:function(){var t=dl(Zs)[0],e=ct().memoizedState;return[t,e]},useMutableSource:Ig,useSyncExternalStore:Mg,useId:Qg,unstable_isNewReconciler:!1},Gw={readContext:lt,useCallback:Wg,useContext:lt,useEffect:zu,useImperativeHandle:Vg,useInsertionEffect:zg,useLayoutEffect:Hg,useMemo:Gg,useReducer:fl,useRef:Bg,useState:function(){return fl(Zs)},useDebugValue:Hu,useDeferredValue:function(t){var e=ct();return me===null?e.memoizedState=t:qg(e,me.memoizedState,t)},useTransition:function(){var t=fl(Zs)[0],e=ct().memoizedState;return[t,e]},useMutableSource:Ig,useSyncExternalStore:Mg,useId:Qg,unstable_isNewReconciler:!1};function ft(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ya={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Le(),s=fn(t),i=Pt(r,s);i.payload=e,n!=null&&(i.callback=n),e=un(t,i,s),e!==null&&(yt(e,t,s,r),no(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Le(),s=fn(t),i=Pt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=un(t,i,s),e!==null&&(yt(e,t,s,r),no(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),r=fn(t),s=Pt(n,r);s.tag=2,e!=null&&(s.callback=e),e=un(t,s,r),e!==null&&(yt(e,t,r,n),no(e,t,r))}};function Ef(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vs(n,r)||!Vs(s,i):!0}function Kg(t,e,n){var r=!1,s=yn,i=e.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=qe(e)?Vn:je.current,r=e.contextTypes,i=(r=r!=null)?Br(t,s):yn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ya,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function kf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ya.enqueueReplaceState(e,e.state,null)}function bc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=qe(e)?Vn:je.current,s.context=Br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ya.enqueueReplaceState(s,s.state,null),Io(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vr(t,e){try{var n="",r=e;do n+=b0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _c(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qw=typeof WeakMap=="function"?WeakMap:Map;function Xg(t,e,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uo||(Uo=!0,Nc=r),_c(t,e)},n}function em(t,e,n){n=Pt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_c(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_c(t,e),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Af(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ab.bind(null,t,e,n),e.then(t,t))}function Cf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Df(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pt(-1,1),e.tag=2,un(n,e,1))),n.lanes|=1),t)}var Qw=Ft.ReactCurrentOwner,Ve=!1;function Pe(t,e,n,r){e.child=t===null?Tg(e,null,n,r):Hr(e,t.child,n,r)}function Tf(t,e,n,r,s){n=n.render;var i=e.ref;return jr(e,s),r=$u(t,e,n,r,i,s),n=Bu(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$t(t,e,s)):(re&&n&&Cu(e),e.flags|=1,Pe(t,e,r,s),e.child)}function Rf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ju(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tm(t,e,i,r,s)):(t=lo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(o,r)&&t.ref===e.ref)return $t(t,e,s)}return e.flags|=1,t=hn(i,r),t.ref=e.ref,t.return=e,e.child=t}function tm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vs(i,r)&&t.ref===e.ref)if(Ve=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ve=!0);else return e.lanes=t.lanes,$t(t,e,s)}return xc(t,e,n,r,s)}function nm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Ar,Ye),Ye|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Ar,Ye),Ye|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Ar,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Ar,Ye),Ye|=r;return Pe(t,e,s,n),e.child}function rm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xc(t,e,n,r,s){var i=qe(n)?Vn:je.current;return i=Br(e,i),jr(e,s),n=$u(t,e,n,r,i,s),r=Bu(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$t(t,e,s)):(re&&r&&Cu(e),e.flags|=1,Pe(t,e,n,s),e.child)}function Nf(t,e,n,r,s){if(qe(n)){var i=!0;Do(e)}else i=!1;if(jr(e,s),e.stateNode===null)io(t,e),Kg(e,n,r),bc(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=lt(c):(c=qe(n)?Vn:je.current,c=Br(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kf(e,o,r,c),Qt=!1;var h=e.memoizedState;o.state=h,Io(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ge.current||Qt?(typeof u=="function"&&(wc(e,n,u,r),l=e.memoizedState),(a=Qt||Ef(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ng(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ft(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=qe(n)?Vn:je.current,l=Br(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&kf(e,o,r,l),Qt=!1,h=e.memoizedState,o.state=h,Io(e,r,o,s);var y=e.memoizedState;a!==f||h!==y||Ge.current||Qt?(typeof p=="function"&&(wc(e,n,p,r),y=e.memoizedState),(c=Qt||Ef(e,n,c,r,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sc(t,e,n,r,i,s)}function Sc(t,e,n,r,s,i){rm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&mf(e,n,!1),$t(t,e,i);r=e.stateNode,Qw.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hr(e,t.child,null,i),e.child=Hr(e,null,a,i)):Pe(t,e,a,i),e.memoizedState=r.state,s&&mf(e,n,!0),e.child}function sm(t){var e=t.stateNode;e.pendingContext?gf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gf(t,e.context,!1),Pu(t,e.containerInfo)}function jf(t,e,n,r,s){return zr(),Tu(s),e.flags|=256,Pe(t,e,n,r),e.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function im(t,e,n){var r=e.pendingProps,s=oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(oe,s&1),t===null)return yc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ba(o,r,0,null),t=zn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kc(n),e.memoizedState=Ec,t):Fu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Yw(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hn(a,i):(i=zn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?kc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ec,r}return i=t.child,t=i.sibling,r=hn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fu(t,e){return e=ba({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ii(t,e,n,r){return r!==null&&Tu(r),Hr(e,t.child,null,n),t=Fu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yw(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hl(Error(T(422))),Ii(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ba({mode:"visible",children:r.children},s,0,null),i=zn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hr(e,t.child,null,o),e.child.memoizedState=kc(o),e.memoizedState=Ec,i);if(!(e.mode&1))return Ii(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=hl(i,r,void 0),Ii(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ve||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ut(t,s),yt(r,t,s,-1))}return Yu(),r=hl(Error(T(421))),Ii(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=lb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Je=cn(s.nextSibling),Ze=e,re=!0,gt=null,t!==null&&(rt[st++]=It,rt[st++]=Mt,rt[st++]=Wn,It=t.id,Mt=t.overflow,Wn=e),e=Fu(e,r.children),e.flags|=4096,e)}function If(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vc(t.return,e,n)}function pl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function om(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pe(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&If(t,n,e);else if(t.tag===19)If(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pl(e,!0,n,null,i);break;case"together":pl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function io(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jw(t,e,n){switch(e.tag){case 3:sm(e),zr();break;case 5:jg(e);break;case 1:qe(e.type)&&Do(e);break;case 4:Pu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(No,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?im(t,e,n):(K(oe,oe.current&1),t=$t(t,e,n),t!==null?t.sibling:null);K(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return om(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,nm(t,e,n)}return $t(t,e,n)}var am,Ac,lm,cm;am=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ac=function(){};lm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ln(kt.current);var i=null;switch(n){case"input":s=Ql(t,s),r=Ql(t,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Zl(t,s),r=Zl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ao)}Xl(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ls.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&X("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};cm=function(t,e,n,r){n!==r&&(e.flags|=4)};function ds(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zw(t,e,n){var r=e.pendingProps;switch(Du(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return qe(e.type)&&Co(),De(e),null;case 3:return r=e.stateNode,Fr(),ee(Ge),ee(je),Lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ni(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(Mc(gt),gt=null))),Ac(t,e),De(e),null;case 5:Ou(e);var s=Ln(Ys.current);if(n=e.type,t!==null&&e.stateNode!=null)lm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return De(e),null}if(t=Ln(kt.current),Ni(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[St]=e,r[qs]=i,t=(e.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<ys.length;s++)X(ys[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":zd(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":Fd(r,i),X("invalid",r)}Xl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,a,t),s=["children",""+a]):Ls.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":xi(r),Hd(r,i,!0);break;case"textarea":xi(r),Vd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ao)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[St]=e,t[qs]=r,am(t,e,!1,!1),e.stateNode=t;e:{switch(o=ec(n,r),n){case"dialog":X("cancel",t),X("close",t),s=r;break;case"iframe":case"object":case"embed":X("load",t),s=r;break;case"video":case"audio":for(s=0;s<ys.length;s++)X(ys[s],t);s=r;break;case"source":X("error",t),s=r;break;case"img":case"image":case"link":X("error",t),X("load",t),s=r;break;case"details":X("toggle",t),s=r;break;case"input":zd(t,r),s=Ql(t,r),X("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),X("invalid",t);break;case"textarea":Fd(t,r),s=Zl(t,r),X("invalid",t);break;default:s=r}Xl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Bp(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Up(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Us(t,l):typeof l=="number"&&Us(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ls.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",t):l!=null&&hu(t,i,l,o))}switch(n){case"input":xi(t),Hd(t,r,!1);break;case"textarea":xi(t),Vd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Dr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Dr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ao)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)cm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Ln(Ys.current),Ln(kt.current),Ni(e)){if(r=e.stateNode,n=e.memoizedProps,r[St]=e,(i=r.nodeValue!==n)&&(t=Ze,t!==null))switch(t.tag){case 3:Ri(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=e,e.stateNode=r}return De(e),null;case 13:if(ee(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&Je!==null&&e.mode&1&&!(e.flags&128))Cg(),zr(),e.flags|=98560,i=!1;else if(i=Ni(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[St]=e}else zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),i=!1}else gt!==null&&(Mc(gt),gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?ye===0&&(ye=3):Yu())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return Fr(),Ac(t,e),t===null&&Ws(e.stateNode.containerInfo),De(e),null;case 10:return ju(e.type._context),De(e),null;case 17:return qe(e.type)&&Co(),De(e),null;case 19:if(ee(oe),i=e.memoizedState,i===null)return De(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ds(i,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mo(t),o!==null){for(e.flags|=128,ds(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&he()>Wr&&(e.flags|=128,r=!0,ds(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return De(e),null}else 2*he()-i.renderingStartTime>Wr&&n!==1073741824&&(e.flags|=128,r=!0,ds(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=he(),e.sibling=null,n=oe.current,K(oe,r?n&1|2:n&1),e):(De(e),null);case 22:case 23:return Qu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ye&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Kw(t,e){switch(Du(e),e.tag){case 1:return qe(e.type)&&Co(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(),ee(Ge),ee(je),Lu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ou(e),null;case 13:if(ee(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(oe),null;case 4:return Fr(),null;case 10:return ju(e.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Mi=!1,Te=!1,Xw=typeof WeakSet=="function"?WeakSet:Set,M=null;function kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(t,e,r)}else n.current=null}function Cc(t,e,n){try{n()}catch(r){de(t,e,r)}}var Mf=!1;function eb(t,e){if(uc=So,t=pg(),Au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dc={focusedElem:t,selectionRange:n},So=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:ft(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){de(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return y=Mf,Mf=!1,y}function ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cc(e,n,i)}s=s.next}while(s!==r)}}function va(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function um(t){var e=t.alternate;e!==null&&(t.alternate=null,um(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[qs],delete e[pc],delete e[Ow],delete e[Lw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dm(t){return t.tag===5||t.tag===3||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ao));else if(r!==4&&(t=t.child,t!==null))for(Tc(t,e,n),t=t.sibling;t!==null;)Tc(t,e,n),t=t.sibling}function Rc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rc(t,e,n),t=t.sibling;t!==null;)Rc(t,e,n),t=t.sibling}var xe=null,ht=!1;function Wt(t,e,n){for(n=n.child;n!==null;)fm(t,e,n),n=n.sibling}function fm(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ua,n)}catch{}switch(n.tag){case 5:Te||kr(n,e);case 6:var r=xe,s=ht;xe=null,Wt(t,e,n),xe=r,ht=s,xe!==null&&(ht?(t=xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ht?(t=xe,n=n.stateNode,t.nodeType===8?al(t.parentNode,n):t.nodeType===1&&al(t,n),Hs(t)):al(xe,n.stateNode));break;case 4:r=xe,s=ht,xe=n.stateNode.containerInfo,ht=!0,Wt(t,e,n),xe=r,ht=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cc(n,e,o),s=s.next}while(s!==r)}Wt(t,e,n);break;case 1:if(!Te&&(kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){de(n,e,a)}Wt(t,e,n);break;case 21:Wt(t,e,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Wt(t,e,n),Te=r):Wt(t,e,n);break;default:Wt(t,e,n)}}function Of(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xw),e.forEach(function(r){var s=cb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,ht=!1;break e;case 3:xe=a.stateNode.containerInfo,ht=!0;break e;case 4:xe=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(xe===null)throw Error(T(160));fm(i,o,s),xe=null,ht=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){de(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hm(e,t),e=e.sibling}function hm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ut(e,t),bt(t),r&4){try{ks(3,t,t.return),va(3,t)}catch(w){de(t,t.return,w)}try{ks(5,t,t.return)}catch(w){de(t,t.return,w)}}break;case 1:ut(e,t),bt(t),r&512&&n!==null&&kr(n,n.return);break;case 5:if(ut(e,t),bt(t),r&512&&n!==null&&kr(n,n.return),t.flags&32){var s=t.stateNode;try{Us(s,"")}catch(w){de(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pp(s,i),ec(a,o);var c=ec(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?Bp(s,f):u==="dangerouslySetInnerHTML"?Up(s,f):u==="children"?Us(s,f):hu(s,u,f,c)}switch(a){case"input":Yl(s,i);break;case"textarea":Op(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Dr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Dr(s,!!i.multiple,i.defaultValue,!0):Dr(s,!!i.multiple,i.multiple?[]:"",!1))}s[qs]=i}catch(w){de(t,t.return,w)}}break;case 6:if(ut(e,t),bt(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){de(t,t.return,w)}}break;case 3:if(ut(e,t),bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(w){de(t,t.return,w)}break;case 4:ut(e,t),bt(t);break;case 13:ut(e,t),bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gu=he())),r&4&&Of(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(c=Te)||u,ut(e,t),Te=c):ut(e,t),bt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(M=t,u=t.child;u!==null;){for(f=M=u;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:ks(4,h,h.return);break;case 1:kr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){de(r,n,w)}}break;case 5:kr(h,h.return);break;case 22:if(h.memoizedState!==null){Uf(f);continue}}p!==null?(p.return=h,M=p):Uf(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$p("display",o))}catch(w){de(t,t.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){de(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ut(e,t),bt(t),r&4&&Of(t);break;case 21:break;default:ut(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dm(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Us(s,""),r.flags&=-33);var i=Pf(t);Rc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Pf(t);Tc(t,a,o);break;default:throw Error(T(161))}}catch(l){de(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tb(t,e,n){M=t,pm(t)}function pm(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Te;a=Mi;var c=Te;if(Mi=o,(Te=l)&&!c)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?$f(s):l!==null?(l.return=o,M=l):$f(s);for(;i!==null;)M=i,pm(i),i=i.sibling;M=s,Mi=a,Te=c}Lf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):Lf(t)}}function Lf(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||va(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ft(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_f(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_f(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Hs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||e.flags&512&&Dc(e)}catch(h){de(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Uf(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function $f(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{va(4,e)}catch(l){de(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){de(e,s,l)}}var i=e.return;try{Dc(e)}catch(l){de(e,i,l)}break;case 5:var o=e.return;try{Dc(e)}catch(l){de(e,o,l)}}}catch(l){de(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var nb=Math.ceil,Lo=Ft.ReactCurrentDispatcher,Vu=Ft.ReactCurrentOwner,ot=Ft.ReactCurrentBatchConfig,G=0,_e=null,ge=null,Se=0,Ye=0,Ar=_n(0),ye=0,Xs=null,qn=0,wa=0,Wu=0,As=null,He=null,Gu=0,Wr=1/0,Tt=null,Uo=!1,Nc=null,dn=null,Pi=!1,tn=null,$o=0,Cs=0,jc=null,oo=-1,ao=0;function Le(){return G&6?he():oo!==-1?oo:oo=he()}function fn(t){return t.mode&1?G&2&&Se!==0?Se&-Se:$w.transition!==null?(ao===0&&(ao=Kp()),ao):(t=Y,t!==0||(t=window.event,t=t===void 0?16:ig(t.type)),t):1}function yt(t,e,n,r){if(50<Cs)throw Cs=0,jc=null,Error(T(185));li(t,n,r),(!(G&2)||t!==_e)&&(t===_e&&(!(G&2)&&(wa|=n),ye===4&&Zt(t,Se)),Qe(t,r),n===1&&G===0&&!(e.mode&1)&&(Wr=he()+500,ga&&xn()))}function Qe(t,e){var n=t.callbackNode;$0(t,e);var r=xo(t,t===_e?Se:0);if(r===0)n!==null&&qd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qd(n),e===1)t.tag===0?Uw(Bf.bind(null,t)):Eg(Bf.bind(null,t)),Mw(function(){!(G&6)&&xn()}),n=null;else{switch(Xp(r)){case 1:n=vu;break;case 4:n=Jp;break;case 16:n=_o;break;case 536870912:n=Zp;break;default:n=_o}n=xm(n,gm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gm(t,e){if(oo=-1,ao=0,G&6)throw Error(T(327));var n=t.callbackNode;if(Ir()&&t.callbackNode!==n)return null;var r=xo(t,t===_e?Se:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bo(t,r);else{e=r;var s=G;G|=2;var i=ym();(_e!==t||Se!==e)&&(Tt=null,Wr=he()+500,Bn(t,e));do try{ib();break}catch(a){mm(t,a)}while(!0);Nu(),Lo.current=i,G=s,ge!==null?e=0:(_e=null,Se=0,e=ye)}if(e!==0){if(e===2&&(s=ic(t),s!==0&&(r=s,e=Ic(t,s))),e===1)throw n=Xs,Bn(t,0),Zt(t,r),Qe(t,he()),n;if(e===6)Zt(t,r);else{if(s=t.current.alternate,!(r&30)&&!rb(s)&&(e=Bo(t,r),e===2&&(i=ic(t),i!==0&&(r=i,e=Ic(t,i))),e===1))throw n=Xs,Bn(t,0),Zt(t,r),Qe(t,he()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Tn(t,He,Tt);break;case 3:if(Zt(t,r),(r&130023424)===r&&(e=Gu+500-he(),10<e)){if(xo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Le(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hc(Tn.bind(null,t,He,Tt),e);break}Tn(t,He,Tt);break;case 4:if(Zt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-mt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nb(r/1960))-r,10<r){t.timeoutHandle=hc(Tn.bind(null,t,He,Tt),r);break}Tn(t,He,Tt);break;case 5:Tn(t,He,Tt);break;default:throw Error(T(329))}}}return Qe(t,he()),t.callbackNode===n?gm.bind(null,t):null}function Ic(t,e){var n=As;return t.current.memoizedState.isDehydrated&&(Bn(t,e).flags|=256),t=Bo(t,e),t!==2&&(e=He,He=n,e!==null&&Mc(e)),t}function Mc(t){He===null?He=t:He.push.apply(He,t)}function rb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zt(t,e){for(e&=~Wu,e&=~wa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),r=1<<n;t[n]=-1,e&=~r}}function Bf(t){if(G&6)throw Error(T(327));Ir();var e=xo(t,0);if(!(e&1))return Qe(t,he()),null;var n=Bo(t,e);if(t.tag!==0&&n===2){var r=ic(t);r!==0&&(e=r,n=Ic(t,r))}if(n===1)throw n=Xs,Bn(t,0),Zt(t,e),Qe(t,he()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,He,Tt),Qe(t,he()),null}function qu(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Wr=he()+500,ga&&xn())}}function Qn(t){tn!==null&&tn.tag===0&&!(G&6)&&Ir();var e=G;G|=1;var n=ot.transition,r=Y;try{if(ot.transition=null,Y=1,t)return t()}finally{Y=r,ot.transition=n,G=e,!(G&6)&&xn()}}function Qu(){Ye=Ar.current,ee(Ar)}function Bn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Iw(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Co();break;case 3:Fr(),ee(Ge),ee(je),Lu();break;case 5:Ou(r);break;case 4:Fr();break;case 13:ee(oe);break;case 19:ee(oe);break;case 10:ju(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(_e=t,ge=t=hn(t.current,null),Se=Ye=e,ye=0,Xs=null,Wu=wa=qn=0,He=As=null,On!==null){for(e=0;e<On.length;e++)if(n=On[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}On=null}return t}function mm(t,e){do{var n=ge;try{if(Nu(),ro.current=Oo,Po){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Po=!1}if(Gn=0,we=me=ae=null,Es=!1,Js=0,Vu.current=null,n===null||n.return===null){ye=1,Xs=e,ge=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Cf(o);if(p!==null){p.flags&=-257,Df(p,o,a,i,e),p.mode&1&&Af(i,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Af(i,c,e),Yu();break e}l=Error(T(426))}}else if(re&&a.mode&1){var b=Cf(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Df(b,o,a,i,e),Tu(Vr(l,a));break e}}i=l=Vr(l,a),ye!==4&&(ye=2),As===null?As=[i]:As.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Xg(i,l,e);bf(i,g);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(dn===null||!dn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=em(i,a,e);bf(i,_);break e}}i=i.return}while(i!==null)}wm(n)}catch(A){e=A,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function ym(){var t=Lo.current;return Lo.current=Oo,t===null?Oo:t}function Yu(){(ye===0||ye===3||ye===2)&&(ye=4),_e===null||!(qn&268435455)&&!(wa&268435455)||Zt(_e,Se)}function Bo(t,e){var n=G;G|=2;var r=ym();(_e!==t||Se!==e)&&(Tt=null,Bn(t,e));do try{sb();break}catch(s){mm(t,s)}while(!0);if(Nu(),G=n,Lo.current=r,ge!==null)throw Error(T(261));return _e=null,Se=0,ye}function sb(){for(;ge!==null;)vm(ge)}function ib(){for(;ge!==null&&!R0();)vm(ge)}function vm(t){var e=_m(t.alternate,t,Ye);t.memoizedProps=t.pendingProps,e===null?wm(t):ge=e,Vu.current=null}function wm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kw(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,ge=null;return}}else if(n=Zw(n,e,Ye),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);ye===0&&(ye=5)}function Tn(t,e,n){var r=Y,s=ot.transition;try{ot.transition=null,Y=1,ob(t,e,n,r)}finally{ot.transition=s,Y=r}return null}function ob(t,e,n,r){do Ir();while(tn!==null);if(G&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(B0(t,i),t===_e&&(ge=_e=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pi||(Pi=!0,xm(_o,function(){return Ir(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=Y;Y=1;var a=G;G|=4,Vu.current=null,eb(t,n),hm(n,t),Aw(dc),So=!!uc,dc=uc=null,t.current=n,tb(n),N0(),G=a,Y=o,ot.transition=i}else t.current=n;if(Pi&&(Pi=!1,tn=t,$o=s),i=t.pendingLanes,i===0&&(dn=null),M0(n.stateNode),Qe(t,he()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uo)throw Uo=!1,t=Nc,Nc=null,t;return $o&1&&t.tag!==0&&Ir(),i=t.pendingLanes,i&1?t===jc?Cs++:(Cs=0,jc=t):Cs=0,xn(),null}function Ir(){if(tn!==null){var t=Xp($o),e=ot.transition,n=Y;try{if(ot.transition=null,Y=16>t?16:t,tn===null)var r=!1;else{if(t=tn,tn=null,$o=0,G&6)throw Error(T(331));var s=G;for(G|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:ks(8,u,i)}var f=u.child;if(f!==null)f.return=u,M=f;else for(;M!==null;){u=M;var h=u.sibling,p=u.return;if(um(u),u===c){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ks(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,M=g;break e}M=i.return}}var m=t.current;for(M=m;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:va(9,a)}}catch(A){de(a,a.return,A)}if(a===o){M=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,M=_;break e}M=a.return}}if(G=s,xn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ua,t)}catch{}r=!0}return r}finally{Y=n,ot.transition=e}}return!1}function zf(t,e,n){e=Vr(n,e),e=Xg(t,e,1),t=un(t,e,1),e=Le(),t!==null&&(li(t,1,e),Qe(t,e))}function de(t,e,n){if(t.tag===3)zf(t,t,n);else for(;e!==null;){if(e.tag===3){zf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){t=Vr(n,t),t=em(e,t,1),e=un(e,t,1),t=Le(),e!==null&&(li(e,1,t),Qe(e,t));break}}e=e.return}}function ab(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(Se&n)===n&&(ye===4||ye===3&&(Se&130023424)===Se&&500>he()-Gu?Bn(t,0):Wu|=n),Qe(t,e)}function bm(t,e){e===0&&(t.mode&1?(e=ki,ki<<=1,!(ki&130023424)&&(ki=4194304)):e=1);var n=Le();t=Ut(t,e),t!==null&&(li(t,e,n),Qe(t,n))}function lb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bm(t,n)}function cb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),bm(t,n)}var _m;_m=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)Ve=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ve=!1,Jw(t,e,n);Ve=!!(t.flags&131072)}else Ve=!1,re&&e.flags&1048576&&kg(e,Ro,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;io(t,e),t=e.pendingProps;var s=Br(e,je.current);jr(e,n),s=$u(null,e,r,t,s,n);var i=Bu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qe(r)?(i=!0,Do(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mu(e),s.updater=ya,e.stateNode=s,s._reactInternals=e,bc(e,r,t,n),e=Sc(null,e,r,!0,i,n)):(e.tag=0,re&&i&&Cu(e),Pe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(io(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=db(r),t=ft(r,t),s){case 0:e=xc(null,e,r,t,n);break e;case 1:e=Nf(null,e,r,t,n);break e;case 11:e=Tf(null,e,r,t,n);break e;case 14:e=Rf(null,e,r,ft(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),xc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),Nf(t,e,r,s,n);case 3:e:{if(sm(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Ng(t,e),Io(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vr(Error(T(423)),e),e=jf(t,e,r,n,s);break e}else if(r!==s){s=Vr(Error(T(424)),e),e=jf(t,e,r,n,s);break e}else for(Je=cn(e.stateNode.containerInfo.firstChild),Ze=e,re=!0,gt=null,n=Tg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===s){e=$t(t,e,n);break e}Pe(t,e,r,n)}e=e.child}return e;case 5:return jg(e),t===null&&yc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fc(r,s)?o=null:i!==null&&fc(r,i)&&(e.flags|=32),rm(t,e),Pe(t,e,o,n),e.child;case 6:return t===null&&yc(e),null;case 13:return im(t,e,n);case 4:return Pu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hr(e,null,r,n):Pe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),Tf(t,e,r,s,n);case 7:return Pe(t,e,e.pendingProps,n),e.child;case 8:return Pe(t,e,e.pendingProps.children,n),e.child;case 12:return Pe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(No,r._currentValue),r._currentValue=o,i!==null)if(wt(i.value,o)){if(i.children===s.children&&!Ge.current){e=$t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Pt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,jr(e,n),s=lt(s),r=r(s),e.flags|=1,Pe(t,e,r,n),e.child;case 14:return r=e.type,s=ft(r,e.pendingProps),s=ft(r.type,s),Rf(t,e,r,s,n);case 15:return tm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),io(t,e),e.tag=1,qe(r)?(t=!0,Do(e)):t=!1,jr(e,n),Kg(e,r,s),bc(e,r,s,n),Sc(null,e,r,!0,t,n);case 19:return om(t,e,n);case 22:return nm(t,e,n)}throw Error(T(156,e.tag))};function xm(t,e){return Yp(t,e)}function ub(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new ub(t,e,n,r)}function Ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function db(t){if(typeof t=="function")return Ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gu)return 11;if(t===mu)return 14}return 2}function hn(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ju(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mr:return zn(n.children,s,i,e);case pu:o=8,s|=8;break;case Vl:return t=it(12,n,e,s|2),t.elementType=Vl,t.lanes=i,t;case Wl:return t=it(13,n,e,s),t.elementType=Wl,t.lanes=i,t;case Gl:return t=it(19,n,e,s),t.elementType=Gl,t.lanes=i,t;case jp:return ba(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rp:o=10;break e;case Np:o=9;break e;case gu:o=11;break e;case mu:o=14;break e;case qt:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=it(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zn(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function ba(t,e,n,r){return t=it(22,t,r,e),t.elementType=jp,t.lanes=n,t.stateNode={isHidden:!1},t}function gl(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function ml(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zu(t,e,n,r,s,i,o,a,l){return t=new fb(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(i),t}function hb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sm(t){if(!t)return yn;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(qe(n))return Sg(t,n,e)}return e}function Em(t,e,n,r,s,i,o,a,l){return t=Zu(n,r,!0,t,s,i,o,a,l),t.context=Sm(null),n=t.current,r=Le(),s=fn(n),i=Pt(r,s),i.callback=e??null,un(n,i,s),t.current.lanes=s,li(t,s,r),Qe(t,r),t}function _a(t,e,n,r){var s=e.current,i=Le(),o=fn(s);return n=Sm(n),e.context===null?e.context=n:e.pendingContext=n,e=Pt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=un(s,e,o),t!==null&&(yt(t,s,o,i),no(t,s,o)),o}function zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ku(t,e){Hf(t,e),(t=t.alternate)&&Hf(t,e)}function pb(){return null}var km=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}xa.prototype.render=Xu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));_a(t,e,null,null)};xa.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qn(function(){_a(null,t,null,null)}),e[Lt]=null}};function xa(t){this._internalRoot=t}xa.prototype.unstable_scheduleHydration=function(t){if(t){var e=ng();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jt.length&&e!==0&&e<Jt[n].priority;n++);Jt.splice(n,0,t),n===0&&sg(t)}};function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ff(){}function gb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=zo(o);i.call(c)}}var o=Em(e,r,t,0,null,!1,!1,"",Ff);return t._reactRootContainer=o,t[Lt]=o.current,Ws(t.nodeType===8?t.parentNode:t),Qn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=zo(l);a.call(c)}}var l=Zu(t,0,!1,null,null,!1,!1,"",Ff);return t._reactRootContainer=l,t[Lt]=l.current,Ws(t.nodeType===8?t.parentNode:t),Qn(function(){_a(e,l,n,r)}),l}function Ea(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zo(o);a.call(l)}}_a(e,o,t,s)}else o=gb(n,e,t,s,r);return zo(o)}eg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ms(e.pendingLanes);n!==0&&(wu(e,n|1),Qe(e,he()),!(G&6)&&(Wr=he()+500,xn()))}break;case 13:Qn(function(){var r=Ut(t,1);if(r!==null){var s=Le();yt(r,t,1,s)}}),Ku(t,1)}};bu=function(t){if(t.tag===13){var e=Ut(t,134217728);if(e!==null){var n=Le();yt(e,t,134217728,n)}Ku(t,134217728)}};tg=function(t){if(t.tag===13){var e=fn(t),n=Ut(t,e);if(n!==null){var r=Le();yt(n,t,e,r)}Ku(t,e)}};ng=function(){return Y};rg=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};nc=function(t,e,n){switch(e){case"input":if(Yl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pa(r);if(!s)throw Error(T(90));Mp(r),Yl(r,s)}}}break;case"textarea":Op(t,n);break;case"select":e=n.value,e!=null&&Dr(t,!!n.multiple,e,!1)}};Fp=qu;Vp=Qn;var mb={usingClientEntryPoint:!1,Events:[ui,br,pa,zp,Hp,qu]},fs={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yb={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qp(t),t===null?null:t.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{ua=Oi.inject(yb),Et=Oi}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(e))throw Error(T(200));return hb(t,e,null,n)};et.createRoot=function(t,e){if(!ed(t))throw Error(T(299));var n=!1,r="",s=km;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zu(t,1,!1,null,null,n,!1,r,s),t[Lt]=e.current,Ws(t.nodeType===8?t.parentNode:t),new Xu(e)};et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=qp(e),t=t===null?null:t.stateNode,t};et.flushSync=function(t){return Qn(t)};et.hydrate=function(t,e,n){if(!Sa(e))throw Error(T(200));return Ea(null,t,e,!0,n)};et.hydrateRoot=function(t,e,n){if(!ed(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=km;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Em(e,null,t,1,n??null,s,!1,i,o),t[Lt]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xa(e)};et.render=function(t,e,n){if(!Sa(e))throw Error(T(200));return Ea(null,t,e,!1,n)};et.unmountComponentAtNode=function(t){if(!Sa(t))throw Error(T(40));return t._reactRootContainer?(Qn(function(){Ea(null,null,t,!1,function(){t._reactRootContainer=null,t[Lt]=null})}),!0):!1};et.unstable_batchedUpdates=qu;et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sa(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Ea(t,e,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function Am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Am)}catch(t){console.error(t)}}Am(),Ap.exports=et;var Ho=Ap.exports,Vf=Ho;Hl.createRoot=Vf.createRoot,Hl.hydrateRoot=Vf.hydrateRoot;let vb={data:""},wb=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vb,bb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_b=/\/\*[^]*?\*\/|  +/g,Wf=/\n+/g,Kt=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Kt(o,i):i+"{"+Kt(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Kt(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Kt.p?Kt.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Ct={},Cm=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Cm(t[n]);return e}return t},xb=(t,e,n,r,s)=>{let i=Cm(t),o=Ct[i]||(Ct[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Ct[o]){let l=i!==t?t:(c=>{let u,f,h=[{}];for(;u=bb.exec(c.replace(_b,""));)u[4]?h.shift():u[3]?(f=u[3].replace(Wf," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(Wf," ").trim();return h[0]})(t);Ct[o]=Kt(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Ct.g?Ct.g:null;return n&&(Ct.g=Ct[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Ct[o],e,r,a),o},Sb=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Kt(a,""):a===!1?"":a}return r+s+(o??"")},"");function ka(t){let e=this||{},n=t.call?t(e.p):t;return xb(n.unshift?n.raw?Sb(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,wb(e.target),e.g,e.o,e.k)}let Dm,Pc,Oc;ka.bind({g:1});let Bt=ka.bind({k:1});function Eb(t,e,n,r){Kt.p=e,Dm=t,Pc=n,Oc=r}function Sn(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Pc&&Pc()},a),n.o=/ *go\d+/.test(l),a.className=ka.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Oc&&c[0]&&Oc(a),Dm(c,a)}return s}}var kb=t=>typeof t=="function",Fo=(t,e)=>kb(t)?t(e):t,Ab=(()=>{let t=0;return()=>(++t).toString()})(),Tm=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Cb=20,Rm=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Cb)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return Rm(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},co=[],Un={toasts:[],pausedAt:void 0},Xn=t=>{Un=Rm(Un,t),co.forEach(e=>{e(Un)})},Db={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Tb=(t={})=>{let[e,n]=j.useState(Un),r=j.useRef(Un);j.useEffect(()=>(r.current!==Un&&n(Un),co.push(n),()=>{let i=co.indexOf(n);i>-1&&co.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||Db[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},Rb=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Ab()}),fi=t=>(e,n)=>{let r=Rb(e,t,n);return Xn({type:2,toast:r}),r.id},Oe=(t,e)=>fi("blank")(t,e);Oe.error=fi("error");Oe.success=fi("success");Oe.loading=fi("loading");Oe.custom=fi("custom");Oe.dismiss=t=>{Xn({type:3,toastId:t})};Oe.remove=t=>Xn({type:4,toastId:t});Oe.promise=(t,e,n)=>{let r=Oe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Fo(e.success,s):void 0;return i?Oe.success(i,{id:r,...n,...n==null?void 0:n.success}):Oe.dismiss(r),s}).catch(s=>{let i=e.error?Fo(e.error,s):void 0;i?Oe.error(i,{id:r,...n,...n==null?void 0:n.error}):Oe.dismiss(r)}),t};var Nb=(t,e)=>{Xn({type:1,toast:{id:t,height:e}})},jb=()=>{Xn({type:5,time:Date.now()})},Ds=new Map,Ib=1e3,Mb=(t,e=Ib)=>{if(Ds.has(t))return;let n=setTimeout(()=>{Ds.delete(t),Xn({type:4,toastId:t})},e);Ds.set(t,n)},Pb=t=>{let{toasts:e,pausedAt:n}=Tb(t);j.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Oe.dismiss(a.id);return}return setTimeout(()=>Oe.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=j.useCallback(()=>{n&&Xn({type:6,time:Date.now()})},[n]),s=j.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=u.findIndex(p=>p.id===i.id),h=u.filter((p,y)=>y<f&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,y)=>p+(y.height||0)+l,0)},[e]);return j.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Mb(i.id,i.removeDelay);else{let o=Ds.get(i.id);o&&(clearTimeout(o),Ds.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Nb,startPause:jb,endPause:r,calculateOffset:s}}},Ob=Bt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Lb=Bt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ub=Bt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$b=Sn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ob} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lb} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ub} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Bb=Bt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zb=Sn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Bb} 1s linear infinite;
`,Hb=Bt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Fb=Bt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Vb=Sn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Fb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Wb=Sn("div")`
  position: absolute;
`,Gb=Sn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qb=Bt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qb=Sn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Yb=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(Qb,null,e):e:n==="blank"?null:j.createElement(Gb,null,j.createElement(zb,{...r}),n!=="loading"&&j.createElement(Wb,null,n==="error"?j.createElement($b,{...r}):j.createElement(Vb,{...r})))},Jb=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zb=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Kb="0%{opacity:0;} 100%{opacity:1;}",Xb="0%{opacity:1;} 100%{opacity:0;}",e_=Sn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,t_=Sn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,n_=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Tm()?[Kb,Xb]:[Jb(n),Zb(n)];return{animation:e?`${Bt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},r_=j.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?n_(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(Yb,{toast:t}),o=j.createElement(t_,{...t.ariaProps},Fo(t.message,t));return j.createElement(e_,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):j.createElement(j.Fragment,null,i,o))});Eb(j.createElement);var s_=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:i,className:e,style:n},s)},i_=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Tm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},o_=ka`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Li=16,a_=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=Pb(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Li,left:Li,right:Li,bottom:Li,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=i_(u,f);return j.createElement(s_,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?o_:"",style:h},c.type==="custom"?Fo(c.message,c):s?s(c):j.createElement(r_,{toast:c,position:u}))}))},U=Oe;const l_="modulepreload",c_=function(t){return"/"+t},Gf={},hi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=c_(l),l in Gf)return;Gf[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":l_,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},u_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hi(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class td extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class d_ extends td{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class f_ extends td{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class h_ extends td{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lc||(Lc={}));var p_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class g_{constructor(e,{headers:n={},customFetch:r,region:s=Lc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=u_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return p_(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new d_(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new f_(u);if(!u.ok)throw new h_(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},nd={},Aa={},pi={},Ca={},Da={},m_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gr=m_();const y_=Gr.fetch,Nm=Gr.fetch.bind(Gr),jm=Gr.Headers,v_=Gr.Request,w_=Gr.Response,Xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:jm,Request:v_,Response:w_,default:Nm,fetch:y_},Symbol.toStringTag,{value:"Module"})),b_=Gv(Xr);var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});let __=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ta.default=__;var Im=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Da,"__esModule",{value:!0});const x_=Im(b_),S_=Im(Ta);let E_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=x_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&w===""?(h=204,p="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new S_.default(c)}return{error:c,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Da.default=E_;var k_=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});const A_=k_(Da);let C_=class extends A_.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ca.default=C_;var D_=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});const T_=D_(Ca);let R_=class extends T_.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};pi.default=R_;var N_=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Aa,"__esModule",{value:!0});const hs=N_(pi);let j_=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new hs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new hs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new hs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Aa.default=j_;var Ra={},Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.version=void 0;Na.version="0.0.0-automated";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.DEFAULT_HEADERS=void 0;const I_=Na;Ra.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${I_.version}`};var Mm=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nd,"__esModule",{value:!0});const M_=Mm(Aa),P_=Mm(pi),O_=Ra;let L_=class Pm{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},O_.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new M_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Pm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new P_.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};nd.default=L_;var es=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const Om=es(nd);Fe.PostgrestClient=Om.default;const Lm=es(Aa);Fe.PostgrestQueryBuilder=Lm.default;const Um=es(pi);Fe.PostgrestFilterBuilder=Um.default;const $m=es(Ca);Fe.PostgrestTransformBuilder=$m.default;const Bm=es(Da);Fe.PostgrestBuilder=Bm.default;const zm=es(Ta);Fe.PostgrestError=zm.default;var U_=Fe.default={PostgrestClient:Om.default,PostgrestQueryBuilder:Lm.default,PostgrestFilterBuilder:Um.default,PostgrestTransformBuilder:$m.default,PostgrestBuilder:Bm.default,PostgrestError:zm.default};const{PostgrestClient:$_,PostgrestQueryBuilder:RT,PostgrestFilterBuilder:NT,PostgrestTransformBuilder:jT,PostgrestBuilder:IT,PostgrestError:MT}=U_;let Uc;typeof window>"u"?Uc=require("ws"):Uc=window.WebSocket;const B_="2.11.10",z_={"X-Client-Info":`realtime-js/${B_}`},H_="1.0.0",Hm=1e4,F_=1e3;var Mr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Mr||(Mr={}));var Me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Me||(Me={}));var pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pt||(pt={}));var $c;(function(t){t.websocket="websocket"})($c||($c={}));var In;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(In||(In={}));class V_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Fm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const qf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=W_(o,t,e,s),i),{})},W_=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Vm(i,o):Bc(o)},Vm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Y_(e,n)}switch(t){case Z.bool:return G_(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return q_(e);case Z.json:case Z.jsonb:return Q_(e);case Z.timestamp:return J_(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Bc(e);default:return Bc(e)}},Bc=t=>t,G_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},q_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Y_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Vm(e,a))}return t},J_=t=>typeof t=="string"?t.replace(" ","T"):t,Wm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yl{constructor(e,n,r={},s=Hm){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qf||(Qf={}));class Ts{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ts.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ts.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ts.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const h=u.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),y=u.filter(b=>p.indexOf(b.presence_ref)<0),w=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yf||(Yf={}));var Jf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Jf||(Jf={}));var Rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class rd{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yl(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Fm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ts(this),this.broadcastEndpointURL=Wm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Rt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Rt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(Rt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let w=0;w<p;w++){const b=h[w],{filter:{event:g,schema:m,table:v,filter:_}}=b,A=u&&u[w];if(A&&A.event===g&&A.schema===m&&A.table===v&&A.filter===_)y.push(Object.assign(Object.assign({},b),{id:A.id}));else{this.unsubscribe(),this.state=Me.errored,e==null||e(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Rt.SUBSCRIBED);return}}).receive("error",u=>{this.state=Me.errored,e==null||e(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new yl(this,pt.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yl(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=pt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,b,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,A=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:b,commit_timestamp:g,type:m,errors:v}=y;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&rd.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=qf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=qf(e.columns,e.old_record)),n}}const Zf=()=>{},Z_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K_{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=z_,this.params={},this.timeout=Hm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zf,this.ref=0,this.logger=Zf,this.conn=null,this.sendBuffer=[],this.serializer=new V_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>hi(async()=>{const{default:l}=await Promise.resolve().then(()=>Xr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${$c.websocket}`,this.httpEndpoint=Wm(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Uc),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new X_(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H_}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mr.connecting:return In.Connecting;case Mr.open:return In.Open;case Mr.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new rd(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(pt.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(F_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Z_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class X_{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Mr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class sd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ex extends sd{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zc extends sd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var tx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Gm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hi(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},nx=()=>tx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hi(()=>Promise.resolve().then(()=>Xr),void 0)).Response:Response}),Hc=t=>{if(Array.isArray(t))return t.map(n=>Hc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Hc(r)}),e};var er=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const vl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rx=(t,e,n)=>er(void 0,void 0,void 0,function*(){const r=yield nx();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new ex(vl(s),t.status||500))}).catch(s=>{e(new zc(vl(s),s))}):e(new zc(vl(t),t))}),sx=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function gi(t,e,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,sx(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rx(l,a,r))})})}function Vo(t,e,n,r){return er(this,void 0,void 0,function*(){return gi(t,"GET",e,n,r)})}function Yt(t,e,n,r,s){return er(this,void 0,void 0,function*(){return gi(t,"POST",e,r,s,n)})}function ix(t,e,n,r,s){return er(this,void 0,void 0,function*(){return gi(t,"PUT",e,r,s,n)})}function ox(t,e,n,r){return er(this,void 0,void 0,function*(){return gi(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qm(t,e,n,r,s){return er(this,void 0,void 0,function*(){return gi(t,"DELETE",e,r,s,n)})}var ze=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ax={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lx{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Gm(s)}uploadOrUpdate(e,n,r,s){return ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Kf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Kf.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new sd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}update(e,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ze(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ze(this,void 0,void 0,function*(){try{const s=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}download(e,n){return ze(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Vo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}info(e){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Vo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hc(r),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}exists(e){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ox(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ve(r)&&r instanceof zc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ze(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}list(e,n,r){return ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ax),n),{prefix:e||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const cx="2.7.1",ux={"X-Client-Info":`storage-js/${cx}`};var lr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class dx{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},ux),n),this.fetch=Gm(r)}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ve(e))return{data:null,error:e};throw e}})}getBucket(e){return lr(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return lr(this,void 0,void 0,function*(){try{return{data:yield ix(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}emptyBucket(e){return lr(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}deleteBucket(e){return lr(this,void 0,void 0,function*(){try{return{data:yield qm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}}class fx extends dx{constructor(e,n={},r){super(e,n,r)}from(e){return new lx(this.url,this.headers,e,this.fetch)}}const hx="2.50.0";let vs="";typeof Deno<"u"?vs="deno":typeof document<"u"?vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vs="react-native":vs="node";const px={"X-Client-Info":`supabase-js-${vs}/${hx}`},gx={headers:px},mx={schema:"public"},yx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vx={};var wx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=Nm:e=fetch,(...n)=>e(...n)},_x=()=>typeof Headers>"u"?jm:Headers,xx=(t,e,n)=>{const r=bx(n),s=_x();return(i,o)=>wx(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Sx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Ex(t){return t.endsWith("/")?t:t+"/"}function kx(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Sx(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Qm="2.70.0",hr=30*1e3,Fc=3,wl=Fc*hr,Ax="http://localhost:9999",Cx="supabase.auth.token",Dx={"X-Client-Info":`gotrue-js/${Qm}`},Vc="X-Supabase-Api-Version",Ym={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rx=6e5;class id extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nx extends id{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jx(t){return B(t)&&t.name==="AuthApiError"}class Jm extends id{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class En extends id{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Gt extends En{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ix(t){return B(t)&&t.name==="AuthSessionMissingError"}class Ui extends En{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $i extends En{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bi extends En{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mx(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xf extends En{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wc extends En{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bl(t){return B(t)&&t.name==="AuthRetryableFetchError"}class eh extends En{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Rs extends En{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),th=` 	
\r=`.split(""),Px=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<th.length;e+=1)t[th[e].charCodeAt(0)]=-2;for(let e=0;e<Wo.length;e+=1)t[Wo[e].charCodeAt(0)]=e;return t})();function nh(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Wo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Wo[r]),e.queuedBits-=6}}function Zm(t,e,n){const r=Px[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rh(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ux(o,r,n)};for(let o=0;o<t.length;o+=1)Zm(t.charCodeAt(o),s,i);return e.join("")}function Ox(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lx(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Ox(r,e)}}function Ux(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $x(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Zm(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Bx(t){const e=[];return Lx(t,n=>e.push(n)),new Uint8Array(e)}function zx(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>nh(s,n,r)),nh(null,n,r),e.join("")}function Hx(t){return Math.round(Date.now()/1e3)+t}function Fx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const dt=()=>typeof window<"u"&&typeof document<"u",Cn={tested:!1,writable:!1},Ns=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cn.tested)return Cn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cn.tested=!0,Cn.writable=!0}catch{Cn.tested=!0,Cn.writable=!1}return Cn.writable};function Vx(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Km=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hi(async()=>{const{default:r}=await Promise.resolve().then(()=>Xr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Wx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xm=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},zi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hi=async(t,e)=>{await t.removeItem(e)};class ja{constructor(){this.promise=new ja.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ja.promiseConstructor=Promise;function _l(t){const e=t.split(".");if(e.length!==3)throw new Rs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Tx.test(e[r]))throw new Rs("JWT not in base64url format");return{header:JSON.parse(rh(e[0])),payload:JSON.parse(rh(e[1])),signature:$x(e[2]),raw:{header:e[0],payload:e[1]}}}async function Gx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qx(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Qx(t){return("0"+t.toString(16)).substr(-2)}function Yx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Qx).join("")}async function Jx(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Zx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Jx(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(t,e,n=!1){const r=Yx();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xm(t,`${e}-code-verifier`,s);const i=await Zx(r);return[i,r===i?"plain":"s256"]}const Kx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xx(t){const e=t.headers.get(Vc);if(!e||!e.match(Kx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ur(t){if(!nS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var rS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Rn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sS=[502,503,504];async function sh(t){var e;if(!Wx(t))throw new Wc(Rn(t),0);if(sS.includes(t.status))throw new Wc(Rn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Jm(Rn(i),i)}let r;const s=Xx(t);if(s&&s.getTime()>=Ym["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eh(Rn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new eh(Rn(n),t.status,n.weak_password.reasons);throw new Nx(Rn(n),t.status||500,r)}const iS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Vc]||(i[Vc]=Ym["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await oS(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function oS(t,e,n,r,s,i){const o=iS(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Wc(Rn(l),0)}if(a.ok||await sh(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await sh(l)}}function Dt(t){var e;let n=null;uS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Hx(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ih(t){const e=Dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aS(t){return{data:t,error:null}}function lS(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=rS(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cS(t){return t}function uS(t){return t.access_token&&t.refresh_token&&t.expires_in}const xl=["global","local","others"];var dS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class fS{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Km(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=xl[0]){if(xl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dS(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cS});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ur(e);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ur(e);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ur(e);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ur(e.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ur(e.userId),ur(e.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}const hS={getItem:t=>Ns()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ns()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ns()&&globalThis.localStorage.removeItem(t)}};function oh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function pS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dr={debug:!!(globalThis&&Ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ey extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gS extends ey{}async function mS(t,e,n){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}pS();const yS={url:Ax,storageKey:Cx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ah(t,e,n){return await n()}class ei{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ei.nextInstanceID,ei.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},yS),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Km(s.fetch),this.lock=s.lock||ah,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mS:this.lock=ah,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ns()?this.storage=hS:(this.memoryStorage={},this.storage=oh(this.memoryStorage)):(this.memoryStorage={},this.storage=oh(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Vx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Mx(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Jm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await cr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Dt})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dt})}else throw new $i("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ih})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ih})}else throw new $i("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ui}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,u,f,h,p;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:g,statement:m,options:v}=e;let _;if(dt())if(typeof g=="object")_=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const A=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),m?{statement:m}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),w=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${A.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=C}}try{const{data:b,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:zx(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Dt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ui}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(B(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await zi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Dt});if(await Hi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ui}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ui}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await cr(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new $i("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cr(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:aS})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Gt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new $i("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<wl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xt})})}catch(n){if(B(n))return Ix(n)&&(await this._removeSession(),await Hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Gt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await cr(this.storage,this.storageKey));const{data:c,error:u}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=_l(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!dt())throw new Bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xf("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Bi("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jx(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Fx(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await cr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return dt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qx(async s=>(s>0&&await Gx(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&bl(i)&&Date.now()+o-r<hr})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await zi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<wl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${wl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),bl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ja;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return bl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xm(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Hi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hr}ms, refresh threshold is ${Fc} ticks`),s<=Fc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ey)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_l(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Rx>Date.now()))return r;const{data:s,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Rs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Rs("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=_l(r);if(eS(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=tS(s.alg),u=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Bx(`${a}.${l}`)))throw new Rs("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ei.nextInstanceID=0;const vS=ei;class wS extends vS{constructor(e){super(e)}}var bS=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class _S{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Ex(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:mx,realtime:vx,auth:Object.assign(Object.assign({},yx),{storageKey:c}),global:gx},f=kx(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=xx(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new $_(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new g_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fx(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return bS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wS({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new K_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xS=(t,e,n)=>new _S(t,e,n),Gc="https://wbidcwayzqhvwmktgzgd.supabase.co",qc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndiaWRjd2F5enFodndta3RnemdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MDg2MDIsImV4cCI6MjA2NjI4NDYwMn0.TKCQCUVJ-PpBvbWBUVS3ROmcSDJZ8TJ1GHHzw7eH9oA",ke=xS(Gc,qc,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"endometriosis-tracker"}}}),SS=async()=>{try{if(!Gc||!qc||Gc.includes("placeholder")||qc.includes("placeholder")){console.warn("⚠️ Supabase not configured - using placeholder values");return}const{error:t}=await ke.from("symptom_entries").select("count").limit(1);t?(console.error("❌ Supabase connection failed:",t.message),t.message.includes("relation")&&t.message.includes("does not exist")&&console.error("💡 Tables may not exist. Please run migrations in Supabase dashboard.")):console.log("✅ Supabase connected successfully")}catch(t){console.error("❌ Supabase connection test failed:",t)}};SS();const ES=async(t,e)=>{const{data:n,error:r}=await ke.auth.signUp({email:t,password:e,options:{emailRedirectTo:window.location.origin}});if(r)throw r;return n},kS=async(t,e)=>{const{data:n,error:r}=await ke.auth.signInWithPassword({email:t,password:e});if(r)throw r;return n},AS=async()=>{const{data:t,error:e}=await ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(e)throw e;return t},CS=async()=>{const{error:t}=await ke.auth.signOut();if(t)throw t},DS=async()=>{const{data:{user:t},error:e}=await ke.auth.getUser();return e?(console.error("Error getting current user:",e),null):t},TS=t=>ke.auth.onAuthStateChange((e,n)=>{t((n==null?void 0:n.user)??null)}),RS=async()=>{console.log("🔍 Testing Supabase connection...");const t=[];let e=!1,n=!1;const r="https://wbidcwayzqhvwmktgzgd.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndiaWRjd2F5enFodndta3RnemdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MDg2MDIsImV4cCI6MjA2NjI4NDYwMn0.TKCQCUVJ-PpBvbWBUVS3ROmcSDJZ8TJ1GHHzw7eH9oA";if(r.includes("your-project")||r.includes("placeholder"))return t.push("VITE_SUPABASE_URL is not properly configured in .env file"),{connected:!1,tablesExist:!1,errors:t};if(s.includes("your-anon-key")||s.includes("placeholder"))return t.push("VITE_SUPABASE_ANON_KEY is not properly configured in .env file"),{connected:!1,tablesExist:!1,errors:t};try{console.log("🌐 Testing basic connection...");const{data:o,error:a}=await ke.from("symptom_entries").select("count").limit(1);if(a?(console.error("❌ Connection test failed:",a),a.message.includes("relation")&&a.message.includes("does not exist")?(t.push("Tables do not exist in database. Please run migrations."),e=!0):a.message.includes("JWT")?t.push("Authentication error. Check your Supabase anon key."):a.message.includes("Invalid API key")?t.push("Invalid Supabase API key. Check your configuration."):t.push(`Connection failed: ${a.message}`)):(console.log("✅ Basic connection successful"),e=!0),e){console.log("📊 Testing table existence...");const l=await Promise.allSettled([Go("symptom_entries"),Go("user_progress")]),c=l[0].status==="fulfilled"&&l[0].value,u=l[1].status==="fulfilled"&&l[1].value;n=c&&u,c||t.push("symptom_entries table does not exist"),u||t.push("user_progress table does not exist"),n?console.log("✅ All tables exist and accessible"):console.warn("⚠️ Some tables are missing or inaccessible")}}catch(o){console.error("❌ Unexpected error during connection test:",o),t.push(`Unexpected error: ${o}`)}const i={connected:e,tablesExist:n,errors:t};return console.log("🏁 Connection test complete:",i),i},Go=async t=>{try{const{error:e}=await ke.from(t).select("count").limit(1);return e?(console.error(`❌ Table ${t} check failed:`,e.message),!1):(console.log(`✅ Table ${t} exists and accessible`),!0)}catch(e){return console.error(`❌ Error checking table ${t}:`,e),!1}},ty=async()=>{console.log("🚀 Starting table verification...");const t=[];let e=!1,n=!1;try{const r="https://wbidcwayzqhvwmktgzgd.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndiaWRjd2F5enFodndta3RnemdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MDg2MDIsImV4cCI6MjA2NjI4NDYwMn0.TKCQCUVJ-PpBvbWBUVS3ROmcSDJZ8TJ1GHHzw7eH9oA";if(!r||r.includes("your-project")||r.includes("placeholder"))return t.push("Supabase URL not configured. Please check your .env file."),{success:!1,symptomEntriesExists:e,userProgressExists:n,errors:t};if(!s||s.includes("your-anon-key")||s.includes("placeholder"))return t.push("Supabase anon key not configured. Please check your .env file."),{success:!1,symptomEntriesExists:e,userProgressExists:n,errors:t};console.log("🔍 Checking table existence..."),e=await Go("symptom_entries"),n=await Go("user_progress");const i=e&&n;return i?console.log("✅ All tables verified successfully!"):(console.warn("⚠️ Some tables are missing."),e||t.push("symptom_entries table is missing"),n||t.push("user_progress table is missing")),{success:i,symptomEntriesExists:e,userProgressExists:n,errors:t}}catch(r){return console.error("❌ Error during table verification:",r),t.push(`Table verification failed: ${r}`),{success:!1,symptomEntriesExists:e,userProgressExists:n,errors:t}}},NS=async()=>{console.log("🎯 Initializing Supabase schema...");const t="https://wbidcwayzqhvwmktgzgd.supabase.co",e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndiaWRjd2F5enFodndta3RnemdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MDg2MDIsImV4cCI6MjA2NjI4NDYwMn0.TKCQCUVJ-PpBvbWBUVS3ROmcSDJZ8TJ1GHHzw7eH9oA";if(t.includes("your-project")||t.includes("placeholder")){console.error(`
❌ SUPABASE URL NOT CONFIGURED

Please update your .env file with your actual Supabase URL:
VITE_SUPABASE_URL=https://your-project-ref.supabase.co

You can find this in your Supabase Dashboard > Settings > API
    `);return}if(e.includes("your-anon-key")||e.includes("placeholder")){console.error(`
❌ SUPABASE ANON KEY NOT CONFIGURED

Please update your .env file with your actual Supabase anon key:
VITE_SUPABASE_ANON_KEY=your-actual-anon-key

You can find this in your Supabase Dashboard > Settings > API
    `);return}const n=await ty();n.success?console.log("🎉 Supabase schema initialized successfully!"):(console.error("❌ Schema initialization failed:",n.errors),n.errors.some(r=>r.includes("missing"))&&console.error(`
🚨 MISSING TABLES DETECTED

Please run the following SQL in your Supabase SQL Editor:

1. Go to your Supabase Dashboard
2. Navigate to SQL Editor
3. Run the migration files in order:
   - supabase/migrations/20250623202408_mute_block.sql
   - supabase/migrations/20250623202420_green_tree.sql  
   - supabase/migrations/20250623202427_silver_shape.sql

Or copy the SQL from these files and run them manually.
      `))};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>j.createElement("svg",{ref:u,...jS,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${IS(t)}`,a].join(" "),...c},[...e.map(([f,h])=>j.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=J("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=J("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=J("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=J("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=J("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=J("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=J("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=J("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=J("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=J("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),QS=()=>{const[t,e]=j.useState(!0),[n,r]=j.useState(""),[s,i]=j.useState(""),[o,a]=j.useState(!1),l=async u=>{u.preventDefault(),a(!0);try{if(t)await kS(n,s),U.success("Welcome back!");else{const{user:f}=await ES(n,s);f&&!f.email_confirmed_at?U.success("Please check your email to confirm your account!"):U.success("Account created successfully!")}}catch(f){console.error("Auth error:",f),U.error(f.message||"Authentication failed")}finally{a(!1)}},c=async()=>{a(!0);try{await AS(),U.success("Welcome!")}catch(u){console.error("Google auth error:",u),U.error(u.message||"Google authentication failed")}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(qo,{className:"h-12 w-12 text-primary-600"})}),d.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Endometriosis Tracker"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Track your symptoms and take control of your health"}),d.jsx("p",{className:"mt-1 text-xs text-blue-600 font-medium",children:"Powered by Supabase"})]}),d.jsxs("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:[d.jsxs("form",{className:"space-y-6",onSubmit:l,children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),d.jsxs("div",{className:"relative",children:[d.jsx(US,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"input-field pl-10",placeholder:"Email address",value:n,onChange:u=>r(u.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(OS,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),d.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"input-field pl-10",placeholder:"Password",value:s,onChange:u=>i(u.target.value)})]})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary disabled:opacity-50",children:o?"Please wait...":t?"Sign In":"Sign Up"})}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),d.jsx("div",{children:d.jsxs("button",{type:"button",onClick:c,disabled:o,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[d.jsx(WS,{className:"h-5 w-5 mr-2"}),"Google"]})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})};var Ia,L,sy,iy,qr,Mn,fh,oy,ay,Qo={},ly=[],YS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function nn(t,e){for(var n in e)t[n]=e[n];return t}function cy(t){var e=t.parentNode;e&&e.removeChild(t)}function S(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?Ia.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return fo(t,o,r,s,null)}function fo(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++sy};return s==null&&L.vnode!=null&&L.vnode(i),i}function zt(){return{current:null}}function fe(t){return t.children}function JS(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||Yo(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||Yo(t,i,e[i],n[i],r)}function hh(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||YS.test(e)?n:n+"px"}function Yo(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||hh(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||hh(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?gh:ph,i):t.removeEventListener(e,i?gh:ph,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function ph(t){qr=!0;try{return this.l[t.type+!1](L.event?L.event(t):t)}finally{qr=!1}}function gh(t){qr=!0;try{return this.l[t.type+!0](L.event?L.event(t):t)}finally{qr=!1}}function Ke(t,e){this.props=t,this.context=e}function ni(t,e){if(e==null)return t.__?ni(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ni(t):null}function uy(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return uy(t)}}function ZS(t){qr?setTimeout(t):oy(t)}function Qc(t){(!t.__d&&(t.__d=!0)&&Mn.push(t)&&!Jo.__r++||fh!==L.debounceRendering)&&((fh=L.debounceRendering)||ZS)(Jo)}function Jo(){var t,e,n,r,s,i,o,a;for(Mn.sort(function(l,c){return l.__v.__b-c.__v.__b});t=Mn.shift();)t.__d&&(e=Mn.length,r=void 0,s=void 0,o=(i=(n=t).__v).__e,(a=n.__P)&&(r=[],(s=nn({},i)).__v=i.__v+1,od(a,i,s,n.__n,a.ownerSVGElement!==void 0,i.__h!=null?[o]:null,r,o??ni(i),i.__h),gy(r,i),i.__e!=o&&uy(i)),Mn.length>e&&Mn.sort(function(l,c){return l.__v.__b-c.__v.__b}));Jo.__r=0}function dy(t,e,n,r,s,i,o,a,l,c){var u,f,h,p,y,w,b,g=r&&r.__k||ly,m=g.length;for(n.__k=[],u=0;u<e.length;u++)if((p=n.__k[u]=(p=e[u])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?fo(null,p,null,null,p):Array.isArray(p)?fo(fe,{children:p},null,null,null):p.__b>0?fo(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(h=g[u])===null||h&&p.key==h.key&&p.type===h.type)g[u]=void 0;else for(f=0;f<m;f++){if((h=g[f])&&p.key==h.key&&p.type===h.type){g[f]=void 0;break}h=null}od(t,p,h=h||Qo,s,i,o,a,l,c),y=p.__e,(f=p.ref)&&h.ref!=f&&(b||(b=[]),h.ref&&b.push(h.ref,null,p),b.push(f,p.__c||y,p)),y!=null?(w==null&&(w=y),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=fy(p,l,t):l=hy(t,p,h,g,y,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=ni(h))}for(n.__e=w,u=m;u--;)g[u]!=null&&(typeof n.type=="function"&&g[u].__e!=null&&g[u].__e==n.__d&&(n.__d=py(r).nextSibling),yy(g[u],g[u]));if(b)for(u=0;u<b.length;u++)my(b[u],b[++u],b[++u])}function fy(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?fy(r,e,n):hy(n,r,r,s,r.__e,e));return e}function Zo(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Zo(n,e)}):e.push(t)),e}function hy(t,e,n,r,s,i){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(s),o=null;else{for(a=i,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==s)break e;t.insertBefore(s,i),o=i}return o!==void 0?o:s.nextSibling}function py(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=py(n)))return r}return null}function od(t,e,n,r,s,i,o,a,l){var c,u,f,h,p,y,w,b,g,m,v,_,A,C,k,E=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(c=L.__b)&&c(e);try{e:if(typeof E=="function"){if(b=e.props,g=(c=E.contextType)&&r[c.__c],m=c?g?g.props.value:c.__:r,n.__c?w=(u=e.__c=n.__c).__=u.__E:("prototype"in E&&E.prototype.render?e.__c=u=new E(b,m):(e.__c=u=new Ke(b,m),u.constructor=E,u.render=XS),g&&g.sub(u),u.props=b,u.state||(u.state={}),u.context=m,u.__n=r,f=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=nn({},u.__s)),nn(u.__s,E.getDerivedStateFromProps(b,u.__s))),h=u.props,p=u.state,u.__v=e,f)E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E.getDerivedStateFromProps==null&&b!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(b,m),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(b,u.__s,m)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=b,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),v=0;v<u._sb.length;v++)u.__h.push(u._sb[v]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(b,u.__s,m),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,p,y)})}if(u.context=m,u.props=b,u.__P=t,_=L.__r,A=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,_&&_(e),c=u.render(u.props,u.state,u.context),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[]}else do u.__d=!1,_&&_(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++A<25);u.state=u.__s,u.getChildContext!=null&&(r=nn(nn({},r),u.getChildContext())),f||u.getSnapshotBeforeUpdate==null||(y=u.getSnapshotBeforeUpdate(h,p)),k=c!=null&&c.type===fe&&c.key==null?c.props.children:c,dy(t,Array.isArray(k)?k:[k],e,n,r,s,i,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),w&&(u.__E=u.__=null),u.__e=!1}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=KS(n.__e,e,n,r,s,i,o,l);(c=L.diffed)&&c(e)}catch(P){e.__v=null,(l||i!=null)&&(e.__e=a,e.__h=!!l,i[i.indexOf(a)]=null),L.__e(P,e,n)}}function gy(t,e){L.__c&&L.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){L.__e(r,n.__v)}})}function KS(t,e,n,r,s,i,o,a){var l,c,u,f=n.props,h=e.props,p=e.type,y=0;if(p==="svg"&&(s=!0),i!=null){for(;y<i.length;y++)if((l=i[y])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,i[y]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),i=null,a=!1}if(p===null)f===h||a&&t.data===h||(t.data=h);else{if(i=i&&Ia.call(t.childNodes),c=(f=n.props||Qo).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(i!=null)for(f={},y=0;y<t.attributes.length;y++)f[t.attributes[y].name]=t.attributes[y].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(JS(t,h,f,s,a),u)e.__k=[];else if(y=e.props.children,dy(t,Array.isArray(y)?y:[y],e,n,r,s&&p!=="foreignObject",i,o,i?i[0]:n.__k&&ni(n,0),a),i!=null)for(y=i.length;y--;)i[y]!=null&&cy(i[y]);a||("value"in h&&(y=h.value)!==void 0&&(y!==t.value||p==="progress"&&!y||p==="option"&&y!==f.value)&&Yo(t,"value",y,f.value,!1),"checked"in h&&(y=h.checked)!==void 0&&y!==t.checked&&Yo(t,"checked",y,f.checked,!1))}return t}function my(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){L.__e(r,n)}}function yy(t,e,n){var r,s;if(L.unmount&&L.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||my(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){L.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&yy(r[s],e,n||typeof t.type!="function");n||t.__e==null||cy(t.__e),t.__=t.__e=t.__d=void 0}function XS(t,e,n){return this.constructor(t,n)}function ri(t,e,n){var r,s,i;L.__&&L.__(t,e),s=(r=!1)?null:e.__k,i=[],od(e,t=e.__k=S(fe,null,[t]),s||Qo,Qo,e.ownerSVGElement!==void 0,s?null:e.firstChild?Ia.call(e.childNodes):null,i,s?s.__e:e.firstChild,r),gy(i,t)}function eE(t,e){var n={__c:e="__cC"+ay++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Qc(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Ia=ly.slice,L={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},sy=0,iy=function(t){return t!=null&&t.constructor===void 0},qr=!1,Ke.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nn({},this.state),typeof t=="function"&&(t=t(nn({},n),this.props)),t&&nn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Qc(this))},Ke.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Qc(this))},Ke.prototype.render=fe,Mn=[],oy=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jo.__r=0,ay=0;var xt,Sl,mh,vy=[],El=[],yh=L.__b,vh=L.__r,wh=L.diffed,bh=L.__c,_h=L.unmount;function tE(){for(var t;t=vy.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ho),t.__H.__h.forEach(Yc),t.__H.__h=[]}catch(e){t.__H.__h=[],L.__e(e,t.__v)}}L.__b=function(t){xt=null,yh&&yh(t)},L.__r=function(t){vh&&vh(t);var e=(xt=t.__c).__H;e&&(Sl===xt?(e.__h=[],xt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=El,n.__N=n.i=void 0})):(e.__h.forEach(ho),e.__h.forEach(Yc),e.__h=[])),Sl=xt},L.diffed=function(t){wh&&wh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(vy.push(e)!==1&&mh===L.requestAnimationFrame||((mh=L.requestAnimationFrame)||nE)(tE)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==El&&(n.__=n.__V),n.i=void 0,n.__V=El})),Sl=xt=null},L.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ho),n.__h=n.__h.filter(function(r){return!r.__||Yc(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],L.__e(r,n.__v)}}),bh&&bh(t,e)},L.unmount=function(t){_h&&_h(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ho(r)}catch(s){e=s}}),n.__H=void 0,e&&L.__e(e,n.__v))};var xh=typeof requestAnimationFrame=="function";function nE(t){var e,n=function(){clearTimeout(r),xh&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);xh&&(e=requestAnimationFrame(n))}function ho(t){var e=xt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),xt=e}function Yc(t){var e=xt;t.__c=t.__(),xt=e}function rE(t,e){for(var n in e)t[n]=e[n];return t}function Sh(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Eh(t){this.props=t}(Eh.prototype=new Ke).isPureReactComponent=!0,Eh.prototype.shouldComponentUpdate=function(t,e){return Sh(this.props,t)||Sh(this.state,e)};var kh=L.__b;L.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),kh&&kh(t)};var sE=L.__e;L.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}sE(t,e,n,r)};var Ah=L.unmount;function wy(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=rE({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return wy(r,e,n)})),t}function by(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return by(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function kl(){this.__u=0,this.t=null,this.__b=null}function _y(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Fi(){this.u=null,this.o=null}L.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ah&&Ah(t)},(kl.prototype=new Ke).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=_y(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=by(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},kl.prototype.componentWillUnmount=function(){this.t=[]},kl.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=wy(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&S(fe,null,t.fallback);return s&&(s.__h=null),[S(fe,null,e.__a?null:t.children),s]};var Ch=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function iE(t){return this.getChildContext=function(){return t.context},t.children}function oE(t){var e=this,n=t.i;e.componentWillUnmount=function(){ri(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),ri(S(iE,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function aE(t,e){var n=S(oE,{__v:t,i:e});return n.containerInfo=e,n}(Fi.prototype=new Ke).__a=function(t){var e=this,n=_y(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),Ch(e,t,r)):s()};n?n(i):i()}},Fi.prototype.render=function(t){this.u=null,this.o=new Map;var e=Zo(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Fi.prototype.componentDidUpdate=Fi.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Ch(t,n,e)})};var lE=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cE=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uE=typeof document<"u",dE=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ke.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ke.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Dh=L.event;function fE(){}function hE(){return this.cancelBubble}function pE(){return this.defaultPrevented}L.event=function(t){return Dh&&(t=Dh(t)),t.persist=fE,t.isPropagationStopped=hE,t.isDefaultPrevented=pE,t.nativeEvent=t};var Th={configurable:!0,get:function(){return this.class}},Rh=L.vnode;L.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var i in r={},n){var o=n[i];uE&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!dE(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&cE.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Zo(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Zo(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(Th.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",Th))}t.$$typeof=lE,Rh&&Rh(t)};var Nh=L.__r;L.__r=function(t){Nh&&Nh(t),t.__c};const xy=[],Jc=new Map;function Sy(t){xy.push(t),Jc.forEach(e=>{ky(e,t)})}function gE(t){t.isConnected&&t.getRootNode&&Ey(t.getRootNode())}function Ey(t){let e=Jc.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=yE();n&&(e.nonce=n);const r=t===document?document.head:t,s=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,s)}Jc.set(t,e),mE(e)}}function mE(t){for(const e of xy)ky(t,e)}function ky(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((s,i)=>{s=s.trim(),s&&n.insertRule(s+"}",r+i)})}let Al;function yE(){return Al===void 0&&(Al=vE()),Al}function vE(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Ey(document);var wE=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Sy(wE);class ad{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function ld(t){t.parentNode&&t.parentNode.removeChild(t)}function Re(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(bE(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function bE(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function _E(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let s=0;s<n.length;s+=1){let i=n[s].querySelectorAll(e);for(let o=0;o<i.length;o+=1)r.push(i[o])}return r}const xE=/(top|left|right|bottom|width|height)$/i;function js(t,e){for(let n in e)Ay(t,n,e[n])}function Ay(t,e,n){n==null?t.style[e]="":typeof n=="number"&&xE.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Cy(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let jh=0;function Ma(){return jh+=1,"fc-dom-"+jh}function Pa(t){t.preventDefault()}function SE(t,e){return n=>{let r=Re(n.target,t);r&&e.call(r,n,r)}}function Dy(t,e,n,r){let s=SE(n,r);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}function EE(t,e,n,r){let s;return Dy(t,"mouseover",e,(i,o)=>{if(o!==s){s=o,n(i,o);let a=l=>{s=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const Ih=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function kE(t,e){let n=r=>{e(r),Ih.forEach(s=>{t.removeEventListener(s,n)})};Ih.forEach(r=>{t.addEventListener(r,n)})}function Ty(t){return Object.assign({onClick:t},Ry(t))}function Ry(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Mh=0;function tr(){return Mh+=1,String(Mh)}function cd(){document.body.classList.add("fc-not-allowed")}function ud(){document.body.classList.remove("fc-not-allowed")}function AE(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Pa)}function CE(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Pa)}function DE(t){t.addEventListener("contextmenu",Pa)}function TE(t){t.removeEventListener("contextmenu",Pa)}function RE(t){let e=[],n=[],r,s;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)s=n[r],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function NE(t,e,n){let r,s;for(r=0;r<n.length;r+=1)if(s=jE(t,e,n[r]),s)return s;return 0}function jE(t,e,n){return n.func?n.func(t,e):IE(t[n.field],e[n.field])*(n.order||1)}function IE(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Cl(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Is(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,s,i)=>r.replace("$"+i,s||""),t):n}function ME(t,e){return t-e}function Dl(t){return t%1===0}function PE(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const OE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function q(t,e){return typeof t=="string"?LE(t):typeof t=="object"&&t?Ph(t):typeof t=="number"?Ph({[e||"milliseconds"]:t}):null}function LE(t){let e=OE.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Ph(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function UE(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function $E(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function BE(t){return Or(t)/365}function zE(t){return Or(t)/30}function Or(t){return si(t)/864e5}function si(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Zc(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function vn(t,e,n){if(t===e)return!0;let r=t.length,s;if(r!==e.length)return!1;for(s=0;s<r;s+=1)if(!(n?n(t[s],e[s]):t[s]===e[s]))return!1;return!0}const HE=["sun","mon","tue","wed","thu","fri","sat"];function Oh(t,e){let n=rn(t);return n[2]+=e*7,We(n)}function Ne(t,e){let n=rn(t);return n[2]+=e,We(n)}function wn(t,e){let n=rn(t);return n[6]+=e,We(n)}function FE(t,e){return ts(t,e)/7}function ts(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function VE(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function WE(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function GE(t,e){return(e.valueOf()-t.valueOf())/1e3}function qE(t,e){let n=se(t),r=se(e);return{years:0,months:0,days:Math.round(ts(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function QE(t,e){let n=Ko(t,e);return n!==null&&n%7===0?n/7:null}function Ko(t,e){return sn(t)===sn(e)?Math.round(ts(t,e)):null}function se(t){return We([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function YE(t){return We([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function JE(t){return We([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function ZE(t){return We([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function KE(t,e,n){let r=t.getUTCFullYear(),s=Tl(t,r,e,n);if(s<1)return Tl(t,r-1,e,n);let i=Tl(t,r+1,e,n);return i>=1?Math.min(s,i):s}function Tl(t,e,n,r){let s=We([e,0,1+XE(e,n,r)]),i=se(t),o=Math.round(ts(s,i));return Math.floor(o/7)+1}function XE(t,e,n){let r=7+e-n;return-((7+We([t,0,r]).getUTCDay()-e)%7)+r-1}function Lh(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function Uh(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function rn(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function We(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Ny(t){return!isNaN(t.valueOf())}function sn(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function ek(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",fd(e,!0)))),r}function dd(t){return t.toISOString().replace(/T.*$/,"")}function tk(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function fd(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=Math.round(r%60);return e?`${n+Cl(s,2)}:${Cl(i,2)}`:`GMT${n}${s}${i?`:${Cl(i,2)}`:""}`}function Q(t,e,n){let r,s;return function(...i){if(!r)s=t.apply(this,i);else if(!vn(r,i)){let o=t.apply(this,i);(!e||!e(o,s))&&(s=o)}return r=i,s}}function po(t,e,n){let r,s;return i=>(r?At(r,i)||(s=t.call(this,i)):s=t.call(this,i),r=i,s)}const Rl={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Xo={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Vi=/\s*([ap])\.?m\.?/i,nk=/,/g,rk=/\s+/g,sk=/\u200e/g,ik=/UTC|GMT/;class ok{constructor(e){let n={},r={},s=9;for(let i in e)i in Rl?(r[i]=e[i],Rl[i]<9&&(s=Math.min(Rl[i],s))):(n[i]=e[i],i in Xo&&(s=Math.min(Xo[i],s)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=s,this.buildFormattingFunc=Q($h)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,s){let{standardDateProps:i,extendedSettings:o}=this,a=fk(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let f=hk(i,l),h=$h(f,o,r),p=h(e),y=h(n),w=pk(c,p,u,y),b=o.separator||s||r.defaultSeparator||"";return w?w.before+p+b+y+w.after:c+b+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function $h(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?s=>fd(s.timeZoneOffset):r===0&&e.week?s=>dk(n.computeWeekNumber(s.marker),n.weekText,n.weekTextLong,n.locale,e.week):ak(t,e,n)}function ak(t,e,n){t=Object.assign({},t),e=Object.assign({},e),lk(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),s;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,s=new Intl.DateTimeFormat(n.locale.codes,i)}return i=>{let{marker:o}=i,a;s&&!o.getUTCMinutes()?a=s:a=r;let l=a.format(o);return ck(l,i,t,e,n)}}function lk(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function ck(t,e,n,r,s){return t=t.replace(sk,""),n.timeZoneName==="short"&&(t=uk(t,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":fd(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(nk,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Vi,"").trim():r.meridiem==="narrow"?t=t.replace(Vi,(i,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Vi,(i,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Vi,i=>i.toLocaleLowerCase())),t=t.replace(rk," "),t=t.trim(),t}function uk(t,e){let n=!1;return t=t.replace(ik,()=>(n=!0,e)),n||(t+=` ${e}`),t}function dk(t,e,n,r,s){let i=[];return s==="long"?i.push(n):(s==="short"||s==="narrow")&&i.push(e),(s==="long"||s==="short")&&i.push(" "),i.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&i.reverse(),i.join("")}function fk(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:sn(t)!==sn(e)?1:0}function hk(t,e){let n={};for(let r in t)(!(r in Xo)||Xo[r]<=e)&&(n[r]=t[r]);return n}function pk(t,e,n,r){let s=0;for(;s<t.length;){let i=t.indexOf(e,s);if(i===-1)break;let o=t.substr(0,i);s=i+e.length;let a=t.substr(s),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let f=n.substr(l);if(o===u&&a===f)return{before:o,after:a}}}return null}function Bh(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function ea(t,e,n,r){let s=Bh(t,n.calendarSystem),i=e?Bh(e,n.calendarSystem):null;return{date:s,start:s,end:i,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class gk{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,ea(e,null,n,r))}formatRange(e,n,r,s){return r.cmdFormatter(this.cmdStr,ea(e,n,r,s))}}class mk{constructor(e){this.func=e}format(e,n,r){return this.func(ea(e,null,n,r))}formatRange(e,n,r,s){return this.func(ea(e,n,r,s))}}function be(t){return typeof t=="object"&&t?new ok(t):typeof t=="string"?new gk(t):typeof t=="function"?new mk(t):null}const zh={navLinkDayClick:x,navLinkWeekClick:x,duration:q,bootstrapFontAwesome:x,buttonIcons:x,customButtons:x,defaultAllDayEventDuration:q,defaultTimedEventDuration:q,nextDayThreshold:q,scrollTime:q,scrollTimeReset:Boolean,slotMinTime:q,slotMaxTime:q,dayPopoverFormat:be,slotDuration:q,snapDuration:q,headerToolbar:x,footerToolbar:x,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:be,dayHeaderClassNames:x,dayHeaderContent:x,dayHeaderDidMount:x,dayHeaderWillUnmount:x,dayCellClassNames:x,dayCellContent:x,dayCellDidMount:x,dayCellWillUnmount:x,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:x,weekNumbers:Boolean,weekNumberClassNames:x,weekNumberContent:x,weekNumberDidMount:x,weekNumberWillUnmount:x,editable:Boolean,viewClassNames:x,viewDidMount:x,viewWillUnmount:x,nowIndicator:Boolean,nowIndicatorClassNames:x,nowIndicatorContent:x,nowIndicatorDidMount:x,nowIndicatorWillUnmount:x,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:x,locale:x,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:x,eventOrder:RE,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:x,contentHeight:x,direction:String,weekNumberFormat:be,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:x,initialDate:x,now:x,eventDataTransform:x,stickyHeaderDates:x,stickyFooterScrollbar:x,viewHeight:x,defaultAllDay:Boolean,eventSourceFailure:x,eventSourceSuccess:x,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:x,eventConstraint:x,eventAllow:x,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:x,eventContent:x,eventDidMount:x,eventWillUnmount:x,selectConstraint:x,selectOverlap:x,selectAllow:x,droppable:Boolean,unselectCancel:String,slotLabelFormat:x,slotLaneClassNames:x,slotLaneContent:x,slotLaneDidMount:x,slotLaneWillUnmount:x,slotLabelClassNames:x,slotLabelContent:x,slotLabelDidMount:x,slotLabelWillUnmount:x,dayMaxEvents:x,dayMaxEventRows:x,dayMinWidth:Number,slotLabelInterval:q,allDayText:String,allDayClassNames:x,allDayContent:x,allDayDidMount:x,allDayWillUnmount:x,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:be,rerenderDelay:Number,moreLinkText:x,moreLinkHint:x,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:x,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:q,hiddenDays:x,fixedWeekCount:Boolean,validRange:x,visibleRange:x,titleFormat:x,eventInteractive:Boolean,noEventsText:String,viewHint:x,navLinkHint:x,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:x,moreLinkClassNames:x,moreLinkContent:x,moreLinkDidMount:x,moreLinkWillUnmount:x,monthStartFormat:be,handleCustomRendering:x,customRenderingMetaMap:x,customRenderingReplaces:Boolean},Ms={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Hh={datesSet:x,eventsSet:x,eventAdd:x,eventChange:x,eventRemove:x,windowResize:x,eventClick:x,eventMouseEnter:x,eventMouseLeave:x,select:x,unselect:x,loading:x,_unmount:x,_beforeprint:x,_afterprint:x,_noEventDrop:x,_noEventResize:x,_resize:x,_scrollRequest:x},Fh={buttonText:x,buttonHints:x,views:x,plugins:x,initialEvents:x,events:x,eventSources:x},Nn={headerToolbar:jn,footerToolbar:jn,buttonText:jn,buttonHints:jn,buttonIcons:jn,dateIncrement:jn,plugins:Wi,events:Wi,eventSources:Wi,resources:Wi};function jn(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?At(t,e):t===e}function Wi(t,e){return Array.isArray(t)&&Array.isArray(e)?vn(t,e):t===e}const yk={type:String,component:x,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:x,usesMinMaxTime:Boolean,classNames:x,content:x,didMount:x,willUnmount:x};function Nl(t){return pd(t,Nn)}function hd(t,e){let n={},r={};for(let s in e)s in t&&(n[s]=e[s](t[s]));for(let s in t)s in e||(r[s]=t[s]);return{refined:n,extra:r}}function x(t){return t}const{hasOwnProperty:ta}=Object.prototype;function pd(t,e){let n={};if(e){for(let r in e)if(e[r]===jn){let s=[];for(let i=t.length-1;i>=0;i-=1){let o=t[i][r];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){n[r]=o;break}}s.length&&(n[r]=pd(s))}}for(let r=t.length-1;r>=0;r-=1){let s=t[r];for(let i in s)i in n||(n[i]=s[i])}return n}function Yn(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function nr(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function jy(t){let e={};for(let n of t)e[n]=!0;return e}function gd(t){let e=[];for(let n in t)e.push(t[n]);return e}function At(t,e){if(t===e)return!0;for(let n in t)if(ta.call(t,n)&&!(n in e))return!1;for(let n in e)if(ta.call(e,n)&&t[n]!==e[n])return!1;return!0}const vk=/^on[A-Z]/;function wk(t,e){const n=Kc(t,e);for(let r of n)if(!vk.test(r))return!1;return!0}function Kc(t,e){let n=[];for(let r in t)ta.call(t,r)&&(r in e||n.push(r));for(let r in e)ta.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function jl(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&bk(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function bk(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function _k(t,e=0,n,r=1){let s=[];n==null&&(n=Object.keys(t).length);for(let i=e;i<n;i+=r){let o=t[i];o!==void 0&&s.push(o)}return s}let Iy={};function xk(t,e){Iy[t]=e}function Sk(t){return new Iy[t]}class Ek{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return We(e)}markerToArray(e){return rn(e)}}xk("gregory",Ek);const kk=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ak(t){let e=kk.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Ny(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class Ck{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=Sk(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):We(Lh(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=We(e)),n===null||!Ny(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Ak(e);if(n===null)return null;let{marker:r}=n,s=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):s=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return sn(e)===sn(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return sn(e)===sn(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=QE(e,n),r!==null?{unit:"week",value:r}:(r=Ko(e,n),r!==null?{unit:"day",value:r}:(r=VE(e,n),Dl(r)?{unit:"hour",value:r}:(r=WE(e,n),Dl(r)?{unit:"minute",value:r}:(r=GE(e,n),Dl(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let s;return r.years&&(s=this.diffWholeYears(e,n),s!==null)?s/BE(r):r.months&&(s=this.diffWholeMonths(e,n),s!==null)?s/zE(r):r.days&&(s=Ko(e,n),s!==null)?s/Or(r):(n.valueOf()-e.valueOf())/si(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?se(e):n==="hour"?YE(e):n==="minute"?JE(e):n==="second"?ZE(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):KE(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,s={}){return s.isEndExclusive&&(n=wn(n,-1)),r.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(n)},this,s.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),ek(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?We(Lh(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):We(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Uh(rn(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(rn(e)):null}toDate(e,n){return this.timeZone==="local"?Uh(rn(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(rn(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class mi{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}mi.prototype.classes={};mi.prototype.iconClasses={};mi.prototype.baseIconClass="";mi.prototype.iconOverridePrefix="";function na(t){t();let e=L.debounceRendering,n=[];function r(s){n.push(s)}for(L.debounceRendering=r,ri(S(Dk,{}),document.createElement("div"));n.length;)n.shift()();L.debounceRendering=e}class Dk extends Ke{render(){return S("div",{})}componentDidMount(){this.setState({})}}function My(t){let e=eE(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,s=n.apply(this,arguments);if(r){let i=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&i.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{i.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{i.splice(i.indexOf(o),1),a&&a.call(o)}}}return s},e}class Tk{constructor(e,n,r,s){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const rr=My({});function Rk(t,e,n,r,s,i,o,a,l,c,u,f,h,p){return{dateEnv:s,nowManager:i,options:n,pluginHooks:a,emitter:u,dispatch:l,getCurrentData:c,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler(y){u.on("_resize",y)},removeResizeHandler(y){u.off("_resize",y)},createScrollResponder(y){return new Tk(y,u,q(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class sr extends Ke{shouldComponentUpdate(e,n){return this.debug&&console.log(Kc(e,this.props),Kc(n,this.state)),!jl(this.props,e,this.propEquality)||!jl(this.state,n,this.stateEquality)}safeSetState(e){jl(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}sr.addPropsEquality=Nk;sr.addStateEquality=jk;sr.contextType=rr;sr.prototype.propEquality={};sr.prototype.stateEquality={};class ce extends sr{}ce.contextType=rr;function Nk(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function jk(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Ht(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class md extends ce{constructor(){super(...arguments),this.id=tr(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Xc(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ht(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:s,defaultGenerator:i,renderProps:o}=e,a=Py(e,[],this.handleEl);let l=!1,c,u=[],f;if(s!=null){const h=typeof s=="function"?s(o,S):s;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(p?iy(h):typeof h!="function")?c=h:f=h}}else l=!Xc(e.generatorName,r);return l&&i&&(c=i(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=f,S(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:s}=this,{handleCustomRendering:i,customRenderingMetaMap:o}=s.options;if(i){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(Ik)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!vn(e,n)){n.forEach(ld);for(let s of e)r.appendChild(s);this.currentDomNodes=e}}}md.addPropsEquality({elClasses:vn,elStyle:At,elAttrs:wk,renderProps:At});function Xc(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Py(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Ik(t){return!!t}const Oy=My(0);class Vt extends Ke{constructor(){super(...arguments),this.InnerContent=Mk.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ht(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=Pk(e.classNameGenerator,e.renderProps);if(e.children){const r=Py(e,n,this.handleEl),s=e.children(this.InnerContent,e.renderProps,r);return e.elTag?S(e.elTag,r,s):s}else return S(md,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Vt.contextType=Oy;function Mk(t,e){const n=t.props;return S(md,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function Pk(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Vh extends ce{render(){let{props:e,context:n}=this,{options:r}=n,s={view:n.viewApi};return S(Vt,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Ly(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function Ly(t){return[`fc-${t.type}-view`,"fc-view"]}function Ok(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function Wh(t,e){let n=[],{start:r}=e,s,i;for(t.sort(Lk),s=0;s<t.length;s+=1)i=t[s],i.start>r&&n.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<e.end&&n.push({start:r,end:e.end}),n}function Lk(t,e){return t.start.valueOf()-e.start.valueOf()}function Qr(t,e){let{start:n,end:r}=t,s=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(s={start:n,end:r}),s}function Uk(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yd(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Oa(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function gn(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function $k(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Uy(t){let e=Math.floor(ts(t.start,t.end))||1,n=se(t.start),r=Ne(n,e);return{start:n,end:r}}function $y(t,e=q(0)){let n=null,r=null;if(t.end){r=se(t.end);let s=t.end.valueOf()-r.valueOf();s&&s>=si(e)&&(r=Ne(r,1))}return t.start&&(n=se(t.start),r&&r<=n&&(r=Ne(n,1))),{start:n,end:r}}function Cr(t,e,n,r){return r==="year"?q(n.diffWholeYears(t,e),"year"):r==="month"?q(n.diffWholeMonths(t,e),"month"):qE(t,e)}class By{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:s}=this.props,i=s.subtract(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,r)}buildNext(e,n,r){let{dateEnv:s}=this.props,i=s.add(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,r)}build(e,n,r=!0){let{props:s}=this,i,o,a,l,c,u;return i=this.buildValidRange(),i=this.trimHiddenDays(i),r&&(e=$k(e,i)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,s.showNonCurrentDates||(c=Qr(c,o.range)),c=this.adjustActiveRange(c),c=Qr(c,i),u=yd(o.range,i),gn(l,e)||(e=l.start),{currentDate:e,validRange:i,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,s=null,i=null,o=null,a;return r.duration?(s=r.duration,i=r.durationUnit,o=this.buildRangeFromDuration(e,n,s,i)):(a=this.props.dayCount)?(i="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),i=Zc(s).unit,o=this.buildRangeFromDuration(e,n,s,i)),{duration:s,unit:i,range:o}}getFallbackDuration(){return q({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:i}=this.props,{start:o,end:a}=e;return r&&(Or(s)<0&&(o=se(o),o=n.add(o,s)),Or(i)>1&&(a=se(a),a=Ne(a,-1),a=n.add(a,i))),{start:o,end:a}}buildRangeFromDuration(e,n,r,s){let{dateEnv:i,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:f}=this.props;f&&si(f)<si(r)?o=Zc(f).unit:o=s}Or(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=se(a));function u(){a=i.startOf(e,o),l=i.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:s,dateAlignment:i}=this.props,o=0,a=e,l;i&&(a=s.startOf(a,i)),a=se(a),a=this.skipHiddenDays(a,n),l=a;do l=Ne(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,s=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,i=this.refineRange(s);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?q(1,r):e||q({days:1}))}refineRange(e){if(e){let n=Ok(e,this.props.dateEnv);return n&&(n=$y(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(n[s]=e.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Ne(e,n);return e}}function vd(t,e,n,r){return{instanceId:tr(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Bk(t,e,n,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(t,n);if(i){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=i.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}function Jn(t,e,n){let{dateEnv:r,pluginHooks:s,options:i}=n,{defs:o,instances:a}=t;a=Yn(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=zk(c,u,e,r,s.recurringTypes);for(let h of f){let p=vd(l,{start:h,end:r.add(h,u)});a[p.instanceId]=p}}}return{defs:o,instances:a}}function zk(t,e,n,r,s){let o=s[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(se)),o}const go={id:String,groupId:String,title:String,url:String,interactive:Boolean},zy={start:x,end:x,date:x,allDay:Boolean},Hk=Object.assign(Object.assign(Object.assign({},go),zy),{extendedProps:x});function Hy(t,e,n,r,s=wd(n),i,o){let{refined:a,extra:l}=Fy(t,n,s),c=Vk(e,n),u=Bk(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=eu(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,i);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let f=Fk(a,c,n,r);if(f){let h=eu(a,l,e?e.sourceId:"",f.allDay,f.hasEnd,n,i),p=vd(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(p.instanceId=o[h.publicId]),{def:h,instance:p}}return null}function Fy(t,e,n=wd(e)){return hd(t,n)}function wd(t){return Object.assign(Object.assign(Object.assign({},ra),Hk),t.pluginHooks.eventRefiners)}function eu(t,e,n,r,s,i,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||tr(),sourceId:n,allDay:r,hasEnd:s,interactive:t.interactive,ui:sa(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of i.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Fk(t,e,n,r){let{allDay:s}=t,i,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(i=n.dateEnv.createMarkerMeta(u),i)o=i.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),s==null&&(e!=null?s=e:s=(!i||i.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),s&&o&&(o=se(o)),l&&(c=l.marker,s&&(c=se(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:a,range:{start:o,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Vk(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function ii(t,e,n,r,s,i){let o=vt(),a=wd(n);for(let l of t){let c=Hy(l,e,n,r,a,s,i);c&&tu(c,o)}return o}function tu(t,e=vt()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function bd(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],s=La(t,i=>Wk(r,i));return s.defs[r.defId]=r,s.instances[n.instanceId]=n,s}return vt()}function Wk(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function vt(){return{defs:{},instances:{}}}function _d(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function La(t,e){let n=Yn(t.defs,e),r=Yn(t.instances,s=>n[s.defId]);return{defs:n,instances:r}}function Gk(t,e){let{defs:n,instances:r}=t,s={},i={};for(let o in n)e.defs[o]||(s[o]=n[o]);for(let o in r)!e.instances[o]&&s[r[o].defId]&&(i[o]=r[o]);return{defs:s,instances:i}}function qk(t,e){return Array.isArray(t)?ii(t,null,e,!0):typeof t=="object"&&t?ii([t],null,e,!0):t!=null?String(t):null}function Gh(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const ra={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:x,overlap:x,allow:x,className:Gh,classNames:Gh,color:String,backgroundColor:String,borderColor:String,textColor:String},Qk={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function sa(t,e){let n=qk(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Yk(t){return t.reduce(Jk,Qk)}function Jk(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Zk={id:String,defaultAllDay:Boolean,url:String,format:String,events:x,eventDataTransform:x,success:x,failure:x};function Vy(t,e,n=Wy(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:s,extra:i}=hd(r,n),o=Kk(s,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:tr(),sourceDefId:o.sourceDefId,meta:o.meta,ui:sa(s,e),extendedProps:i}}return null}function Wy(t){return Object.assign(Object.assign(Object.assign({},ra),Zk),t.pluginHooks.eventSourceRefiners)}function Kk(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let i=n[r].parseMeta(t);if(i)return{sourceDefId:r,meta:i}}return null}function Xk(t,e,n,r,s){switch(e.type){case"RECEIVE_EVENTS":return eA(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return tA(t,n[e.sourceId],e.rawEvents,r.activeRange,s);case"ADD_EVENTS":return nA(t,e.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return _d(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Jn(t,r.activeRange,s):t;case"REMOVE_EVENTS":return Gk(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return qy(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return La(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return vt();default:return t}}function eA(t,e,n,r,s,i){if(e&&n===e.latestFetchId){let o=ii(Gy(s,e,i),e,i);return r&&(o=Jn(o,r,i)),_d(qy(t,e.sourceId),o)}return t}function tA(t,e,n,r,s){const{defIdMap:i,instanceIdMap:o}=sA(t);let a=ii(Gy(n,e,s),e,s,!1,i,o);return Jn(a,r,s)}function Gy(t,e,n){let r=n.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(t=qh(t,s)),r&&(t=qh(t,r)),t}function qh(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let s=e(r);s?n.push(s):s==null&&n.push(r)}}return n}function nA(t,e,n,r){return n&&(e=Jn(e,n,r)),_d(t,e)}function Qh(t,e,n){let{defs:r}=t,s=nr(t.instances,i=>r[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:n.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:n.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:i.forcedEndTzo}));return{defs:r,instances:s}}function qy(t,e){return La(t,n=>n.sourceId!==e)}function rA(t,e){return{defs:t.defs,instances:Yn(t.instances,n=>!e[n.instanceId])}}function sA(t){const{defs:e,instances:n}=t,r={},s={};for(let i in e){const o=e[i],{publicId:a}=o;a&&(r[a]=i)}for(let i in n){const o=n[i],a=e[o.defId],{publicId:l}=a;l&&(s[l]=i)}return{defIdMap:r,instanceIdMap:s}}class Ua{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){iA(this.handlers,e,n)}off(e,n){oA(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],s=this.options&&this.options[e],i=[].concat(s||[],r);for(let o of i)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function iA(t,e,n){(t[e]||(t[e]=[])).push(n)}function oA(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const aA={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function lA(t,e){return ii(cA(t),null,e)}function cA(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},aA),n)),e}function Qy(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},xd(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function uA(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function xd(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,kA(t,e.dateEnv)),n}function Yh(t,e,n){let{dateEnv:r,options:s}=n,i=e;return t?(i=se(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function Sd(t,e,n,r){let s=ia(t.defs,e),i=vt();for(let o in t.defs){let a=t.defs[o];i.defs[o]=dA(a,s[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=i.defs[a.defId];i.instances[o]=fA(a,l,s[a.defId],n,r)}return i}function dA(t,e,n,r){let s=n.standardProps||{};s.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),s),{ui:Object.assign(Object.assign({},t.ui),s.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function fA(t,e,n,r,s){let{dateEnv:i}=s,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=Uy(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:i.add(l.range.start,r.datesDelta),end:i.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:i.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:Yh(e.allDay,l.range.start,s)}),e.allDay&&(l.range={start:se(l.range.start),end:se(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Yh(e.allDay,l.range.start,s)),l}class pr{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ie{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in zy)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=go[e](n),this.mutate({standardProps:{publicId:n}});else if(e in go)n=go[e](n),this.mutate({standardProps:{[e]:n}});else if(e in ra){let r=ra[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,s=r.createMarker(e);if(s&&this._instance){let i=this._instance.range,o=Cr(i.start,s,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,s;if(!(e!=null&&(s=r.createMarker(e),!s))&&this._instance)if(s){let i=Cr(this._instance.range.end,s,r,n.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:s}=this._context,i={allDay:r.allDay},o=s.createMarker(e),a;if(o&&!(n!=null&&(a=s.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=Uy(l));let c=Cr(l.start,o,s,r.granularity);if(a){let u=Cr(l.end,a,s,r.granularity);UE(c,u)?this.mutate({datesDelta:c,standardProps:i}):this.mutate({startDelta:c,endDelta:u,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:c,standardProps:i})}}moveStart(e){let n=q(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=q(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=q(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:s}=n;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,s=be(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,s=this._context,{eventStore:i}=s.getCurrentData(),o=bd(i,n.instanceId);o=Sd(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let l=new ie(s,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Fn(o,s,n),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,n=Yy(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new pr(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:s,endStr:i}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),s&&(o.start=s),i&&(o.end=i),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function Yy(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Fn(t,e,n){let{defs:r,instances:s}=t,i=[],o=n?n.instanceId:"";for(let a in s){let l=s[a],c=r[l.defId];l.instanceId!==o&&i.push(new ie(e,c,l))}return i}function Jh(t,e,n,r){let s={},i={},o={},a=[],l=[],c=ia(t.defs,e);for(let u in t.defs){let f=t.defs[u];c[f.defId].display==="inverse-background"&&(f.groupId?(s[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):i[u]=[])}for(let u in t.instances){let f=t.instances[u],h=t.defs[f.defId],p=c[h.defId],y=f.range,w=!h.allDay&&r?$y(y,r):y,b=Qr(w,n);b&&(p.display==="inverse-background"?h.groupId?s[h.groupId].push(b):i[f.defId].push(b):p.display!=="none"&&(p.display==="background"?a:l).push({def:h,ui:p,instance:f,range:b,isStart:w.start&&w.start.valueOf()===b.start.valueOf(),isEnd:w.end&&w.end.valueOf()===b.end.valueOf()}))}for(let u in s){let f=s[u],h=Wh(f,n);for(let p of h){let y=o[u],w=c[y.defId];a.push({def:y,ui:w,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let u in i){let f=i[u],h=Wh(f,n);for(let p of h)a.push({def:t.defs[u],ui:c[u],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Zh(t,e){t.fcSeg=e}function Yr(t){return t.fcSeg||t.parentNode.fcSeg||null}function ia(t,e){return nr(t,n=>Jy(n,e))}function Jy(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),Yk(n)}function hA(t,e){let n=t.map(pA);return n.sort((r,s)=>NE(r,s,e)),n.map(r=>r._seg)}function pA(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:i,duration:i-s,allDay:Number(n.allDay),_seg:t})}function gA(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:s,ui:i}=t.eventRange,o=i.startEditable;for(let a of r)o=a(o,s,i,e);return o}function mA(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function yA(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Zy(t,e,n,r,s,i,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,f=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=s!==!1);let p=h.range.start,y=h.range.end,w=t.start||t.eventRange.range.start,b=t.end||t.eventRange.range.end,g=se(p).valueOf()===se(w).valueOf(),m=se(wn(y,-1)).valueOf()===se(wn(b,-1)).valueOf();return c&&!f.allDay&&(g||m)?(w=g?p:w,b=m?y:b,u&&f.hasEnd?a.formatRange(w,b,e,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):a.format(w,e,{forcedTzo:h.forcedStartTzo})):""}function Ps(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&gn(e,r.start)}}function vA(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function wA(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function Ky(t,e){let{def:n,instance:r}=t.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:i,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!i.hasHandlers("eventClick"))),a?Ry(l=>{i.trigger("eventClick",{el:l.target,event:new ie(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const bA={start:x,end:x,allDay:Boolean};function _A(t,e,n){let r=xA(t,e),{range:s}=r;if(!s.start)return null;if(!s.end){if(n==null)return null;s.end=e.add(s.start,n)}return r}function xA(t,e){let{refined:n,extra:r}=hd(t,bA),s=n.start?e.createMarkerMeta(n.start):null,i=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:o},r)}function SA(t,e){return Uk(t.range,e.range)&&t.allDay===e.allDay&&EA(t,e)}function EA(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function kA(t,e){return Object.assign(Object.assign({},ev(t.range,e,t.allDay)),{allDay:t.allDay})}function Xy(t,e,n){return Object.assign(Object.assign({},ev(t,e,n)),{timeZone:e.timeZone})}function ev(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function AA(t,e,n){let r=Fy({editable:!1},n),s=eu(r.refined,r.extra,"",t.allDay,!0,n);return{def:s,ui:Jy(s,e),instance:vd(s.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function CA(t,e,n){let r=!1,s=function(a){r||(r=!0,e(a))},i=function(a){r||(r=!0,n(a))},o=t(s,i);o&&typeof o.then=="function"&&o.then(s,i)}class Kh extends Error{constructor(e,n){super(e),this.response=n}}function DA(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(s=>{if(s.ok)return s.json().then(i=>[i,s],()=>{throw new Kh("Failure parsing JSON",s)});throw new Kh("Request failed",s)})}let Il;function tv(){return Il==null&&(Il=TA()),Il}function TA(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class RA extends ce{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{na(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{na(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,s=r||n.height==="auto"||n.contentHeight==="auto",i=!s&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return tv()||o.push("fc-liquid-hack"),e.children(o,i,s,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class ns{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function NA(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Ed(t){return{[t.component.uid]:t}}const nu={};class $a extends Ke{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),s=n.dateEnv.startOf(r,e.unit),o=n.dateEnv.add(s,q(1,e.unit)).valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:jA(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}$a.contextType=rr;function jA(t){let e=se(t),n=Ne(e,1);return{start:e,end:n}}class IA{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),s;n=n||"day",s=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),i,o;for(let a in n)s.push(a);for(i=0;i<s.length;i+=1)if(o=n[s[i]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=q(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),be(n))}formatRange(e,n,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(n),be(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let s=this.getCurrentData(),i=_A(r,s.dateEnv,q({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),Qy(i,null,s))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),uA(e,n))}addEvent(e,n){if(e instanceof ie){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:tu({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),s;if(n instanceof pr)s=n.internalEventSource;else if(typeof n=="boolean")n&&([s]=gd(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;s=o.internalEventSource}let i=Hy(e,s,r,!1);if(i){let o=new ie(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:tu(i)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Yy(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:s}=n.eventStore;e=String(e);for(let i in r){let o=r[i];if(o.publicId===e){if(o.recurringDef)return new ie(n,o,null);for(let a in s){let l=s[a];if(l.defId===o.defId)return new ie(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Fn(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let s in n)r.push(new pr(e,n[s]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let s in r)if(r[s].publicId===e)return new pr(n,r[s]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof pr)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Vy(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new pr(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=q(e);n&&this.trigger("_scrollRequest",{time:n})}}function MA(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function nv(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function PA(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function OA(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function LA(t,e){return{left:t.left-e.left,top:t.top-e.top}}function rv(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!gn(r.activeRange,t))),isOther:!!(r&&!gn(r.currentRange,t)),isToday:!!(e&&gn(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function kd(t,e){let n=["fc-day",`fc-day-${HE[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const UA=be({year:"numeric",month:"long",day:"numeric"}),$A=be({week:"long"});function ru(t,e,n="day",r=!0){const{dateEnv:s,options:i,calendarApi:o}=t;let a=s.format(e,n==="week"?$A:UA);if(i.navLinks){let l=s.toDate(e);const c=u=>{let f=n==="day"?i.navLinkDayClick:n==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(o,s.toDate(e),u):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return Object.assign({title:Is(i.navLinkHint,[a,l],a),"data-navlink":""},r?Ty(c):{onClick:c})}return{"aria-label":a}}let Ml=null;function BA(){return Ml===null&&(Ml=zA()),Ml}function zA(){let t=document.createElement("div");js(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return ld(t),n}let Pl;function HA(){return Pl||(Pl=FA()),Pl}function FA(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=sv(t);return document.body.removeChild(t),e}function sv(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function VA(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=sv(t),l=a.y-r-s,c=a.x-i-o,u={borderLeft:r,borderRight:s,borderTop:i,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return BA()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function WA(t,e=!1,n){let r=Ad(t),s=VA(t,e),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return e&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function Ad(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function GA(t){let e=iv(t),n=t.getBoundingClientRect();for(let r of e){let s=nv(n,r.getBoundingClientRect());if(s)n=s;else return null}return n}function iv(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class oa{constructor(e,n,r,s){this.els=n;let i=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(i.left),s&&this.buildElVerticals(i.top)}buildElHorizontals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.left-e),r.push(i.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let s of this.els){let i=s.getBoundingClientRect();n.push(i.top-e),r.push(i.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}topToIndex(e){let{tops:n,bottoms:r}=this,s=n.length,i;for(i=0;i<s;i+=1)if(e>=n[i]&&e<r[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Gi(this.tops||[],e.tops||[])&&Gi(this.bottoms||[],e.bottoms||[])&&Gi(this.lefts||[],e.lefts||[])&&Gi(this.rights||[],e.rights||[])}}function Gi(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class Cd{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class qA extends Cd{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class QA extends Cd{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ir extends ce{constructor(){super(...arguments),this.uid=tr()}prepareHits(){}queryHit(e,n,r,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Re(e,".fc-event-mirror")}isValidDateDownEl(e){return!Re(e,".fc-event:not(.fc-bg-event)")&&!Re(e,".fc-more-link")&&!Re(e,"a[data-navlink]")&&!Re(e,".fc-popover")}}class YA{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},n),{span:ov(n.span,e.touchingEntry.span)});r.push(s),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let s=e.span,i=n.span;s.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:i.start}},r),s.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:s.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:s}=this;n.lateral===-1?(Ol(s,n.level,n.levelCoord),Ol(r,n.level,[e])):Ol(r[n.level],n.lateral,e),this.stackCnts[Os(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:s,stackCnts:i}=this,o=n.length,a=0,l=-1,c=-1,u=null,f=0;for(let y=0;y<o;y+=1){const w=n[y];if(!s&&w>=a+this.getEntryThickness(e))break;let b=r[y],g,m=ep(b,e.span.start,Xh),v=m[0]+m[1];for(;(g=b[v])&&g.span.start<e.span.end;){let _=w+this.getEntryThickness(g);_>a&&(a=_,u=g,l=y,c=v),_===a&&(f=Math.max(f,i[Os(g)]+1)),v+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let p=-1;return h<o&&n[h]===a&&(p=ep(r[h],e.span.end,Xh)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:f,levelCoord:a,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,s=[];for(let i=0;i<r;i+=1){let o=e[i],a=n[i];for(let l of o)s.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return s}}function Xh(t){return t.span.end}function Os(t){return t.index+":"+t.span.start}function ov(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Ol(t,e,n){t.splice(e,0,n)}function ep(t,e,n){let r=0,s=t.length;if(!s||e<n(t[r]))return[0,0];if(e>n(t[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),o=n(t[i]);if(e<o)s=i;else if(e>o)r=i+1;else return[i,1]}return[r,0]}class JA{constructor(e,n){this.emitter=new Ua}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Dd={};function ZA(t,e){return!t||e>10?be({weekday:"short"}):e>1?be({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):be({weekday:"long"})}const av="fc-col-header-cell";function lv(t){return t.text}class KA extends ce{render(){let{dateEnv:e,options:n,theme:r,viewApi:s}=this.context,{props:i}=this,{date:o,dateProfile:a}=i,l=rv(o,i.todayRange,null,a),c=[av].concat(kd(l,r)),u=e.format(o,i.dayHeaderFormat),f=!l.isDisabled&&i.colCnt>1?ru(this.context,o):{},h=e.toDate(o);e.namedTimeZoneImpl&&(h=wn(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:s},i.extraRenderProps),{text:u}),l);return S(Vt,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:dd(o)},i.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:lv,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},y=>S("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&S(y,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const XA=be({weekday:"long"});class eC extends ce{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:s,options:i}=this.context,o=Ne(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:s}),e.extraRenderProps),{text:l});return S(Vt,{elTag:"th",elClasses:[av,...kd(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:lv,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},u=>S("div",{className:"fc-scrollgrid-sync-inner"},S(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,XA)}})))}}class tC extends ce{constructor(){super(...arguments),this.createDayHeaderFormatter=Q(nC)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:s,renderIntro:i}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,n.length);return S($a,{unit:"day"},(a,l)=>S("tr",{role:"row"},i&&i("day"),n.map(c=>s?S(KA,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):S(eC,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function nC(t,e,n){return t||ZA(e,n)}class rC{constructor(e,n){let r=e.start,{end:s}=e,i=[],o=[],a=-1;for(;r<s;)n.isHiddenDay(r)?i.push(a+.5):(a+=1,i.push(a),o.push(r)),r=Ne(r,1);this.dates=o,this.indices=i,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Ne(e.end,-1)),s=Math.max(0,n),i=Math.min(this.cnt-1,r);return s=Math.ceil(s),i=Math.floor(i),s<=i?{firstIndex:s,lastIndex:i,isStart:n===s,isEnd:r===i}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(ts(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class sC{constructor(e,n){let{dates:r}=e,s,i,o;if(n){for(i=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==i;s+=1);o=Math.ceil(r.length/s)}else o=1,s=r.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(n,s));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),s=[];if(r){let{firstIndex:i,lastIndex:o}=r,a=i;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);s.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===i,isEnd:r.isEnd&&c-1===o}),a=c}}return s}}class iC{constructor(){this.sliceBusinessHours=Q(this._sliceBusinessHours),this.sliceDateSelection=Q(this._sliceDateSpan),this.sliceEventStore=Q(this._sliceEventStore),this.sliceEventDrag=Q(this._sliceInteraction),this.sliceEventResize=Q(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,s,...i){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,s,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,s,...i),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...i),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...i),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,s,...i){return this._sliceDateSpan({range:{start:e,end:wn(e,1)},allDay:!1},n,r,{},s,...i)}_sliceBusinessHours(e,n,r,s,...i){return e?this._sliceEventStore(Jn(e,qi(n,!!r),s),{},n,r,...i).bg:[]}_sliceEventStore(e,n,r,s,...i){if(e){let o=Jh(e,n,qi(r,!!s),s);return{bg:this.sliceEventRanges(o.bg,i),fg:this.sliceEventRanges(o.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,s,...i){if(!e)return null;let o=Jh(e.mutatedEvents,n,qi(r,!!s),s);return{segs:this.sliceEventRanges(o.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,s,i,...o){if(!e)return[];let a=qi(n,!!r),l=Qr(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=AA(e,s,i),u=this.sliceRange(e.range,...o);for(let f of u)f.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let s of e)r.push(...this.sliceEventRange(s,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Ne(r.start,1)});let s=this.sliceRange(r,...n);for(let i of s)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return s}}function qi(t,e){let n=t.activeRange;return e?n:{start:wn(n.start,t.slotMinTime.milliseconds),end:wn(n.end,t.slotMaxTime.milliseconds-864e5)}}function cv(t,e,n){let{instances:r}=t.mutatedEvents;for(let s in r)if(!Oa(e.validRange,r[s].range))return!1;return uv({eventDrag:t},n)}function oC(t,e,n){return Oa(e.validRange,t.range)?uv({dateSelection:t},n):!1}function uv(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||aC)(r,e)}function aC(t,e,n={},r){return!(t.eventDrag&&!lC(t,e,n,r)||t.dateSelection&&!cC(t,e,n,r))}function lC(t,e,n,r){let s=e.getCurrentData(),i=t.eventDrag,o=i.mutatedEvents,a=o.defs,l=o.instances,c=ia(a,i.isEvent?t.eventUiBases:{"":s.selectionConfig});r&&(c=nr(c,r));let u=rA(t.eventStore,i.affectedEvents.instances),f=u.defs,h=u.instances,p=ia(f,t.eventUiBases);for(let y in l){let w=l[y],b=w.range,g=c[w.defId],m=a[w.defId];if(!dv(g.constraints,b,u,t.businessHours,e))return!1;let{eventOverlap:v}=e.options,_=typeof v=="function"?v:null;for(let C in h){let k=h[C];if(yd(b,k.range)&&(p[k.defId].overlap===!1&&i.isEvent||g.overlap===!1||_&&!_(new ie(e,f[k.defId],k),new ie(e,m,w))))return!1}let A=s.eventStore;for(let C of g.allows){let k=Object.assign(Object.assign({},n),{range:w.range,allDay:m.allDay}),E=A.defs[m.defId],P=A.instances[y],$;if(E?$=new ie(e,E,P):$=new ie(e,m),!C(xd(k,e),$))return!1}}return!0}function cC(t,e,n,r){let s=t.eventStore,i=s.defs,o=s.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!dv(c.constraints,l,s,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,f=typeof u=="function"?u:null;for(let h in o){let p=o[h];if(yd(l,p.range)&&(c.overlap===!1||f&&!f(new ie(e,i[p.defId],p),null)))return!1}for(let h of c.allows){let p=Object.assign(Object.assign({},n),a);if(!h(xd(p,e),null))return!1}return!0}function dv(t,e,n,r,s){for(let i of t)if(!dC(uC(i,e,n,r,s),e))return!1;return!0}function uC(t,e,n,r,s){return t==="businessHours"?Ll(Jn(r,e,s)):typeof t=="string"?Ll(La(n,i=>i.groupId===t)):typeof t=="object"&&t?Ll(Jn(t,e,s)):[]}function Ll(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function dC(t,e){for(let n of t)if(Oa(n,e))return!0;return!1}const Qi=/^(visible|hidden)$/;class fC extends ce{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ht(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,s=n&&r,i=["fc-scroller"];return n&&(r?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),S("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Qi.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Qi.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Qi.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Qi.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class $n{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:s,currentMap:i}=this,o=!1,a=!1;n!==null?(o=r in i,i[r]=n,s[r]=(s[r]||0)+1,a=!0):(s[r]-=1,s[r]||(delete i[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return _k(this.currentMap,e,n,r)}getAll(){return gd(this.currentMap)}}function hC(t){let e=_E(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,PE(r));return Math.ceil(n)}function fv(t,e){return t.liquid&&e.liquid}function pC(t,e){return e.maxHeight!=null||fv(t,e)}function gC(t,e,n,r){let{expandRows:s}=n;return typeof e.content=="function"?e.content(n):S("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,S(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function mC(t,e){return vn(t,e,At)}function yC(t,e){let n=[];for(let r of t){let s=r.span||1;for(let i=0;i<s;i+=1)n.push(S("col",{style:{width:r.width==="shrink"?vC(e):r.width||"",minWidth:r.minWidth||""}}))}return S("colgroup",{},...n)}function vC(t){return t??4}function wC(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function bC(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function _C(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function xC(t){return S("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function tp(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function SC(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class hv extends ce{constructor(){super(...arguments),this.processCols=Q(e=>e,mC),this.renderMicroColGroup=Q(yC),this.scrollerRefs=new $n,this.scrollerElRefs=new $n(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,s=e.sections||[],i=this.processCols(e.cols),o=this.renderMicroColGroup(i,n.shrinkWidth),a=bC(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=s.length,c=0,u,f=[],h=[],p=[];for(;c<l&&(u=s[c]).type==="header";)f.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=s[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=s[c]).type==="footer";)p.push(this.renderSection(u,o,!0)),c+=1;let y=!tv();const w={role:"rowgroup"};return S("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!y&&f.length)&&S("thead",w,...f),!!(!y&&h.length)&&S("tbody",w,...h),!!(!y&&p.length)&&S("tfoot",w,...p),y&&S("tbody",w,...f,...h,...p))}renderSection(e,n,r){return"outerContent"in e?S(fe,{key:e.key},e.outerContent):S("tr",{key:e.key,role:"presentation",className:_C(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,s){if("outerContent"in r)return r.outerContent;let{props:i}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=pC(i,e),u=fv(i,e),f=i.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,p=gC(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return S(s?"th":"td",{ref:r.elRef,role:"presentation"},S("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},S(fC,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,n){let r=EC(this.props.sections,n);r&&Ht(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return wC(this.props.cols)?hC(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=HA(),{scrollerRefs:n,scrollerElRefs:r}=this,s=!1,i={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){s=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;i[l]=Math.floor(u.getBoundingClientRect().width-(s?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:o}}}hv.addStateEquality({scrollerClientWidths:At,scrollerClientHeights:At});function EC(t,e){for(let n of t)if(n.key===e)return n;return null}class Td extends ce{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Zh(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{eventRange:i}=s,{ui:o}=i,a={event:new ie(n,i.def,i.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&gA(s,n),isStartResizable:!e.disableResizing&&mA(s,n),isEndResizable:!e.disableResizing&&yA(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return S(Vt,Object.assign({},e,{elRef:this.handleEl,elClasses:[...vA(a),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Zh(this.el,this.props.seg)}}class kC extends ce{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,{ui:i}=s.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=Zy(s,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return S(Td,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:Ky(s,n),defaultGenerator:AC,timeText:a}),(l,c)=>S(fe,null,S(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&S("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&S("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function AC(t){return S("div",{className:"fc-event-main-frame"},t.timeText&&S("div",{className:"fc-event-time"},t.timeText),S("div",{className:"fc-event-title-container"},S("div",{className:"fc-event-title fc-sticky"},t.event.title||S(fe,null," "))))}const CC=be({day:"numeric"});class pv extends ce{constructor(){super(...arguments),this.refineRenderProps=po(DC)}render(){let{props:e,context:n}=this,{options:r}=n,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return S(Vt,Object.assign({},e,{elClasses:[...kd(s,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":dd(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function gv(t){return!!(t.dayCellContent||Xc("dayCellContent",t))}function DC(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:s}=t,i=rv(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,s?t.monthStartFormat:CC):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},i),{isMonthStart:s,dayNumberText:o}),t.extraRenderProps)}class TC extends ce{render(){let{props:e}=this,{seg:n}=e;return S(Td,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:RC,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function RC(t){let{title:e}=t.event;return e&&S("div",{className:"fc-event-title"},t.event.title)}function NC(t){return S("div",{className:`fc-${t}`})}const jC=t=>S(rr.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:s}=t,i=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(s),a=n.format(s,i);return S(Vt,Object.assign({},t,{renderProps:{num:o,text:a,date:s},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:IC,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function IC(t){return t.text}const Ul=10;class MC extends ce{constructor(){super(...arguments),this.state={titleId:Ma()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ht(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Cy(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:s}=this,i=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return aE(S("div",Object.assign({},r.extraAttrs,{id:r.id,className:i.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),S("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},S("span",{className:"fc-popover-title",id:s.titleId},r.title),S("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),S("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:s}=this,i=GA(n);if(i){let o=s.getBoundingClientRect(),a=r?Re(n,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=e?i.right-o.width:i.left;a=Math.max(a,Ul),l=Math.min(l,document.documentElement.clientWidth-Ul-o.width),l=Math.max(l,Ul);let c=s.offsetParent.getBoundingClientRect();js(s,{top:a-c.top,left:l-c.left})}}}class PC extends ir{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:s,todayRange:i,dateProfile:o}=r,a=n.format(s,e.dayPopoverFormat);return S(pv,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:i},(l,c,u)=>S(MC,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},gv(e)&&S(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,s){let{rootEl:i,props:o}=this;return e>=0&&e<r&&n>=0&&n<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class OC extends ce{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ma()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ht(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:s}=r.options,i=np(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new ie(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof s=="function"&&(s=s({date:i,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(i,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return S(rr.Consumer,null,r=>{let{viewApi:s,options:i,calendarApi:o}=r,{moreLinkText:a}=i,{moreCnt:l}=e,c=np(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,f=Is(i.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:s};return S(fe,null,!!e.moreCnt&&S(Vt,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Ty(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||LC,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),n.isPopoverOpen&&S(PC,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Re(this.linkEl,".fc-view-harness"))}}function LC(t){return t.text}function np(t){if(t.allDayDate)return{start:t.allDayDate,end:Ne(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:UC(e),end:BC(e)}}function UC(t){return t.reduce($C).eventRange.range.start}function $C(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function BC(t){return t.reduce(zC).eventRange.range.end}function zC(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class HC{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class FC extends HC{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const VC=[],mv={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},yv=Object.assign(Object.assign({},mv),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function WC(t){let e=t.length>0?t[0].code:"en",n=VC.concat(t),r={en:yv};for(let s of n)r[s.code]=s;return{map:r,defaultCode:e}}function vv(t,e){return typeof t=="object"&&!Array.isArray(t)?wv(t.code,[t.code],t):GC(t,e)}function GC(t,e){let n=[].concat(t||[]),r=qC(n,e)||yv;return wv(t,n,r)}function qC(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let i=r.slice(0,s).join("-");if(e[i])return e[i]}}return null}function wv(t,e,n){let r=pd([mv,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:t,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function kn(t){return{id:tr(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function QC(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(i){for(let o of i){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,s(o.deps),r=JC(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&s(t),s(e),r}function YC(){let t=[],e=[],n;return(r,s)=>((!n||!vn(r,t)||!vn(s,e))&&(n=QC(r,s)),t=r,e=s,n)}function JC(t,e){return{premiumReleaseDate:ZC(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function ZC(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class An extends mi{}An.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};An.prototype.baseIconClass="fc-icon";An.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};An.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};An.prototype.iconOverrideOption="buttonIcons";An.prototype.iconOverrideCustomButtonOption="icon";An.prototype.iconOverridePrefix="fc-icon-";function KC(t,e){let n={},r;for(r in t)su(r,n,t,e);for(r in e)su(r,n,t,e);return n}function su(t,e,n,r){if(e[t])return e[t];let s=XC(t,e,n,r);return s&&(e[t]=s),s}function XC(t,e,n,r){let s=n[t],i=r[t],o=u=>s&&s[u]!==null?s[u]:i&&i[u]!==null?i[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=su(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),i?i.rawOptions:{})}:null}function rp(t){return nr(t,e1)}function e1(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=sp(e):n&&!(n.prototype instanceof ce)&&(n=sp(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function sp(t){return e=>S(rr.Consumer,null,n=>S(Vt,{elTag:"div",elClasses:Ly(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function t1(t,e,n,r){let s=rp(t),i=rp(e.views),o=KC(s,i);return nr(o,a=>n1(a,i,e,n,r))}function n1(t,e,n,r,s){let i=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(i&&(o=r1(i),o)){let h=Zc(o);a=h.unit,h.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let p=h.buttonText||{},y=t.defaults.buttonTextKey;return y!=null&&p[y]!=null?p[y]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},y=t.defaults.buttonTextKey;return y!=null&&p[y]!=null?p[y]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(s)||t.defaults.buttonText||u(Ms)||t.type,buttonTitleOverride:f(r)||f(n)||t.overrides.buttonHint,buttonTitleDefault:f(s)||t.defaults.buttonHint||f(Ms)}}let ip={};function r1(t){let e=JSON.stringify(t),n=ip[e];return n===void 0&&(n=q(t),ip[e]=n),n}function s1(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function i1(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function o1(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function a1(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function l1(t,e,n,r){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(s=r.buildPrev(t,n),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(t,n),s.isValid)return s;break}return t}function c1(t,e,n){let r=e?e.activeRange:null;return _v({},m1(t,n),r,n)}function u1(t,e,n,r){let s=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return _v(t,e.sources,s,r);case"REMOVE_EVENT_SOURCE":return f1(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?xv(t,s,r):t;case"FETCH_EVENT_SOURCES":return Rd(t,e.sourceIds?jy(e.sourceIds):Sv(t,r),s,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return g1(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function d1(t,e,n){let r=e?e.activeRange:null;return Rd(t,Sv(t,n),r,!0,n)}function bv(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function _v(t,e,n,r){let s={};for(let i of e)s[i.sourceId]=i;return n&&(s=xv(s,n,r)),Object.assign(Object.assign({},t),s)}function f1(t,e){return Yn(t,n=>n.sourceId!==e)}function xv(t,e,n){return Rd(t,Yn(t,r=>h1(r,e,n)),e,!1,n)}function h1(t,e,n){return Ev(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Rd(t,e,n,r,s){let i={};for(let o in t){let a=t[o];e[o]?i[o]=p1(a,n,r,s):i[o]=a}return i}function p1(t,e,n,r){let{options:s,calendarApi:i}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=tr();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;s.eventSourceSuccess&&(c=s.eventSourceSuccess.call(i,c,l.response)||c),t.success&&(c=t.success.call(i,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function g1(t,e,n,r){let s=t[e];return s&&n===s.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):t}function Sv(t,e){return Yn(t,n=>Ev(n,e))}function m1(t,e){let n=Wy(e),r=[].concat(t.eventSources||[]),s=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let i of r){let o=Vy(i,e,n);o&&s.push(o)}return s}function Ev(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function y1(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function v1(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function w1(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function b1(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function _1(t,e,n,r,s){let i=t.headerToolbar?op(t.headerToolbar,t,e,n,r,s):null,o=t.footerToolbar?op(t.footerToolbar,t,e,n,r,s):null;return{header:i,footer:o}}function op(t,e,n,r,s,i){let o={},a=[],l=!1;for(let c in t){let u=t[c],f=x1(u,e,n,r,s,i);o[c]=f.widgets,a.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function x1(t,e,n,r,s,i){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],y=!1;return{widgets:h.map(b=>b.split(",").map(g=>{if(g==="title")return y=!0,{buttonName:g};let m,v,_,A,C,k;if(m=a[g])_=E=>{m.click&&m.click.call(E.target,E,E.target)},(A=r.getCustomButtonIconClass(m))||(A=r.getIconClass(g,o))||(C=m.text),k=m.hint||m.text;else if(v=s[g]){p.push(g),_=()=>{i.changeView(g)},(C=v.buttonTextOverride)||(A=r.getIconClass(g,o))||(C=v.buttonTextDefault);let E=v.buttonTextOverride||v.buttonTextDefault;k=Is(v.buttonTitleOverride||v.buttonTitleDefault||e.viewHint,[E,g],E)}else if(i[g])if(_=()=>{i[g]()},(C=l[g])||(A=r.getIconClass(g,o))||(C=c[g]),g==="prevYear"||g==="nextYear"){let E=g==="prevYear"?"prev":"next";k=Is(u[E]||f[E],[c.year||"year","year"],c[g])}else k=E=>Is(u[g]||f[g],[c[E]||E,E],c[g]);return{buttonName:g,buttonClick:_,buttonIcon:A,buttonText:C,buttonHint:k}})),viewsWithButtons:p,hasTitle:y}}class S1{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let E1={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const k1=kn({name:"array-event-source",eventSourceDefs:[E1]});let A1={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,s=t.eventSource.meta;CA(s.bind(null,Xy(t.range,r)),i=>e({rawEvents:i}),n)}};const C1=kn({name:"func-event-source",eventSourceDefs:[A1]}),D1={method:String,extraParams:x,startParam:String,endParam:String,timeZoneParam:String};let T1={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,s=N1(r,t.range,t.context);DA(r.method,r.url,s).then(([i,o])=>{e({rawEvents:i,response:o})},n)}};const R1=kn({name:"json-event-source",eventSourceRefiners:D1,eventSourceDefs:[T1]});function N1(t,e,n){let{dateEnv:r,options:s}=n,i,o,a,l,c={};return i=t.startParam,i==null&&(i=s.startParam),o=t.endParam,o==null&&(o=s.endParam),a=t.timeZoneParam,a==null&&(a=s.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[i]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const j1={daysOfWeek:x,startTime:q,endTime:q,duration:q,startRecur:x,endRecur:x};let I1={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=$E(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Qr(e,{start:t.startRecur,end:t.endRecur});return r?P1(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const M1=kn({name:"simple-recurring-event",recurringTypes:[I1],eventRefiners:j1});function P1(t,e,n,r,s){let i=t?jy(t):null,o=se(s.start),a=s.end,l=[];for(;o<a;){let c;(!i||i[o.getUTCDay()])&&(e?c=r.add(o,e):c=o,l.push(r.createMarker(n.toDate(c)))),o=Ne(o,1)}return l}const O1=kn({name:"change-handler",optionChangeHandlers:{events(t,e){ap([t],e)},eventSources:ap}});function ap(t,e){let n=gd(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let s of t){let i=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===s){n.splice(o,1),i=!0;break}i||r.push(s)}for(let s of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)e.calendarApi.addEventSource(s)}function L1(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Xy(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function U1(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Fn(t,e))}const $1=[k1,C1,R1,M1,O1,kn({name:"misc",isLoadingFuncs:[t=>bv(t.eventSources)],propSetHandlers:{dateProfile:L1,eventStore:U1}})];class B1{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new ad(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function z1(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,be(e.titleFormat||H1(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function H1(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Ko(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class lp{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class F1{constructor(e){this.computeCurrentViewData=Q(this._computeCurrentViewData),this.organizeRawLocales=Q(WC),this.buildLocale=Q(vv),this.buildPluginHooks=YC(),this.buildDateEnv=Q(V1),this.buildTheme=Q(W1),this.parseToolbars=Q(_1),this.buildViewSpecs=Q(t1),this.buildDateProfileGenerator=po(G1),this.buildViewApi=Q(q1),this.buildViewUiProps=po(J1),this.buildEventUiBySource=Q(Q1,At),this.buildEventUiBases=Q(Y1),this.parseContextBusinessHours=po(Z1),this.buildTitle=Q(z1),this.nowManager=new lp,this.emitter=new Ua,this.actionRunner=new B1(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new lp;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,i=this.computeCurrentViewData(s,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let o={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=o1(r.calendarOptions,r.dateEnv,this.nowManager),l=i.dateProfileGenerator.build(a);gn(l.activeRange,a)||(a=l.currentRange.start);for(let h of r.pluginHooks.contextInit)h(o);let c=c1(r.calendarOptions,l,o),u={dynamicOptionOverrides:n,currentViewType:s,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:vt(),renderableEventStore:vt(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},f=Object.assign(Object.assign({},o),u);for(let h of r.pluginHooks.reducers)Object.assign(u,h(null,null,f));$l(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:s}=this,i=a1(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,i,n.calendarApi),a=s1(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,i);n.calendarApi.currentDataManager=this,s.setThisContext(n.calendarApi),s.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:f}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(u)),u=i1(u,e),f=l1(f,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!gn(f.currentRange,u))&&(u=f.currentRange.start);let h=u1(r.eventSources,e,f,c),p=Xk(r.eventStore,e,h,f,c),w=bv(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||p,{eventUiSingleBase:b,selectionConfig:g}=this.buildViewUiProps(c),m=this.buildEventUiBySource(h),v=this.buildEventUiBases(w.defs,b,m),_={dynamicOptionOverrides:i,currentViewType:a,currentDate:u,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:w,selectionConfig:g,eventUiBases:v,businessHours:this.parseContextBusinessHours(c),dateSelection:y1(r.dateSelection,e),eventSelection:v1(r.eventSelection,e),eventDrag:w1(r.eventDrag,e),eventResize:b1(r.eventResize,e)},A=Object.assign(Object.assign({},c),_);for(let E of o.pluginHooks.reducers)Object.assign(_,E(r,e,A));let C=$l(r,c),k=$l(_,c);!C&&k?s.trigger("loading",!0):C&&!k&&s.trigger("loading",!1),this.state=_,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,s=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(n.currentViewType,s,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,i.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),i),n),a=s.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=s.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=d1(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Qh(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Qh(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:i,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);cp(l);let c=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,i,a,s.defaultRangeSeparator),u=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(s,i),h=this.parseToolbars(s,this.stableOptionOverrides,f,u,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:i,dateEnv:c,viewSpecs:u,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:s}=Nl([Ms,e,n]),i=this.organizeRawLocales(r),o=i.map,a=this.buildLocale(s||i.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],$1),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zh),Hh),Fh),l.listenerRefiners),l.optionRefiners),u={},f=Nl([Ms,a,e,n]),h={},p=this.currentCalendarOptionsInput,y=this.currentCalendarOptionsRefined,w=!1;for(let b in f)this.optionsForRefining.indexOf(b)===-1&&(f[b]===p[b]||Nn[b]&&b in p&&Nn[b](p[b],f[b]))?h[b]=y[b]:c[b]?(h[b]=c[b](f[b]),w=!0):u[b]=p[b];return w&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:i,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,s){let i=n.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(i,n.pluginHooks,n.localeDefaults,r,s);cp(a),this.nowManager.handleInput(n.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:i,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,s,i){let o=Nl([Ms,e.optionDefaults,r,s,e.optionOverrides,i]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zh),Hh),Fh),yk),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,f=!1,h={};for(let p in o)o[p]===c[p]||Nn[p]&&Nn[p](o[p],c[p])?l[p]=u[p]:(o[p]===this.currentCalendarOptionsInput[p]||Nn[p]&&Nn[p](o[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):a[p]?l[p]=a[p](o[p]):h[p]=o[p],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function V1(t,e,n,r,s,i,o,a){let l=vv(e||o.defaultCode,o.map);return new Ck({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:a})}function W1(t,e){let n=e.themeClasses[t.themeSystem]||An;return new n(t)}function G1(t){let e=t.dateProfileGeneratorClass||By;return new e(t)}function q1(t,e,n){return new S1(t,e,n)}function Q1(t){return nr(t,e=>e.ui)}function Y1(t,e,n){let r={"":e};for(let s in t){let i=t[s];i.sourceId&&n[i.sourceId]&&(r[s]=n[i.sourceId])}return r}function J1(t){let{options:e}=t;return{eventUiSingleBase:sa({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:sa({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function $l(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function Z1(t){return lA(t.options.businessHours,t)}function cp(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class K1 extends ce{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return S("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,s=[],i=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:f}=o;if(a==="title")i=!1,s.push(S("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,p=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",y=[`fc-${a}-button`,r.getClass("button")];h&&y.push(r.getClass("buttonActive")),s.push(S("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:p,"aria-pressed":h,className:y.join(" "),onClick:l},c||(u?S("span",{className:u,role:"img"}):"")))}}if(s.length>1){let o=i&&r.getClass("buttonGroup")||"";return S("div",{className:o},...s)}return s[0]}}class up extends ce{render(){let{model:e,extraClassName:n}=this.props,r=!1,s,i,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,s=o.left):s=o.start,o.right?(r=!0,i=o.right):i=o.end,S("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",a||[]),this.renderSection("end",i||[]))}renderSection(e,n){let{props:r}=this;return S(K1,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class X1 extends ce{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ht(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,s=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",o="";return r?n.availableWidth!==null?i=n.availableWidth/r:o=`${1/r*100}%`:i=e.height||"",S("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:i,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class eD extends ns{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:s}=this,{context:i}=s,o=Yr(r);if(o&&s.isValidSegDownEl(n.target)){let a=Re(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:r,event:new ie(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=Dy(e.el,"click",".fc-event",this.handleSegClick)}}class tD extends ns{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Yr(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=EE(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:s}=this,{context:i}=s,o=Yr(r);(!n||s.isValidSegDownEl(n.target))&&i.emitter.trigger(e,{el:r,event:new ie(i,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:i.viewApi})}}class nD extends sr{constructor(){super(...arguments),this.buildViewContext=Q(Rk),this.buildViewPropTransformers=Q(sD),this.buildToolbarProps=Q(rD),this.headerRef=zt(),this.footerRef=zt(),this.interactionsStore={},this.state={viewLabelId:Ma()},this.registerInteractiveComponent=(e,n)=>{let r=NA(e,n),o=[eD,tD].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,nu[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete nu[e.uid]},this.resizeRunner=new ad(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,s=!1,i="",o;e.isHeightAuto||e.forPrint?i="":r.height!=null?s=!0:r.contentHeight!=null?i=r.contentHeight:o=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return S(rr.Provider,{value:a},S($a,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return S(fe,null,n.header&&S(up,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},u)),S(X1,{liquid:s,height:i,aspectRatio:o,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&S(up,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let s in r)n[s]!==e[s]&&r[s](n[s],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return S(fe,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of i)Object.assign(s,a.transform(s,e));let o=r.component;return S(o,Object.assign({},s))}}function rD(t,e,n,r,s,i){let o=n.build(s,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!gn(e.currentRange,s),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function sD(t){return t.map(e=>new e)}let iD=class extends IA{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;na(()=>{ri(S(RA,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,i,o,a)=>(this.setClassNames(s),this.setHeight(i),S(Oy.Provider,{value:this.customContentRenderId},S(nD,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ri(null,this.el),this.setClassNames([]),this.setHeight(""))},gE(e),this.el=e,this.renderRunner=new ad(this.handleRenderRequest),new F1({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){na(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!vn(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Ay(this.el,"height",e)}};const oD=parseInt(String(yo.version).split(".")[0]),aD=oD<18;class kv extends j.Component{constructor(){super(...arguments),this.elRef=j.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(yo.createElement(lD,{key:n.id,customRendering:n}));return yo.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new FC;this.handleCustomRendering=e.handle.bind(e),this.calendar=new iD(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ho.flushSync(()=>{})});let n;e.subscribe(r=>{const s=Date.now(),i=!n;(aD||i||this.isUpdating||this.isUnmounting||s-n<100?Av:Ho.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=s,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}kv.act=Av;class lD extends j.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Ho.createPortal(r,e.containerEl)}}function Av(t){t()}class cD extends ir{constructor(){super(...arguments),this.headerElRef=zt()}renderSimpleLayout(e,n){let{props:r,context:s}=this,i=[],o=tp(s.options);return e&&i.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),S(Vh,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},S(hv,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,n,r,s){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&tp(a.options),c=!o.forPrint&&SC(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:xC}]}),S(Vh,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},S(i,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:u}))}}function Yi(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Ji(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function dp(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const Cv=be({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Dv(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class Tv extends ce{render(){let{props:e}=this;return S(kC,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Cv,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Rv extends ce{render(){let{props:e,context:n}=this,{options:r}=n,{seg:s}=e,i=r.eventTimeFormat||Cv,o=Zy(s,i,n,!0,e.defaultDisplayEventEnd);return S(Td,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Ky(e.seg,n),defaultGenerator:uD,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function uD(t){return S(fe,null,S("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&S("div",{className:"fc-event-time"},t.timeText),S("div",{className:"fc-event-title"},t.event.title||S(fe,null," ")))}class dD extends ce{constructor(){super(...arguments),this.compileSegs=Q(fD)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return S(OC,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return S(fe,null,n.map(i=>{let o=i.eventRange.instance.instanceId;return S("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},Dv(i)?S(Rv,Object.assign({seg:i,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ps(i,e.todayRange))):S(Tv,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ps(i,e.todayRange))))}))}})}}function fD(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const hD=be({week:"narrow"});class pD extends ir{constructor(){super(...arguments),this.rootElRef=zt(),this.state={dayNumberId:Ma()},this.handleRootEl=e=>{Ht(this.rootElRef,e),Ht(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:s}=this,{options:i,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&mD(a,l.currentRange,o);return S(pv,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:gD,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,f)=>S("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&S(jC,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ru(e,a,"week"),date:a,defaultFormat:hD}),!f.isDisabled&&(n.showDayNumber||gv(i)||n.forceDayTop)?S("div",{className:"fc-daygrid-day-top"},S(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ru(e,a)),{id:r.dayNumberId})})):n.showDayNumber?S("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},S("a",{className:"fc-daygrid-day-number"}," ")):void 0,S("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,S("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},S(dD,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:s,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),S("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function gD(t){return t.dayNumberText||S(fe,null," ")}function mD(t,e,n){const{start:r,end:s}=e,i=wn(s,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(i),c=n.getMonth(i);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<s.valueOf())}function Nv(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function jv(t){return Nv(t)+":"+t.lastCol}function yD(t,e,n,r,s,i,o){let a=new bD(g=>{let m=t[g.index].eventRange.instance.instanceId+":"+g.span.start+":"+(g.span.end-1);return s[m]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=i,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let g=0;g<t.length;g+=1){let m=t[g],v=jv(m);s[v]!=null?l.push({index:g,span:{start:m.firstCol,end:m.lastCol+1}}):c.push(m)}let u=a.addSegs(l),f=a.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:y}=vD(f,t,o),w=[],b=[];for(let g of c){p[g.firstCol].push({seg:g,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let m=g.firstCol;m<=g.lastCol;m+=1)h[m].push({seg:Lr(g,m,m+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<o.length;g+=1)w.push(0);for(let g of u){let m=t[g.index],v=g.span;p[v.start].push({seg:Lr(m,v.start,v.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=v.start;_<v.end;_+=1)w[_]+=1,h[_].push({seg:Lr(m,_,_+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<o.length;g+=1)b.push(y[g]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:w,moreMarginTops:b}}function vD(t,e,n){let r=wD(t,n.length),s=[],i=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,f=0;for(let p of l){let y=e[p.index];c.push({seg:Lr(y,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-u}),u=p.levelCoord+p.thickness}let h=[];u=0,f=0;for(let p of l){let y=e[p.index],w=p.span.end-p.span.start>1,b=p.span.start===a;f+=p.levelCoord-u,u=p.levelCoord+p.thickness,w?(f+=p.thickness,b&&h.push({seg:Lr(y,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):b&&(h.push({seg:Lr(y,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}s.push(c),i.push(h),o.push(f)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:o}}function wD(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let s=r.span.start;s<r.span.end;s+=1)n[s].push(r);return n}function Lr(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let s=t.eventRange,i=s.range,o=Qr(i,{start:r[e].date,end:Ne(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:t.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===i.end.valueOf()})}class bD extends YA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,s=i=>!this.forceHidden[Os(i)];for(let i=0;i<r.length;i+=1)r[i]=r[i].filter(s);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:s,forceHidden:i}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Os(o);if(!i[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:ov(o.span,n.span)}),f=Os(u);i[f]=!0,s[a][l]=u,r.push(u),this.splitEntry(o,n,r)}else i[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class Iv extends ir{constructor(){super(...arguments),this.cellElRefs=new $n,this.frameElRefs=new $n,this.fgElRefs=new $n,this.segHarnessRefs=new $n,this.rootElRef=zt(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:s}=r,i=e.cells.length,o=Ji(e.businessHourSegs,i),a=Ji(e.bgEventSegs,i),l=Ji(this.getHighlightSegs(),i),c=Ji(this.getMirrorSegs(),i),{singleColPlacements:u,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=yD(hA(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),y=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return S("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((w,b)=>{let g=this.renderFgSegs(b,e.forPrint?u[b]:f[b],e.todayRange,y),m=this.renderFgSegs(b,_D(c[b],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return S(pD,{key:w.key,elRef:this.cellElRefs.createRef(w.key),innerElRef:this.frameElRefs.createRef(w.key),dateProfile:e.dateProfile,date:w.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:w.extraRenderProps,extraDataAttrs:w.extraDataAttrs,extraClassNames:w.extraClassNames,extraDateSpan:w.extraDateSpan,moreCnt:h[b],moreMarginTop:p[b],singlePlacements:u[b],fgContentElRef:this.fgElRefs.createRef(w.key),fgContent:S(fe,null,S(fe,null,g),S(fe,null,m)),bgContent:S(fe,null,this.renderFillSegs(l[b],"highlight"),this.renderFillSegs(o[b],"non-business"),this.renderFillSegs(a[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!At(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,s,i,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,f=this.props.cells.length===1,h=i||o||a,p=[];if(u)for(let y of n){let{seg:w}=y,{instanceId:b}=w.eventRange.instance,g=y.isVisible&&!s[b],m=y.isAbsolute,v="",_="";m&&(l.isRtl?(_=0,v=u.lefts[w.lastCol]-u.lefts[w.firstCol]):(v=0,_=u.rights[w.firstCol]-u.rights[w.lastCol])),p.push(S("div",{className:"fc-daygrid-event-harness"+(m?" fc-daygrid-event-harness-abs":""),key:Nv(w),ref:h?null:this.segHarnessRefs.createRef(jv(w)),style:{visibility:g?"":"hidden",marginTop:m?"":y.marginTop,top:m?y.absoluteTop:"",left:v,right:_}},Dv(w)?S(Rv,Object.assign({seg:w,isDragging:i,isSelected:b===c,defaultDisplayEventEnd:f},Ps(w,r))):S(Tv,Object.assign({seg:w,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:b===c,defaultDisplayEventEnd:f},Ps(w,r)))))}return p}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:i}=this.state,o=[];if(i)for(let a of e){let l=r?{right:0,left:i.lefts[a.lastCol]-i.lefts[a.firstCol]}:{left:0,right:i.rights[a.firstCol]-i.rights[a.lastCol]};o.push(S("div",{key:wA(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?S(TC,Object.assign({seg:a},Ps(a,s))):NC(n)))}return S(fe,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:s}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>s.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new oa(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new oa(c,l,!0,!1)})}}const i=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let s=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,s)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}Iv.addStateEquality({segHeights:At});function _D(t,e){if(!t.length)return[];let n=xD(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function xD(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class SD extends ir{constructor(){super(...arguments),this.splitBusinessHourSegs=Q(Yi),this.splitBgEventSegs=Q(Yi),this.splitFgEventSegs=Q(Yi),this.splitDateSelectionSegs=Q(Yi),this.splitEventDrag=Q(dp),this.splitEventResize=Q(dp),this.rowRefs=new $n}render(){let{props:e,context:n}=this,r=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,r),i=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return S($a,{unit:"day"},(f,h)=>S(fe,null,e.cells.map((p,y)=>S(Iv,{ref:this.rowRefs.createRef(y),key:p.length?p[0].date.toISOString():y,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:s[y],eventSelection:e.eventSelection,bgEventSegs:i[y].filter(ED),fgEventSegs:o[y],dateSelectionSegs:a[y],eventDrag:l[y],eventResize:c[y],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new oa(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new oa(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:s}=this,i=r.leftToIndex(e),o=s.topToIndex(n);if(o!=null&&i!=null){let a=this.props.cells[o][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,i),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,i),rect:{left:r.lefts[i],right:r.rights[i],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,s=Ne(r,1);return{start:r,end:s}}}function ED(t){return t.eventRange.def.allDay}class kD extends ir{constructor(){super(...arguments),this.elRef=zt(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:s}=e,i=r===!0||n===!0;i&&!s&&(i=!1,n=null,r=null);let o=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return S("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},S("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,S("tbody",{role:"presentation"},S(SD,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=AD(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),s=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function AD(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${tk(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${dd(e.currentDate)}"]`)),n}class CD extends iC{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class DD extends ir{constructor(){super(...arguments),this.slicer=new CD,this.tableRef=zt()}render(){let{props:e,context:n}=this;return S(kD,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class TD extends cD{constructor(){super(...arguments),this.buildDayTableModel=Q(RD),this.headerRef=zt(),this.tableRef=zt()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,n),i=e.dayHeaders&&S(tC,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=a=>S(DD,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,o)}}function RD(t,e){let n=new rC(t.renderRange,e);return new sC(n,/year|month|week/.test(t.currentRangeUnit))}class ND extends By{buildRenderRange(e,n,r){let s=super.buildRenderRange(e,n,r),{props:i}=this;return jD({currentRange:s,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function jD(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:s}=n,i;if(t.snapToWeek&&(r=e.startOfWeek(r),i=e.startOfWeek(s),i.valueOf()!==s.valueOf()&&(s=Oh(i,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Ne(n.end,-1))),a=Math.ceil(FE(o,s));s=Oh(s,6-a)}return{start:r,end:s}}var ID=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Sy(ID);var MD=kn({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:TD,dateProfileGeneratorClass:ND},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Dd.touchMouseIgnoreWait=500;let iu=0,aa=0,ou=!1;class Mv{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&PD(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=n.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,OD()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Ua,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),LD()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),UD()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Re(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ou=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Re(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return iu||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ou=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,s=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:s}}createEventFromTouch(e,n){let r=e.touches,s,i,o=0,a=0;return r&&r.length?(s=r[0].pageX,i=r[0].pageY):(s=e.pageX,i=e.pageY),n?(this.origPageX=s,this.origPageY=i):(o=s-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:o,deltaY:a}}}function PD(t){return t.button===0&&!t.ctrlKey}function OD(){iu+=1,setTimeout(()=>{iu-=1},Dd.touchMouseIgnoreWait)}function LD(){aa+=1,aa===1&&window.addEventListener("touchmove",Pv,{passive:!1})}function UD(){aa-=1,aa||window.removeEventListener("touchmove",Pv,{passive:!1})}function Pv(t){ou&&t.preventDefault()}class $D{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",js(r,{left:s.left,top:s.top}),kE(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(ld(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&js(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),js(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class Ov extends Cd{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Lv extends Ov{constructor(e,n){super(new qA(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return WA(this.scrollController.el)}}class BD extends Ov{constructor(e){super(new QA,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const fp=typeof performance=="function"?performance.now:Date.now;class zD{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=fp();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,s=n-window.scrollY,i=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(fp()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:s}=this,i=s-e.distance,o=i*i/(s*s)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,s=null,i=this.scrollCaches||[];for(let o of i){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,f=a.bottom-n;l>=0&&c>=0&&u>=0&&f>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>u)&&(s={scrollCache:o,name:"top",distance:u}),f<=r&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>f)&&(s={scrollCache:o,name:"bottom",distance:f}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>l)&&(s={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>c)&&(s={scrollCache:o,name:"right",distance:c}))}return s}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new BD(!1):new Lv(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class yi extends JA{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,AE(document.body),DE(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,o,{deltaX:a,deltaY:l}=s;o=a*a+l*l,o>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,CE(document.body),TE(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new Mv(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new $D,this.autoScroller=new zD}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class HD{constructor(e){this.el=e,this.origRect=Ad(e),this.scrollCaches=iv(e).map(n=>new Lv(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let s of this.scrollCaches)if(!FD(s.getEventTarget())&&!MA(r,s.clientRect))return!1;return!0}}function FD(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Ba{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ua}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,s=e.subjectEl,i;s instanceof HTMLElement&&(i=Ad(s),r=PA(r,i));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&i){let a=nv(i,o.rect);a&&(r=OA(a))}this.coordAdjust=LA(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!za(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=nr(this.droppableStore,e=>(e.component.prepareHits(),new HD(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:s}=this,i=null;for(let o in r){let a=r[o].component,l=s[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),f=e-c,h=n-u,{origRect:p}=l,y=p.right-p.left,w=p.bottom-p.top;if(f>=0&&f<y&&h>=0&&h<w){let b=a.queryHit(f,h,y,w);b&&Oa(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+c-window.scrollX,h+u-window.scrollY)))&&(!i||b.layer>i.layer)&&(b.componentId=o,b.context=a.context,b.rect.left+=c,b.rect.right+=c,b.rect.top+=u,b.rect.bottom+=u,i=b)}}}return i}}function za(t,e){return!t&&!e?!0:!!t!=!!e?!1:SA(t.dateSpan,e.dateSpan)}function Uv(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,VD(t,e.dateEnv)),n}function VD(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class WD extends ns{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:s}=this,i=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&za(o,a)){let{context:l}=s,c=Object.assign(Object.assign({},Uv(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new yi(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Ba(this.dragging,Ed(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class GD extends ns{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?qD(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(c=QD(f,o,l.pluginHooks.dateSelectionTransformers)),(!c||!oC(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?cd():ud(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(Qy(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,s=this.dragging=new yi(e.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Ba(this.dragging,Ed(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function qD(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function QD(t,e,n){let r=t.dateSpan,s=e.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(ME);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:i[0],end:i[3]},o.allDay=r.allDay,o}class vi extends ns{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:f}=l.context,h=l.context;this.subjectEl=o.subjectEl;let p=this.subjectSeg=Yr(o.subjectEl),w=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=bd(h.getCurrentData().eventStore,w),c.minDistance=o.isTouch?0:f.eventDragMinDistance,c.delay=o.isTouch&&w!==l.props.eventSelection?JD(l):null,f.fixedMirrorParent?u.parentNode=f.fixedMirrorParent:u.parentNode=Re(a,".fc"),u.revertDuration=f.dragRevertDuration;let b=l.isValidSegDownEl(a)&&!Re(a,".fc-event-resizer");c.setIgnoreMove(!b),this.isDragging=b&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ie(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,f=null,h=null,p=null,y=!1,w={affectedEvents:l,mutatedEvents:vt(),isEvent:!0};if(o){f=o.context;let b=f.options;u===f||b.editable&&b.droppable?(h=YD(c,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=Sd(l,f.getCurrentData().eventUiBases,h,f),w.mutatedEvents=p,cv(w,o.dateProfile,f)||(y=!0,h=null,p=null,w.mutatedEvents=vt()))):f=null}this.displayDrag(f,w),y?cd():ud(),a||(u===f&&za(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new ie(a,f,h),y=this.relevantEvents,w=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:o.origEvent,view:l}),u){if(c===a){let g=new ie(a,w.defs[f.defId],h?w.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:w});let m={oldEvent:p,event:g,relatedEvents:Fn(w,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:y})}},v={};for(let _ of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(v,_(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},m),v),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",m)}else if(c){let g={event:p,relatedEvents:Fn(y,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:y})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},g),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:y}),a.emitter.trigger("eventRemove",g);let m=w.defs[f.defId],v=w.instances[h.instanceId],_=new ie(c,m,v);c.dispatch({type:"MERGE_EVENTS",eventStore:w});let A={event:_,relatedEvents:Fn(w,c,v),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:w})}};c.emitter.trigger("eventAdd",A),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},Uv(b.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:b.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},A),{draggedEl:o.subjectEl,view:b.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,s=this.dragging=new yi(e.el);s.pointer.selector=vi.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let i=this.hitDragging=new Ba(this.dragging,nu);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,s=this.receivingContext;s&&s!==e&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:vt(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}vi.SELECTOR=".fc-event-draggable, .fc-event-resizable";function YD(t,e,n,r){let s=t.dateSpan,i=e.dateSpan,o=s.range.start,a=i.range.start,l={};s.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?o=se(n):o=n);let c=Cr(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let f of r)f(u,t,e);return u}function JD(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class ZD extends ns{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:o}=this,a=this.querySegEl(i),l=Yr(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=i=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=bd(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(i);this.draggingSegEl=l,this.draggingSeg=Yr(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new ie(o,a.def,a.instance),jsEvent:i.origEvent,view:o.viewApi})},this.handleHitUpdate=(i,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,y=!1,w={affectedEvents:c,mutatedEvents:vt(),isEvent:!0};i&&(i.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,i)||(h=KD(u,i,a.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=Sd(c,l.getCurrentData().eventUiBases,h,l),w.mutatedEvents=p,cv(w,i.dateProfile,l)||(y=!0,h=null,p=null,w.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:w}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),y?cd():ud(),o||(h&&za(u,i)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=i=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new ie(o,a,l),u=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:i.origEvent,view:o.viewApi}),this.validMutation){let h=new ie(o,f.defs[a.defId],l?f.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:c,event:h,relatedEvents:Fn(f,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||q(0),endDelta:this.validMutation.endDelta||q(0),jsEvent:i.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",p)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new yi(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let s=this.hitDragging=new Ba(this.dragging,Ed(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Re(e.subjectEl,".fc-event")}}function KD(t,e,n,r){let s=t.context.dateEnv,i=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Cr(i,o,s,t.largeUnit);if(n){if(s.add(r.start,a)<r.end)return{startDelta:a}}else if(s.add(r.end,a)>r.start)return{endDelta:a};return null}class XD{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,i=Cy(r.origEvent);this.matchesCancel=!!Re(i,s),this.matchesEvent=!!Re(i,vi.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:i}=this,o=s.getCurrentData();if(!i.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=s.options.unselectAuto;a&&(!a||!this.matchesCancel)&&s.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new Mv(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const eT={fixedMirrorParent:x},tT={dateClick:x,eventDragStart:x,eventDragStop:x,eventDrop:x,eventResizeStart:x,eventResizeStop:x,eventResize:x,drop:x,eventReceive:x,eventLeave:x};Dd.dataAttrPrefix="";var nT=kn({name:"@fullcalendar/interaction",componentInteractions:[WD,GD,vi,ZD],calendarInteractions:[XD],elementDraggingImpl:yi,optionRefiners:eT,listenerRefiners:tT});function hp(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pp(t,e){const n=hp(t),r=hp(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}const rT=({checked:t,onChange:e,disabled:n=!1})=>d.jsx("button",{type:"button",onClick:()=>!n&&e(!t),disabled:n,className:`
        toggle-switch
        ${t?"bg-primary-600":"bg-gray-200"}
        ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
      `,children:d.jsx("span",{className:`
          toggle-switch-thumb
          ${t?"translate-x-5":"translate-x-1"}
        `})}),sT=[{title:"Menstrual Symptoms",symptoms:[{key:"irregularPeriods",label:"Irregular / Missed periods"},{key:"menstrualClots",label:"Menstrual clots"},{key:"longMenstruation",label:"Long menstruation"},{key:"abnormalBleeding",label:"Abnormal uterine bleeding"}]},{title:"Pain Symptoms",symptoms:[{key:"cramping",label:"Cramping"},{key:"chronicPain",label:"Pain / Chronic pain"},{key:"legPain",label:"Leg pain"},{key:"hipPain",label:"Hip pain"},{key:"vaginalPain",label:"Vaginal Pain/Pressure"},{key:"painfulUrination",label:"Painful urination"},{key:"painAfterIntercourse",label:"Pain after Intercourse"},{key:"abdominalCrampsIntercourse",label:"Abdominal Cramps during Intercourse"}]},{title:"Digestive & Physical",symptoms:[{key:"diarrhea",label:"Diarrhea"},{key:"vomiting",label:"Vomiting / constant vomiting"},{key:"extremeBloating",label:"Extreme Bloating"},{key:"digestiveProblems",label:"Digestive / GI problems"},{key:"lossOfAppetite",label:"Loss of appetite"},{key:"feelingSick",label:"Feeling sick"},{key:"anemia",label:"Anaemia / Iron deficiency"}]},{title:"General Health",symptoms:[{key:"migraines",label:"Migraines"},{key:"depression",label:"Depression"},{key:"insomnia",label:"Insomnia / Sleeplessness"},{key:"hormonalProblems",label:"Hormonal problems"}]},{title:"Reproductive Health",symptoms:[{key:"infertility",label:"Infertility"},{key:"fertilityIssues",label:"Fertility Issues"},{key:"ovarianCysts",label:"Ovarian cysts"},{key:"cysts",label:"Cysts (unspecified)"}]}],iT=({date:t,existingEntry:e,onSave:n,onClose:r})=>{const[s,i]=j.useState({irregularPeriods:!1,cramping:!1,menstrualClots:!1,infertility:!1,chronicPain:!1,diarrhea:!1,longMenstruation:!1,vomiting:!1,migraines:!1,extremeBloating:!1,legPain:!1,depression:!1,fertilityIssues:!1,ovarianCysts:!1,painfulUrination:!1,painAfterIntercourse:!1,digestiveProblems:!1,anemia:!1,hipPain:!1,vaginalPain:!1,cysts:!1,abnormalBleeding:!1,hormonalProblems:!1,feelingSick:!1,abdominalCrampsIntercourse:!1,insomnia:!1,lossOfAppetite:!1,notes:""}),[o,a]=j.useState(!1),[l,c]=j.useState(!1);j.useEffect(()=>{e&&i(e)},[e]);const u=(p,y)=>{i(w=>({...w,[p]:y}))},f=p=>{i(y=>({...y,notes:p.target.value}))},h=async p=>{p.preventDefault(),a(!0),c(!1);try{const y={...s,date:t,timestamp:Date.now()};await n(y)}catch(y){console.error("Save error:",y),c(!0),y.message.includes("blocked")||y.message.includes("ERR_BLOCKED_BY_CLIENT")?U.error("Connection blocked by ad blocker. Please disable ad blockers for this site."):U.error("Failed to save entry. Please try again.")}finally{a(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-white",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Log Symptoms for ",new Date(t).toLocaleDateString()]}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(GS,{className:"h-6 w-6"})})]}),l&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 m-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(uo,{className:"h-5 w-5 text-red-400 mr-2"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Connection Issue"}),d.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[d.jsx("p",{children:"Unable to save data. This might be caused by:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1",children:[d.jsx("li",{children:"Ad blocker blocking Firebase requests"}),d.jsx("li",{children:"Network connectivity issues"}),d.jsx("li",{children:"Browser privacy settings"})]}),d.jsx("p",{className:"mt-2 font-medium",children:"Try: Disable ad blockers for this site or check your network connection."})]})]})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d.jsxs("div",{className:"space-y-8",children:[sT.map(p=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:p.title}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.symptoms.map(y=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 flex-1",children:y.label}),d.jsx(rT,{checked:s[y.key]||!1,onChange:w=>u(y.key,w)})]},y.key))})]},p.title)),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Additional Notes"}),d.jsx("textarea",{value:s.notes||"",onChange:f,placeholder:"Any additional symptoms or notes for today...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:4})]})]})}),d.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t bg-gray-50",children:[d.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:o,children:"Cancel"}),d.jsx("button",{type:"button",onClick:h,disabled:o,className:"btn-primary flex items-center disabled:opacity-50",children:o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(HS,{className:"h-4 w-4 mr-2"}),e?"Update Entry":"Save Entry"]})})]})]})})},oT=(t,e)=>({user_id:e,date:t.date,irregular_periods:t.irregularPeriods,cramping:t.cramping,menstrual_clots:t.menstrualClots,infertility:t.infertility,chronic_pain:t.chronicPain,diarrhea:t.diarrhea,long_menstruation:t.longMenstruation,vomiting:t.vomiting,migraines:t.migraines,extreme_bloating:t.extremeBloating,leg_pain:t.legPain,depression:t.depression,fertility_issues:t.fertilityIssues,ovarian_cysts:t.ovarianCysts,painful_urination:t.painfulUrination,pain_after_intercourse:t.painAfterIntercourse,digestive_problems:t.digestiveProblems,anemia:t.anemia,hip_pain:t.hipPain,vaginal_pain:t.vaginalPain,cysts:t.cysts,abnormal_bleeding:t.abnormalBleeding,hormonal_problems:t.hormonalProblems,feeling_sick:t.feelingSick,abdominal_cramps_intercourse:t.abdominalCrampsIntercourse,insomnia:t.insomnia,loss_of_appetite:t.lossOfAppetite,notes:t.notes}),$v=t=>({irregularPeriods:t.irregular_periods,cramping:t.cramping,menstrualClots:t.menstrual_clots,infertility:t.infertility,chronicPain:t.chronic_pain,diarrhea:t.diarrhea,longMenstruation:t.long_menstruation,vomiting:t.vomiting,migraines:t.migraines,extremeBloating:t.extreme_bloating,legPain:t.leg_pain,depression:t.depression,fertilityIssues:t.fertility_issues,ovarianCysts:t.ovarian_cysts,painfulUrination:t.painful_urination,painAfterIntercourse:t.pain_after_intercourse,digestiveProblems:t.digestive_problems,anemia:t.anemia,hipPain:t.hip_pain,vaginalPain:t.vaginal_pain,cysts:t.cysts,abnormalBleeding:t.abnormal_bleeding,hormonalProblems:t.hormonal_problems,feelingSick:t.feeling_sick,abdominalCrampsIntercourse:t.abdominal_cramps_intercourse,insomnia:t.insomnia,lossOfAppetite:t.loss_of_appetite,notes:t.notes,date:t.date,timestamp:new Date(t.created_at||t.date).getTime()}),Ur=()=>{const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`},Bv=t=>{const e=new Date(t);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},aT=t=>{const[e,n]=t.split("-").map(Number),r=new Date(e,n-1,1),s=new Date(e,n,0);return{startDate:r.toISOString().split("T")[0],endDate:s.toISOString().split("T")[0]}},rs=async()=>{const t=await DS();if(!t)throw new Error("User not authenticated. Please sign in first.");return t.id},ss=(t,e)=>{var n,r,s;throw console.error(`Supabase ${e} error:`,t),t.code==="42501"?new Error("Permission denied. Please make sure you are properly authenticated."):t.code==="42P01"?new Error(`Database table not found. Please ensure the database is properly set up. Missing table for ${e}.`):t.code==="23505"?new Error("Data already exists for this date. Use update instead."):(n=t.message)!=null&&n.includes("JWT")?new Error("Authentication token expired. Please sign in again."):(r=t.message)!=null&&r.includes("network")||(s=t.message)!=null&&s.includes("fetch")?new Error("Network error. Please check your internet connection."):new Error(`Failed to ${e}: ${t.message||"Unknown error"}`)},wi=async t=>{try{if(!(await ty()).success)throw new Error(`Cannot ${t}: Required database tables are missing. Please check your Supabase setup.`)}catch(e){throw console.error(`Error ensuring tables exist for ${t}:`,e),new Error(`Database setup error: ${e}`)}},mo=async(t,e)=>{try{if(await rs()!==t)throw new Error("User ID mismatch. Please sign in again.");await wi("save symptom entry"),console.log("💾 Saving symptom entry:",{userId:t,date:e.date});const r=oT(e,t),{data:s,error:i}=await ke.from("symptom_entries").upsert(r,{onConflict:"user_id,date",ignoreDuplicates:!1}).select().single();i&&(console.error("Supabase upsert error:",i),ss(i,"save entry")),console.log("✅ Successfully saved symptom entry:",s)}catch(n){throw console.error("Save symptom entry error:",n),n}},lT=async(t,e)=>{try{if(await rs()!==t)throw new Error("User ID mismatch. Please sign in again.");await wi("get symptom entry");const{data:r,error:s}=await ke.from("symptom_entries").select("*").eq("user_id",t).eq("date",e).maybeSingle();return s&&(console.error("Supabase get error:",s),ss(s,"get entry")),r?$v(r):null}catch(n){throw console.error("Get symptom entry error:",n),n}},oi=async t=>{try{if(await rs()!==t)throw new Error("User ID mismatch. Please sign in again.");await wi("get symptom entries");const n=Ur(),{startDate:r,endDate:s}=aT(n);console.log(`📅 Getting entries for current month: ${n} (${r} to ${s})`);const{data:i,error:o}=await ke.from("symptom_entries").select("*").eq("user_id",t).gte("date",r).lte("date",s).order("date",{ascending:!1}).limit(20);o&&(console.error("Supabase get all error:",o),ss(o,"get entries"));const a=i?i.map($v).reverse():[];return console.log(`📊 Found ${a.length} entries for current month`),a}catch(e){throw console.error("Get all symptom entries error:",e),e}},jt=async(t,e)=>{try{if(await rs()!==t)throw new Error("User ID mismatch. Please sign in again.");await wi("update user progress"),console.log("📈 Updating user progress:",{userId:t,progress:e});const r=Ur(),s={...e,totalDays:20,completedDays:Math.min(e.completedDays,20),completedDates:e.completedDates.filter(l=>Bv(l)===r).slice(0,20)},i={user_id:t,completed_days:s.completedDays,total_days:s.totalDays,start_date:s.startDate,completed_dates:s.completedDates},{data:o,error:a}=await ke.from("user_progress").upsert(i,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();a&&(console.error("Supabase progress update error:",a),ss(a,"update progress")),console.log("✅ Successfully updated user progress:",o)}catch(n){throw console.error("Update user progress error:",n),n}},la=async t=>{try{if(await rs()!==t)throw new Error("User ID mismatch. Please sign in again.");await wi("get user progress");const{data:n,error:r}=await ke.from("user_progress").select("*").eq("user_id",t).maybeSingle();r&&(console.error("Supabase get progress error:",r),ss(r,"get progress"));const s=Ur();if(!n){const l={completedDays:0,totalDays:20,startDate:new Date().toISOString().split("T")[0],completedDates:[]};return await jt(t,l),l}const o=(await oi(t)).map(l=>l.date),a={completedDays:Math.min(o.length,20),totalDays:20,startDate:n.start_date,completedDates:o.slice(0,20)};return console.log(`📊 User progress for month ${s}:`,a),(a.completedDays!==n.completed_days||JSON.stringify(a.completedDates)!==JSON.stringify(n.completed_dates))&&(console.log("🔄 Syncing progress with actual data..."),await jt(t,a)),a}catch(e){throw console.error("Get user progress error:",e),e}},cT=(t,e)=>ke.channel("symptom_entries_changes").on("postgres_changes",{event:"*",schema:"public",table:"symptom_entries",filter:`user_id=eq.${t}`},async()=>{try{const n=await oi(t);e(n)}catch(n){console.error("Error fetching updated entries:",n)}}).subscribe(),uT=(t,e)=>ke.channel("user_progress_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_progress",filter:`user_id=eq.${t}`},async()=>{try{const n=await la(t);e(n)}catch(n){console.error("Error fetching updated progress:",n)}}).subscribe(),dT=async t=>{try{if(await rs()!==t)throw new Error("User ID mismatch. Please sign in again.");const{data:n,error:r}=await ke.from("symptom_entries").select("date").eq("user_id",t).order("date",{ascending:!1});if(r&&(console.error("Supabase get available months error:",r),ss(r,"get available months")),!n||n.length===0)return[Ur()];const s=new Set;return n.forEach(i=>{const o=Bv(i.date);s.add(o)}),s.add(Ur()),Array.from(s).sort((i,o)=>o.localeCompare(i))}catch(e){return console.error("Get available months error:",e),[Ur()]}},fT=({userId:t,progress:e,onProgressUpdate:n})=>{const[r,s]=j.useState(null),[i,o]=j.useState(!1),[a,l]=j.useState(null),[c,u]=j.useState([]),[f,h]=j.useState([]),p=()=>new Date,y=k=>{const E=new Date(k),P=p();return pp(E,P)},w=k=>{const E=new Date(k),P=new Date;return P.setHours(23,59,59,999),E<=P};j.useEffect(()=>{b()},[t]),j.useEffect(()=>{const k=cT(t,E=>{console.log("📅 Real-time update received:",E),h(E),g(E)});return()=>{k.unsubscribe()}},[t]),j.useEffect(()=>{g(f)},[e,f]);const b=async()=>{try{console.log("📅 Loading current month entries...");const k=await oi(t);console.log("📊 Current month entries loaded:",k),h(k),g(k)}catch(k){console.error("Error loading current month entries:",k)}},g=k=>{console.log("🗓️ Updating calendar events with entries:",k);const E=k.map(P=>(console.log(`✅ Creating event for date: ${P.date}`),{id:P.date,title:"✓ Completed",date:P.date,backgroundColor:"#10b981",borderColor:"#10b981",textColor:"white",display:"block"}));console.log("🎯 Final calendar events:",E),u(E)},m=async k=>{const E=k.dateStr;if(console.log(`📅 Date clicked: ${E}`),!w(E)){U.error("Cannot log symptoms for future dates");return}if(!y(E)){U.error("Can only log symptoms for the current month");return}s(E);try{console.log(`🔍 Checking for existing entry on ${E}`);const P=await lT(t,E);console.log("📋 Existing entry found:",P),l(P)}catch(P){console.error("Error getting existing entry:",P),l(null)}o(!0)},v=async k=>{try{console.log("💾 Saving entry:",k),await mo(t,k);const E=await oi(t);console.log("📊 Current entries after save:",E);const P=E.map(D=>D.date),$={...e,completedDays:Math.min(P.length,20),completedDates:P.slice(0,20)};console.log("📈 Updating progress:",$),await jt(t,$),n($),h(E),U.success(a?"Entry updated successfully!":"Entry saved successfully!"),o(!1),s(null),l(null)}catch(E){console.error("Error saving entry:",E),E.message.includes("not authenticated")?U.error("Please sign in again to save your data"):E.message.includes("network")?U.error("Network error. Please check your connection and try again."):E.message.includes("database")?U.error("Database error. Please contact support if this persists."):U.error(`Failed to save entry: ${E.message}`)}},_=()=>{o(!1),s(null),l(null)},A=p(),C=A.toLocaleDateString("en-US",{year:"numeric",month:"long"});return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsxs("strong",{children:["Monthly Tracking - ",C,":"]})," Click on any date in the current month (up to today) to log your daily symptoms. Completed days will be marked with a green checkmark. You can track up to 20 days per month."]}),d.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["📊 Current month entries: ",f.length," | 📅 Calendar events: ",c.length," | 📈 Progress dates: ",e.completedDates.length]})]}),d.jsx("div",{className:"calendar-container",children:d.jsx(kv,{plugins:[MD,nT],initialView:"dayGridMonth",dateClick:m,events:c,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth"},height:"auto",dayMaxEvents:!0,moreLinkClick:"popover",eventDisplay:"block",dayCellClassNames:k=>{const E=new Date(k.date),P=new Date;return P.setHours(23,59,59,999),E>P?"fc-day-future":pp(E,A)?"fc-day-current-month":"fc-day-past-month"}})}),i&&r&&d.jsx(iT,{date:r,existingEntry:a,onSave:v,onClose:_}),d.jsx("style",{children:`
        /* Future dates - faded and not clickable */
        .fc-day-future {
          background-color: #f3f4f6 !important;
          opacity: 0.5;
          cursor: not-allowed !important;
        }
        .fc-day-future:hover {
          background-color: #f3f4f6 !important;
        }
        
        /* Past month dates - very faded and not clickable */
        .fc-day-past-month {
          background-color: #f9fafb !important;
          opacity: 0.3;
          cursor: not-allowed !important;
        }
        .fc-day-past-month:hover {
          background-color: #f9fafb !important;
        }
        
        /* Current month dates - normal appearance and clickable */
        .fc-day-current-month {
          background-color: white !important;
          opacity: 1;
          cursor: pointer !important;
        }
        .fc-day-current-month:hover {
          background-color: #f8fafc !important;
        }
        
        /* Override FullCalendar's default styles for current month */
        .fc-day-current-month .fc-daygrid-day-frame {
          cursor: pointer !important;
        }
        
        /* Ensure events are visible on current month dates */
        .fc-day-current-month .fc-event {
          opacity: 1 !important;
        }
        
        /* Make sure the calendar doesn't have global opacity issues */
        .calendar-container .fc {
          opacity: 1 !important;
        }
        
        .calendar-container .fc-view-harness {
          opacity: 1 !important;
        }
        
        .calendar-container .fc-daygrid {
          opacity: 1 !important;
        }
      `})]})},hT=({progress:t})=>{const e=t.completedDays/t.totalDays*100;return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(pn,{className:"h-5 w-5 text-green-500"}),d.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[t.completedDays," of ",t.totalDays," days completed"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Pr,{className:"h-5 w-5 text-gray-400"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["Started: ",new Date(t.startDate).toLocaleDateString()]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${e}%`}})}),d.jsxs("div",{className:"text-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[Math.round(e),"%"]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.completedDays>=t.totalDays?"Congratulations! You've completed your tracking period.":`${t.totalDays-t.completedDays} days remaining`})]})]})},pT={high:{prediction:1,prediction_label:"Endometriosis",confidence:.85,probabilities:{no_endometriosis:.15,endometriosis:.85},risk_level:"High",message:"The model suggests a high risk of endometriosis. Please consult with a healthcare professional for proper diagnosis."},moderate:{prediction:0,prediction_label:"No Endometriosis",confidence:.55,probabilities:{no_endometriosis:.55,endometriosis:.45},risk_level:"Moderate",message:"The model suggests a moderate risk. Consider consulting with a healthcare professional to discuss your symptoms."},low:{prediction:0,prediction_label:"No Endometriosis",confidence:.8,probabilities:{no_endometriosis:.8,endometriosis:.2},risk_level:"Low",message:"The model suggests a low likelihood of endometriosis based on the provided symptoms."}},zv={ML_API_URL:"https://endometriosis-ml-api-production.up.railway.app",RAG_API_URL:"https://endometriosis-rag-api-production.up.railway.app"},gT=()=>zv.ML_API_URL,Bl=()=>zv.RAG_API_URL,mT=({predictionResult:t,onClose:e})=>{const[n,r]=j.useState(null),[s,i]=j.useState(!1),[o,a]=j.useState(null),[l,c]=j.useState(""),[u,f]=j.useState(null),[h,p]=j.useState([]),[y,w]=j.useState(""),b=D=>{switch(D.toLowerCase()){case"high":return"text-red-600 bg-red-50 border-red-200";case"moderate":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},g=D=>{switch(D.toLowerCase()){case"high":return d.jsx(Hn,{className:"h-5 w-5"});case"moderate":return d.jsx(ry,{className:"h-5 w-5"});case"low":return d.jsx(pn,{className:"h-5 w-5"});default:return d.jsx(ch,{className:"h-5 w-5"})}},m=D=>{switch(D){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},v=async()=>{try{console.log("🔍 Checking RAG API availability...");const N=(await fetch(`${Bl()}/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)})).ok;return console.log(`🌐 RAG API availability: ${N?"Available":"Unavailable"}`),f(N),N}catch(D){return console.warn("⚠️ RAG API not available:",D),f(!1),!1}},_=async(D="")=>{i(!0),a(null);const N=D||`What does my ${Math.round(t.probabilities.endometriosis*100)}% risk score mean? What should I do next?`;console.log("🚀 Starting explanation generation..."),console.log("📝 Query:",N),console.log("📊 Prediction result:",t);try{if(!await v())throw console.log("⚠️ API not available, using fallback explanation"),new Error("RAG API not available");console.log("📡 Calling RAG API for explanation...");const H=await fetch(`${Bl()}/explain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_query:N,prediction_result:t,use_fallback:!1}),signal:AbortSignal.timeout(3e4)});if(console.log("📡 RAG API response status:",H.status),!H.ok){const ue=await H.text();throw console.error("❌ RAG API error response:",ue),new Error(`API request failed: ${H.status} - ${ue}`)}const te=await H.json();if(console.log("✅ RAG API response received:",te),!te.explanation)throw console.warn("⚠️ No explanation in response, using fallback"),new Error("No explanation received from API");r(te),f(!0),console.log("🎉 Explanation set successfully!")}catch(R){console.error("❌ Error getting explanation:",R),R.name==="AbortError"||R.message.includes("timeout")?a("Request timed out. The explanation service is taking too long to respond."):R.message.includes("fetch")?a("Cannot connect to explanation service. Please make sure the RAG API is running."):a(`Explanation service error: ${R.message}`),console.log("🔄 Using fallback explanation...");const H={explanation:k(t.risk_level),recommendations:E(t.risk_level),risk_level:t.risk_level,confidence:t.confidence,prediction_summary:{label:t.prediction_label,probability:t.probabilities.endometriosis,risk_level:t.risk_level}};r(H),f(!1),console.log("✅ Fallback explanation set")}finally{i(!1)}},A=async D=>{if(D.trim()){i(!0),a(null),w(""),console.log("❓ Asking question:",D);try{if(!await v())throw console.log("⚠️ API not available, using fallback answer"),new Error("RAG API not available for questions");console.log("📡 Calling RAG API for question...");const R=await fetch(`${Bl()}/ask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:D,prediction_result:t}),signal:AbortSignal.timeout(3e4)});if(console.log("📡 Question API response status:",R.status),!R.ok){const te=await R.text();throw console.error("❌ Question API error:",te),new Error(`Question API failed: ${R.status}`)}const H=await R.json();if(console.log("✅ Question response received:",H),H.answer&&H.answer.trim()){w(H.answer);const te={question:D,answer:H.answer};p(ue=>[...ue,te]),console.log("🔄 Added question and answer to history"),console.log("📝 Current answer set:",H.answer)}else throw new Error("No answer received from API");c(""),f(!0)}catch(N){console.error("❌ Error asking question:",N);const R=C(D,t.risk_level);w(R);const H={question:D,answer:R};p(te=>[...te,H]),console.log("🔄 Used fallback answer for question"),console.log("📝 Fallback answer set:",R),c(""),f(!1)}finally{i(!1)}}},C=(D,N)=>{const R=D.toLowerCase(),H=Math.round(t.probabilities.endometriosis*100);return R.includes("next steps")||R.includes("what should i do")?N.toLowerCase()==="high"?`With your ${H}% risk score, I recommend scheduling an appointment with a gynecologist as soon as possible. Bring your symptom tracking data and prepare a list of questions. Don't let anyone dismiss your concerns - you know your body best.`:N.toLowerCase()==="moderate"?`Your ${H}% risk score suggests you should schedule a consultation with a gynecologist to discuss your symptoms. Continue tracking your symptoms and consider discussing your family history with your doctor.`:`With your ${H}% risk score, continue monitoring your symptoms and maintain regular gynecological check-ups. If symptoms worsen or new symptoms develop, don't hesitate to consult a healthcare provider.`:R.includes("accurate")||R.includes("accuracy")?"This analysis is based on symptom patterns and machine learning, but it's important to understand that only a healthcare professional can provide a definitive diagnosis. The tool is designed to help you understand when to seek medical care and what information to share with your doctor.":R.includes("concerning")||R.includes("symptoms")?"The most concerning symptoms that warrant medical attention include severe pelvic pain that interferes with daily activities, heavy or irregular bleeding, pain during intercourse, and persistent digestive issues. Any combination of these symptoms, especially if they're getting worse, should be evaluated by a healthcare provider.":R.includes("doctor")||R.includes("see")?N.toLowerCase()==="high"?"You should see a doctor as soon as possible, ideally within the next few weeks. Look for a gynecologist who has experience with endometriosis and pelvic pain. Don't delay if your symptoms are severe or getting worse.":"Consider scheduling an appointment with a gynecologist within the next few months, or sooner if your symptoms worsen. Regular check-ups are important for monitoring your reproductive health.":R.includes("treatment")||R.includes("options")?"Treatment options for endometriosis vary depending on severity and symptoms. They can include pain management with medications, hormonal therapies like birth control pills, and in some cases, surgical options. The best treatment plan depends on your specific situation, symptoms, and goals, which is why it's important to work with a healthcare provider.":`That's a great question about your health. With your ${H}% risk score, I recommend discussing this specific concern with a healthcare provider who can give you personalized medical advice based on your complete health history and a thorough examination.`},k=D=>{const N=Math.round(t.probabilities.endometriosis*100);switch(D.toLowerCase()){case"high":return`Your symptom pattern analysis shows a ${N}% risk score, which indicates a higher likelihood that your symptoms may be related to endometriosis. This means your combination of symptoms - particularly pain patterns, menstrual irregularities, and other factors - creates a pattern that's often seen in endometriosis cases.

It's important to schedule an appointment with a gynecologist as soon as possible to discuss your symptoms and explore diagnostic options. Remember, this is a screening tool to help guide your healthcare decisions, not a definitive diagnosis.

Many effective treatments are available, and early intervention often leads to better outcomes. You're taking an important step by tracking your symptoms and seeking information.`;case"moderate":return`Your analysis shows a ${N}% risk score, indicating moderate concern. Some of your symptoms align with patterns seen in endometriosis, but the picture isn't entirely clear.

This suggests you should schedule a consultation with a gynecologist to discuss your symptoms and explore potential causes. Continue tracking your symptoms to identify patterns that can help your healthcare provider make the best recommendations for you.

Whether or not you have endometriosis, your symptoms deserve attention and proper medical evaluation.`;case"low":return`Your analysis shows a ${N}% risk score, which is considered lower risk. Your current symptoms don't strongly match typical endometriosis patterns, but every person's experience is unique.

Continue monitoring your symptoms and maintain regular gynecological check-ups. If symptoms worsen or new symptoms develop, don't hesitate to consult a healthcare provider.

Trust your body and don't hesitate to advocate for your health.`;default:return`Based on your symptom analysis, you have a ${N}% risk score. Please consult with a healthcare professional to discuss your symptoms and determine the best course of action for your specific situation.`}},E=D=>{const N=[{category:"Self-Care",action:"Continue tracking symptoms",description:"Keep detailed records of pain, bleeding, and other symptoms to share with healthcare providers."}];return D.toLowerCase()==="high"?[...N,{category:"Medical Care",action:"Schedule gynecologist appointment urgently",description:"Book an appointment as soon as possible to discuss your symptoms and diagnostic options.",priority:"high"},{category:"Preparation",action:"Prepare for medical appointment",description:"Gather your symptom records, family history, and list of questions for your doctor.",priority:"high"}]:D.toLowerCase()==="moderate"?[...N,{category:"Medical Care",action:"Schedule gynecologist consultation",description:"Make an appointment to discuss your symptoms and explore potential causes.",priority:"medium"}]:[...N,{category:"Monitoring",action:"Continue regular check-ups",description:"Maintain routine gynecological care and mention any concerning symptoms."}]},P=async()=>{l.trim()&&await A(l)},$=["What are the next steps I should take?","How accurate is this analysis?","What symptoms are most concerning?","When should I see a doctor?","What treatment options are available?"];return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-primary-50 to-primary-100",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(uh,{className:"h-8 w-8 text-primary-600"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Detailed Health Insights"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Personalized explanation of your analysis results"}),u!==null&&d.jsxs("div",{className:"flex items-center space-x-1",children:[u?d.jsx(dh,{className:"h-3 w-3 text-green-600"}):d.jsx(uo,{className:"h-3 w-3 text-red-600"}),d.jsx("span",{className:`text-xs ${u?"text-green-600":"text-red-600"}`,children:u?"AI Connected":"AI Offline"})]})]})]})]}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors text-2xl",children:"×"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d.jsxs("div",{className:`rounded-lg border p-4 mb-6 ${b(t.risk_level)}`,children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[g(t.risk_level),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold",children:[t.risk_level," Risk Level"]}),d.jsxs("p",{className:"text-sm",children:[Math.round(t.probabilities.endometriosis*100),"% risk score"]})]})]}),d.jsx("p",{className:"text-sm",children:t.message})]}),u===!1&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(uo,{className:"h-5 w-5 text-yellow-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-800 font-medium",children:"AI Explanation Service Offline"}),d.jsx("p",{className:"text-yellow-700 text-sm",children:"The advanced AI explanation service is not available. Make sure the RAG API is running. Using built-in explanations instead."})]})]})}),!n&&!s&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(qo,{className:"h-12 w-12 text-primary-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Get Personalized Explanation"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Get detailed, easy-to-understand explanations of your results and personalized recommendations for next steps."}),d.jsxs("button",{onClick:()=>_(),className:"btn-primary",children:[d.jsx(ch,{className:"h-4 w-4 mr-2"}),"Generate Detailed Explanation"]})]}),s&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:u===!1?"Generating explanation using built-in knowledge...":"Generating your personalized AI explanation..."})]}),o&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Hn,{className:"h-5 w-5 text-red-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 font-medium",children:"Service Issue"}),d.jsx("p",{className:"text-red-700 text-sm",children:o}),d.jsx("p",{className:"text-red-600 text-xs mt-1",children:"To enable AI explanations, make sure the RAG API server is running."})]})]})}),n&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:`rounded-lg border p-3 ${u?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[u?d.jsx(dh,{className:"h-4 w-4 text-green-600"}):d.jsx(uo,{className:"h-4 w-4 text-gray-600"}),d.jsx("span",{className:`text-sm font-medium ${u?"text-green-800":"text-gray-800"}`,children:u?"AI-Powered Explanation":"Built-in Explanation"}),d.jsx("span",{className:`text-xs ${u?"text-green-600":"text-gray-600"}`,children:u?"Generated using advanced AI":"Using medical knowledge base"})]})}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsxs("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[d.jsx(uh,{className:"h-5 w-5 mr-2"}),"Your Personalized Explanation"]}),d.jsx("div",{className:"prose prose-blue max-w-none",children:d.jsx("div",{className:"text-blue-800 leading-relaxed whitespace-pre-line",children:n.explanation})})]}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:[d.jsxs("h4",{className:"font-medium text-purple-900 mb-3 flex items-center",children:[d.jsx(lh,{className:"h-4 w-4 mr-2"}),"Ask Follow-up Questions"]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"Quick questions:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((D,N)=>d.jsx("button",{onClick:()=>A(D),disabled:s,className:"text-xs bg-white hover:bg-purple-50 text-purple-700 border border-purple-200 px-3 py-1 rounded-full transition-colors disabled:opacity-50",children:D},N))})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("input",{type:"text",value:l,onChange:D=>c(D.target.value),placeholder:"Ask your own question...",className:"flex-1 input-field text-sm",onKeyPress:D=>D.key==="Enter"&&P()}),d.jsx("button",{onClick:P,disabled:!l.trim()||s,className:"btn-primary disabled:opacity-50 text-sm px-4 py-2",children:s?d.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):"Ask"})]}),d.jsx("p",{className:"text-xs text-purple-600 mt-2",children:u?"Powered by DeepSeek AI for accurate medical information":"Using built-in medical knowledge base"})]}),y&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx(pn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Latest Answer"}),d.jsx("div",{className:"text-green-800 text-sm leading-relaxed whitespace-pre-line",children:y})]})]})}),h.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[d.jsx(lh,{className:"h-5 w-5 mr-2 text-purple-600"}),"Your Questions & Answers (",h.length,")"]}),d.jsx("div",{className:"space-y-3",children:h.slice().reverse().map((D,N)=>d.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Q: "}),d.jsx("span",{className:"text-sm text-purple-800",children:D.question})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium text-purple-900",children:"A: "}),d.jsx("span",{className:"text-sm text-purple-700 whitespace-pre-line",children:D.answer})]})]},N))})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(pn,{className:"h-5 w-5 mr-2 text-green-600"}),"Recommended Next Steps"]}),d.jsx("div",{className:"grid gap-4",children:n.recommendations.map((D,N)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.action}),D.priority&&d.jsxs("span",{className:`px-2 py-1 text-xs rounded-full border ${m(D.priority)}`,children:[D.priority," priority"]})]}),d.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:D.category})]}),d.jsx("p",{className:"text-sm text-gray-600",children:D.description})]},N))})]})]})]}),d.jsx("div",{className:"border-t bg-gray-50 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-xs text-gray-500",children:"This explanation is for educational purposes only and does not replace professional medical advice."}),d.jsx("button",{onClick:e,className:"btn-secondary",children:"Close"})]})})]})})},yT=({user:t,completedDays:e,isComplete:n,selectedMonth:r})=>{const[s,i]=j.useState(null),[o,a]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState(null),[h,p]=j.useState(!1),[y,w]=j.useState(null),b=e>=5,g=20,m=Math.min(e,g),v=D=>{const[N,R]=D.split("-");return new Date(parseInt(N),parseInt(R)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})},_=D=>{const N=D.slice(0,g),R={},H=["irregularPeriods","cramping","menstrualClots","infertility","chronicPain","diarrhea","longMenstruation","vomiting","migraines","extremeBloating","legPain","depression","fertilityIssues","ovarianCysts","painfulUrination","painAfterIntercourse","digestiveProblems","anemia","hipPain","vaginalPain","cysts","abnormalBleeding","hormonalProblems","feelingSick","abdominalCrampsIntercourse","insomnia","lossOfAppetite"],te={irregularPeriods:"Irregular_Missed_periods",cramping:"Cramping",menstrualClots:"Menstrual_clots",infertility:"Infertility",chronicPain:"Pain_Chronic_pain",diarrhea:"Diarrhea",longMenstruation:"Long_menstruation",vomiting:"Vomiting_constant_vomiting",migraines:"Migraines",extremeBloating:"Extreme_Bloating",legPain:"Leg_pain",depression:"Depression",fertilityIssues:"Fertility_Issues",ovarianCysts:"Ovarian_cysts",painfulUrination:"Painful_urination",painAfterIntercourse:"Pain_after_Intercourse",digestiveProblems:"Digestive_GI_problems",anemia:"Anaemia_Iron_deficiency",hipPain:"Hip_pain",vaginalPain:"Vaginal_Pain_Pressure",cysts:"Cysts_unspecified",abnormalBleeding:"Abnormal_uterine_bleeding",hormonalProblems:"Hormonal_problems",feelingSick:"Feeling_sick",abdominalCrampsIntercourse:"Abdominal_Cramps_during_Intercourse",insomnia:"Insomnia_Sleeplessness",lossOfAppetite:"Loss_of_appetite"};return H.forEach(ue=>{const Ae=te[ue];if(Ae){const I=N.filter(O=>O[ue]===!0).length;R[Ae]=I/N.length}}),R},A=D=>{const N=D.slice(0,g);if(N.length===0)return console.log("No entries found for stats generation"),null;console.log(`🔍 Generating stats for ${v(r)} - ${N.length} entries`),console.log("📊 Sample entry structure:",N[0]);const R=N[0],H=Object.keys(R).filter(F=>typeof R[F]=="boolean");console.log("🔢 Boolean fields found:",H);const ue=Object.entries({"Pain Symptoms":["cramping","chronicPain","legPain","hipPain","vaginalPain","painfulUrination","painAfterIntercourse","abdominalCrampsIntercourse"],"Menstrual Symptoms":["irregularPeriods","menstrualClots","longMenstruation","abnormalBleeding"],"Digestive Symptoms":["diarrhea","vomiting","extremeBloating","digestiveProblems","lossOfAppetite","feelingSick"],"General Health":["migraines","depression","insomnia","anemia"],"Reproductive Health":["infertility","fertilityIssues","ovarianCysts","cysts","hormonalProblems"]}).map(([F,Be])=>{console.log(`
📋 Processing category: ${F}`),console.log(`🎯 Symptoms to check: ${Be.join(", ")}`);let pe=0,nt=0;N.forEach((or,Ha)=>{let jd=!1,Id=[];Be.forEach(Fa=>{const Va=or[Fa];console.log(`  Day ${Ha+1}, ${Fa}: ${Va} (type: ${typeof Va})`),Va===!0&&(nt++,jd=!0,Id.push(Fa))}),jd?(pe++,console.log(`  ✅ Day ${Ha+1} has symptoms: ${Id.join(", ")}`)):console.log(`  ❌ Day ${Ha+1} has no symptoms in this category`)});const Ie=N.length>0?Math.round(pe/N.length*100):0;return console.log(`📊 ${F} FINAL STATS for ${v(r)}:`),console.log(`   - Days with symptoms: ${pe}/${N.length}`),console.log(`   - Total occurrences: ${nt}`),console.log(`   - Percentage: ${Ie}%`),{category:F,percentage:Ie,occurrences:nt,daysWithSymptoms:pe,color:C(F)}}),Ae=[{key:"cramping",label:"Cramping"},{key:"chronicPain",label:"Chronic Pain"},{key:"extremeBloating",label:"Bloating"},{key:"migraines",label:"Migraines"},{key:"depression",label:"Mood Changes"},{key:"irregularPeriods",label:"Irregular Periods"},{key:"digestiveProblems",label:"Digestive Issues"},{key:"insomnia",label:"Sleep Issues"},{key:"painAfterIntercourse",label:"Pain After Intercourse"},{key:"ovarianCysts",label:"Ovarian Cysts"}];console.log(`
🔍 Analyzing individual symptoms:`);const I=Ae.map(F=>{const Be=N.filter(nt=>{const Ie=nt[F.key];return console.log(`  ${F.key}: ${Ie} (type: ${typeof Ie})`),Ie===!0}).length,pe=N.length>0?Math.round(Be/N.length*100):0;return console.log(`  ${F.label}: ${Be}/${N.length} days = ${pe}%`),{...F,count:Be,percentage:pe}}).filter(F=>F.count>0).sort((F,Be)=>Be.count-F.count).slice(0,5),O=N.filter(F=>Object.keys(F).some(pe=>{const nt=F[pe];return typeof nt=="boolean"&&pe!=="date"&&pe!=="timestamp"&&pe!=="notes"&&nt===!0})).length,z=N.length>0?Math.round(O/N.length*100):0;console.log(`
📈 OVERALL STATISTICS for ${v(r)}:`),console.log(`   - Total days analyzed: ${N.length}`),console.log(`   - Days with any symptoms: ${O}`),console.log(`   - Symptom-free days: ${N.length-O}`),console.log(`   - Overall symptom rate: ${z}%`);const ne={categoryStats:ue,topSymptoms:I,totalDays:N.length,totalSymptomDays:O,symptomFreeDays:N.length-O,overallSymptomRate:z,monthDisplayName:v(r)};return console.log(`
🎯 FINAL STATS OBJECT:`,ne),ne},C=D=>({"Pain Symptoms":"bg-red-500","Menstrual Symptoms":"bg-pink-500","Digestive Symptoms":"bg-orange-500","General Health":"bg-blue-500","Reproductive Health":"bg-purple-500"})[D]||"bg-gray-500",k=D=>{const N=D.slice(0,g),R=N.reduce((Ae,I)=>(Object.keys(I).forEach(O=>{typeof I[O]=="boolean"&&I[O]&&(Ae[O]=(Ae[O]||0)+1)}),Ae),{}),te=Object.values(R).reduce((Ae,I)=>Ae+I,0)/N.length;let ue;return te>=6?ue="high":te>=3?ue="moderate":ue="low",pT[ue]},E=async()=>{a(!0),f(null),p(!1);try{console.log(`🚀 Starting prediction analysis for ${v(r)}...`);const D=await oi(t.id);if(console.log(`📥 Raw entries from database for ${v(r)}:`,D),D.length===0)throw new Error(`No symptom data found for ${v(r)}. Please log some symptoms first.`);const N=D.slice(0,g);if(console.log("📊 Limited entries for analysis:",N),N.length<5)throw new Error(`Need at least 5 days of data for analysis. You have ${N.length} days for ${v(r)}.`);console.log("📈 Generating symptom statistics...");const R=A(N);console.log("✅ Generated stats:",R),w(R);try{const te=_(N);console.log("🔄 Transformed data for API:",te);const ue=await fetch(`${gT()}/predict`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(ue.ok){const Ae=await ue.json();i(Ae),U.success(`Analysis completed for ${v(r)} using ${N.length} days of data!`);return}}catch(te){console.warn("Analysis service not available, using demo results:",te)}const H=k(N);i(H),p(!0),U.success(`Demo analysis generated for ${v(r)} using ${N.length} days!`)}catch(D){console.error("Analysis error:",D),f(D.message||"Failed to generate analysis"),U.error("Failed to generate analysis")}finally{a(!1)}},P=D=>{switch(D==null?void 0:D.toLowerCase()){case"high":return"text-red-600 bg-red-50 border-red-200";case"moderate":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},$=D=>{switch(D==null?void 0:D.toLowerCase()){case"high":return d.jsx(Hn,{className:"h-6 w-6"});case"moderate":return d.jsx(VS,{className:"h-6 w-6"});case"low":return d.jsx(pn,{className:"h-6 w-6"});default:return d.jsx(fr,{className:"h-6 w-6"})}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(fr,{className:"h-8 w-8 text-primary-600"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monthly Health Analysis"}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Analyze your symptom patterns for ",v(r)]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ti,{className:"h-4 w-4"}),d.jsx("span",{children:"Monthly Data"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Pr,{className:"h-4 w-4"}),d.jsxs("span",{children:[m,"/20 days"]})]}),n&&d.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[d.jsx(pn,{className:"h-4 w-4"}),d.jsx("span",{children:"Complete"})]})]})]}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ry,{className:"h-5 w-5 text-blue-600"}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-blue-800 font-medium",children:["Monthly Analysis - ",v(r)]}),d.jsxs("p",{className:"text-blue-700 text-sm",children:["Analysis is based on up to 20 days of symptom data from this month for accurate insights.",m<g&&` You have ${g-m} days remaining this month.`,n&&" This month's tracking is complete!"]})]})]})}),!b&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Hn,{className:"h-5 w-5 text-yellow-600"}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-yellow-800 font-medium",children:["More data needed for ",v(r)]}),d.jsxs("p",{className:"text-yellow-700 text-sm",children:["Track at least 5 days of symptoms to generate a monthly analysis. You currently have ",m," days logged for this month."]})]})]})}),u&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Hn,{className:"h-5 w-5 text-red-600"}),d.jsx("p",{className:"text-red-800",children:u})]})}),h&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(fr,{className:"h-5 w-5 text-yellow-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-800 font-medium",children:"Demo Analysis"}),d.jsxs("p",{className:"text-yellow-700 text-sm",children:["Using sample analysis based on ",m," days of data from ",v(r),". Your monthly data is being read securely from our database."]})]})]})}),!s&&b&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(fr,{className:"h-16 w-16 text-primary-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready for Monthly Analysis"}),d.jsxs("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:["Analyze your ",m," days of symptom patterns from ",v(r),"to get personalized insights about your health."]}),d.jsx("button",{onClick:E,disabled:o||!b,className:"btn-primary disabled:opacity-50",children:o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyzing ",v(r),"..."]}):d.jsxs(d.Fragment,{children:[d.jsx(fr,{className:"h-4 w-4 mr-2"}),"Analyze ",v(r)," (",m," days)"]})})]})]}),y&&d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(MS,{className:"h-5 w-5 text-primary-600"}),d.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Symptom Categories - ",y.monthDisplayName]})]}),d.jsx("div",{className:"space-y-4",children:y.categoryStats.map((D,N)=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:D.category}),d.jsxs("div",{className:"text-right",children:[d.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[D.percentage,"%"]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[D.daysWithSymptoms," of ",y.totalDays," days"]})]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:d.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${D.color}`,style:{width:`${Math.max(D.percentage,2)}%`}})})]},N))}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[d.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[y.overallSymptomRate,"%"]}),d.jsx("div",{className:"text-xs text-blue-800",children:"Days with symptoms"})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[d.jsx("div",{className:"text-lg font-bold text-green-600",children:y.symptomFreeDays}),d.jsx("div",{className:"text-xs text-green-800",children:"Symptom-free days"})]})]})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx($S,{className:"h-5 w-5 text-primary-600"}),d.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Most Frequent Symptoms - ",y.monthDisplayName]})]}),y.topSymptoms.length>0?d.jsx("div",{className:"space-y-3",children:y.topSymptoms.map((D,N)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-primary-600 font-semibold text-sm",children:N+1})}),d.jsx("span",{className:"font-medium text-gray-900",children:D.label})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[D.count," days"]}),d.jsxs("div",{className:"text-xs text-gray-600",children:[D.percentage,"% of days"]})]})]},N))}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(fr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm",children:"No frequent symptoms detected"}),d.jsx("p",{className:"text-xs",children:"This indicates mostly symptom-free days this month"})]})]})]}),s&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:`rounded-lg border p-6 ${P(s.risk_level)}`,children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[$(s.risk_level),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Health Analysis Results"}),d.jsxs("p",{className:"text-sm opacity-90",children:[s.risk_level," Risk Level for ",v(r),h&&d.jsx("span",{className:"ml-2",children:"(Demo)"})]}),d.jsxs("p",{className:"text-xs opacity-75 mt-1",children:["Based on ",m," days of symptom data from this month"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(s.probabilities.endometriosis*100),"%"]}),d.jsx("div",{className:"text-xs opacity-75",children:"Risk Score"})]})]}),d.jsx("p",{className:"text-sm mb-4",children:s.message}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"Monthly Risk Assessment"}),d.jsxs("span",{children:[Math.round(s.probabilities.endometriosis*100),"%"]})]}),d.jsx("div",{className:"w-full bg-white bg-opacity-30 rounded-full h-3",children:d.jsx("div",{className:"bg-current h-3 rounded-full transition-all duration-500",style:{width:`${s.probabilities.endometriosis*100}%`}})})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{onClick:()=>c(!0),className:"flex-1 btn-primary",children:[d.jsx(ny,{className:"h-4 w-4 mr-2"}),"Get Detailed Explanation"]}),d.jsx("button",{onClick:E,disabled:o,className:"btn-secondary",children:o?"Updating...":"Update Analysis"})]}),d.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Important Information"}),d.jsxs("p",{className:"text-sm text-gray-600",children:["This monthly analysis is based on your symptom patterns over ",m," days from ",v(r)," and is for informational purposes only. It does not constitute medical advice or diagnosis. Please consult with a healthcare professional for proper medical evaluation and diagnosis."]})]})]}),l&&s&&d.jsx(mT,{predictionResult:s,onClose:()=>c(!1)})]})},zl=t=>{const e=[];for(let c=1;c<=31;c++){const u=new Date(2024,4,c),f=u.toISOString().split("T")[0],p=(c>=3?c-3:c+25)%28+1,y=p<=7,w=p>=14&&p<=16,b=p>=17,g=(_,A=2,C=1.3,k=1.5)=>y?Math.min(.9,_*A):w?Math.min(.8,_*C):b?Math.min(.7,_*k):_,m=()=>{if(y){const A=["Heavy flow today, using extra protection","Severe cramps in the morning, better after pain relief","Feeling very tired, took a nap","Lower back pain radiating down legs","Mood swings, feeling emotional","Bloating and water retention","Headache with period","Clots noticed during heavy flow","Pain worse at night","Used heating pad for relief"];return A[Math.floor(Math.random()*A.length)]}if(w){const A=["Sharp pain on right side - ovulation?","Increased energy today","Mild cramping mid-cycle","Feeling more positive","Some bloating but manageable","Clear discharge noticed","Slight breast tenderness","Good day overall"];return A[Math.floor(Math.random()*A.length)]}if(b){const A=["PMS symptoms starting","Feeling irritable and anxious","Breast tenderness increasing","Craving sweets and carbs","Trouble sleeping, restless","Mild cramping, period approaching","Skin breaking out","Feeling bloated and uncomfortable","Mood dips in afternoon","Fatigue setting in"];return A[Math.floor(Math.random()*A.length)]}const _=["Feeling good today, energy returning","Mood improving after period","Skin looking clearer","Minimal symptoms today","Good sleep last night","Exercise felt easier","Positive outlook","No significant symptoms"];return _[Math.floor(Math.random()*_.length)]},v={irregularPeriods:Math.random()<.15,menstrualClots:y&&Math.random()<.7,longMenstruation:y&&Math.random()<.4,abnormalBleeding:Math.random()<g(.2,1.5,1,1),cramping:Math.random()<g(.3,3,1.5,2),chronicPain:Math.random()<g(.25,2.5,1.2,1.8),legPain:Math.random()<g(.2,2,1,1.5),hipPain:Math.random()<g(.18,2.2,1,1.3),vaginalPain:Math.random()<g(.15,2,1.3,1.2),painfulUrination:Math.random()<g(.12,1.8,1,1),painAfterIntercourse:Math.random()<g(.2,1.5,1.2,1.3),abdominalCrampsIntercourse:Math.random()<g(.15,1.5,1.2,1.2),diarrhea:Math.random()<g(.2,2.5,1,1.3),vomiting:Math.random()<g(.08,3,1,1.2),extremeBloating:Math.random()<g(.4,2,1.2,2.2),digestiveProblems:Math.random()<g(.3,2.2,1.1,1.8),lossOfAppetite:Math.random()<g(.15,2,1,1.5),feelingSick:Math.random()<g(.2,2.5,1,1.4),migraines:Math.random()<g(.25,2.5,1.2,1.8),depression:Math.random()<g(.2,2,1,2.5),insomnia:Math.random()<g(.25,1.8,1.1,2.2),anemia:Math.random()<g(.1,1.5,1,1),infertility:Math.random()<.05,fertilityIssues:Math.random()<.1,ovarianCysts:Math.random()<g(.15,1.2,1.5,1.3),cysts:Math.random()<g(.12,1.2,1.4,1.2),hormonalProblems:Math.random()<g(.3,1.5,1.2,2),date:f,timestamp:u.getTime(),notes:Math.random()<.7?m():""};e.push(v)}const a=e.map(c=>c.date),l={completedDays:e.length,totalDays:31,startDate:"2024-05-01",completedDates:a};return{entries:e,progress:l}},Nd={highRisk:{name:"May 2024 - High Risk Pattern",description:"Complete May data showing high endometriosis risk with severe symptoms",generator:t=>{const{entries:e,progress:n}=zl();return{entries:e.map(s=>{const a=(new Date(s.date).getDate()-3+28)%28+1,l=a<=7,c=a>=17;return{...s,cramping:s.cramping||Math.random()<.8,chronicPain:s.chronicPain||Math.random()<.7,extremeBloating:s.extremeBloating||Math.random()<.6,painAfterIntercourse:s.painAfterIntercourse||Math.random()<.5,ovarianCysts:s.ovarianCysts||Math.random()<.4,depression:s.depression||c&&Math.random()<.6,migraines:s.migraines||l&&Math.random()<.7,digestiveProblems:s.digestiveProblems||Math.random()<.5,notes:s.notes||(Math.random()<.5?"Severe pain day, had to rest":"")}}),progress:n}}},moderateRisk:{name:"May 2024 - Moderate Risk Pattern",description:"Complete May data showing moderate symptoms with some concerning patterns",generator:t=>{const{entries:e,progress:n}=zl();return{entries:e.map(s=>{const l=(new Date(s.date).getDate()-3+28)%28+1<=7;return{...s,cramping:s.cramping||l&&Math.random()<.6,chronicPain:s.chronicPain||Math.random()<.4,extremeBloating:s.extremeBloating||Math.random()<.4,irregularPeriods:Math.random()<.2,migraines:s.migraines||Math.random()<.3}}),progress:n}}},lowRisk:{name:"May 2024 - Low Risk Pattern",description:"Complete May data with minimal symptoms, mostly normal cycle",generator:t=>{const{entries:e,progress:n}=zl();return{entries:e.map(s=>{const l=(new Date(s.date).getDate()-3+28)%28+1<=7;return{...s,cramping:l&&Math.random()<.3,chronicPain:!1,extremeBloating:Math.random()<.2,painAfterIntercourse:!1,ovarianCysts:!1,depression:Math.random()<.1,migraines:Math.random()<.15,digestiveProblems:Math.random()<.2,notes:s.notes&&Math.random()<.3?"Mild symptoms, manageable":""}}),progress:n}}}},vT=(t="moderateRisk",e)=>Nd[t].generator(e);class wT{constructor(e){Md(this,"userId");this.userId=e}async hasExistingData(){try{const e=await la(this.userId);return e?e.completedDays>0:!1}catch(e){return console.error("Error checking existing data:",e),!1}}async loadMayScenario(e){try{const n=Nd[e];U.loading(`Loading ${n.name}...`);const{entries:r,progress:s}=n.generator(this.userId),i=r.slice(0,20),o=5;for(let l=0;l<i.length;l+=o){const c=i.slice(l,l+o);await Promise.all(c.map(f=>mo(this.userId,f)));const u=Math.round((l+c.length)/i.length*100);U.loading(`Loading ${n.name}... ${u}%`)}const a={...s,totalDays:20,completedDays:Math.min(i.length,20),completedDates:i.map(l=>l.date).slice(0,20)};await jt(this.userId,a),U.dismiss(),U.success(`${n.name} loaded successfully! (${i.length} days)`)}catch(n){U.dismiss(),U.error("Failed to load May 2024 data"),console.error("Error loading May data:",n)}}async loadCustomMayData(e={}){try{const{riskLevel:n="moderate",symptomIntensity:r=.5,includeNotes:s=!0}=e;U.loading("Generating custom May 2024 data...");const{entries:i,progress:o}=vT(n==="high"?"highRisk":n==="low"?"lowRisk":"moderateRisk",this.userId),l=i.slice(0,20).map(u=>{const f={...u};return Object.keys(f).forEach(h=>{typeof f[h]=="boolean"&&h!=="date"&&h!=="timestamp"&&f[h]&&Math.random()>r&&(f[h]=!1)}),s||(f.notes=""),f});for(const u of l)await mo(this.userId,u);const c={...o,totalDays:20,completedDays:Math.min(l.length,20),completedDates:l.map(u=>u.date).slice(0,20)};await jt(this.userId,c),U.dismiss(),U.success(`Custom May 2024 data loaded! (${l.length} days)`)}catch(n){U.dismiss(),U.error("Failed to generate custom May data"),console.error("Error generating custom May data:",n)}}async clearAllData(){try{U.loading("Clearing all data...");const e={completedDays:0,totalDays:20,startDate:new Date().toISOString().split("T")[0],completedDates:[]};await jt(this.userId,e),U.dismiss(),U.success("All data cleared successfully! Ready for new 20-day tracking period.")}catch(e){U.dismiss(),U.error("Failed to clear data"),console.error("Error clearing data:",e)}}async addRandomDays(e=5){try{const n=await la(this.userId);if(!n)return;if(n.completedDays>=20){U.error("Already at 20-day limit! Start a new month to continue tracking.");return}const r=20-n.completedDays,s=Math.min(e,r);U.loading(`Adding ${s} random days...`);const i=[],o=new Date;for(let c=0;c<s;c++){const u=new Date(o);u.setDate(u.getDate()-c-1);const f=u.toISOString().split("T")[0];if(n.completedDates.includes(f))continue;const h={irregularPeriods:Math.random()<.2,cramping:Math.random()<.4,menstrualClots:Math.random()<.3,infertility:Math.random()<.1,chronicPain:Math.random()<.3,diarrhea:Math.random()<.25,longMenstruation:Math.random()<.2,vomiting:Math.random()<.15,migraines:Math.random()<.3,extremeBloating:Math.random()<.4,legPain:Math.random()<.25,depression:Math.random()<.2,fertilityIssues:Math.random()<.15,ovarianCysts:Math.random()<.2,painfulUrination:Math.random()<.15,painAfterIntercourse:Math.random()<.2,digestiveProblems:Math.random()<.3,anemia:Math.random()<.1,hipPain:Math.random()<.2,vaginalPain:Math.random()<.2,cysts:Math.random()<.15,abnormalBleeding:Math.random()<.2,hormonalProblems:Math.random()<.25,feelingSick:Math.random()<.2,abdominalCrampsIntercourse:Math.random()<.15,insomnia:Math.random()<.25,lossOfAppetite:Math.random()<.15,notes:Math.random()<.5?"Random symptom day":"",date:f,timestamp:u.getTime()};i.push(h)}for(const c of i)await mo(this.userId,c);const a=Math.min(n.completedDays+i.length,20),l={...n,totalDays:20,completedDays:a,completedDates:[...n.completedDates,...i.map(c=>c.date)].slice(0,20)};await jt(this.userId,l),U.dismiss(),a>=20?U.success(`Added ${i.length} days! 20-day tracking period complete!`):U.success(`Added ${i.length} random days! ${20-a} days remaining.`)}catch(n){U.dismiss(),U.error("Failed to add random days"),console.error("Error adding random days:",n)}}async startNewMonth(){try{U.loading("Starting new 20-day tracking period...");const e={completedDays:0,totalDays:20,startDate:new Date().toISOString().split("T")[0],completedDates:[]};await jt(this.userId,e),U.dismiss(),U.success("New 20-day tracking period started!")}catch(e){U.dismiss(),U.error("Failed to start new tracking period"),console.error("Error starting new month:",e)}}}const Hv=t=>new wT(t),bT=({user:t,onDataLoaded:e})=>{const[n,r]=j.useState(!1),[s,i]=j.useState(!1),[o]=j.useState(()=>Hv(t.id)),a=async f=>{r(!0);try{await o.loadMayScenario(f),e()}finally{r(!1)}},l=async()=>{r(!0);try{await o.loadCustomMayData({riskLevel:"moderate",symptomIntensity:.6,includeNotes:!0}),e()}finally{r(!1)}},c=async()=>{r(!0);try{await o.addRandomDays(7),e()}finally{r(!1)}},u=async()=>{if(confirm("Are you sure you want to clear all data? This cannot be undone.")){r(!0);try{await o.clearAllData(),e()}finally{r(!1)}}};return s?d.jsxs("div",{className:"fixed bottom-4 right-4 z-50 bg-white rounded-xl shadow-2xl border border-gray-200 p-6 w-96 max-h-[80vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-lg",children:d.jsx(ti,{className:"h-5 w-5 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:"Supabase Demo"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Real-time data controls"})]})]}),d.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:"×"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(qS,{className:"h-4 w-4 text-green-600"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-green-900",children:"Real-time Sync Active"}),d.jsx("p",{className:"text-green-700",children:"Data updates instantly across all devices"})]})]})}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[d.jsx(Pr,{className:"h-4 w-4 mr-2"}),"May 2024 Complete Data"]}),d.jsx("div",{className:"space-y-3",children:Object.entries(Nd).map(([f,h])=>d.jsx("button",{onClick:()=>a(f),disabled:n,className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all duration-200 hover:shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name}),d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:h.description})]}),d.jsx("div",{className:`w-3 h-3 rounded-full ${f==="highRisk"?"bg-red-400":f==="moderateRisk"?"bg-yellow-400":"bg-green-400"}`})]})},f))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:l,disabled:n,className:"flex flex-col items-center justify-center p-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 disabled:opacity-50 transition-colors text-sm",children:[d.jsx(zS,{className:"h-5 w-5 mb-1"}),d.jsx("span",{children:"Custom May"})]}),d.jsxs("button",{onClick:c,disabled:n,className:"flex flex-col items-center justify-center p-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 disabled:opacity-50 transition-colors text-sm",children:[d.jsx(BS,{className:"h-5 w-5 mb-1"}),d.jsx("span",{children:"Add 7 Days"})]})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Advanced"}),d.jsxs("button",{onClick:u,disabled:n,className:"w-full flex items-center justify-center space-x-2 p-3 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 disabled:opacity-50 transition-colors text-sm",children:[d.jsx(FS,{className:"h-4 w-4"}),d.jsx("span",{children:"Clear All Data"})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Supabase Features"}),d.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[d.jsx("li",{children:"• Real-time data synchronization"}),d.jsx("li",{children:"• Automatic conflict resolution"}),d.jsx("li",{children:"• Offline-first architecture"}),d.jsx("li",{children:"• Row-level security"}),d.jsx("li",{children:"• Instant UI updates"})]})]}),n&&d.jsxs("div",{className:"flex items-center justify-center space-x-3 p-4 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),d.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Processing with Supabase..."})]})]})]}):d.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:d.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white p-3 rounded-full shadow-lg transition-all duration-200 transform hover:scale-105",title:"Supabase Demo Controls",children:d.jsx(ti,{className:"h-6 w-6"})})})},_T=({user:t})=>{const[e,n]=j.useState({completedDays:0,totalDays:20,startDate:new Date().toISOString().split("T")[0],completedDates:[]}),[r,s]=j.useState("tracking"),[i,o]=j.useState(!1),[a,l]=j.useState(!1),[c,u]=j.useState(!0),[f,h]=j.useState([]),[p,y]=j.useState(""),[w,b]=j.useState(!1),g=()=>{const R=new Date;return`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`},m=R=>{const[H,te]=R.split("-");return new Date(parseInt(H),parseInt(te)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})};j.useEffect(()=>{v(),_();const R=uT(t.id,H=>{H&&(n(H),o(H.completedDays>0))});return()=>{R.unsubscribe()}},[t.id]);const v=async()=>{try{u(!0);const R=await la(t.id);R&&(n(R),o(R.completedDays>0),R.completedDays===0&&setTimeout(()=>l(!0),2e3))}catch(R){console.error("Error loading progress:",R),setTimeout(()=>l(!0),2e3)}finally{u(!1)}},_=async()=>{try{const R=await dT(t.id);h(R);const H=g();y(H)}catch(R){console.error("Error loading available months:",R),y(g())}},A=async()=>{try{await CS(),U.success("Signed out successfully")}catch{U.error("Error signing out")}},C=R=>{n(R),o(R.completedDays>0)},k=()=>{v(),_(),l(!1)},E=async()=>{await Hv(t.id).loadMayScenario("moderateRisk"),k()},P=async()=>{try{const R={completedDays:0,totalDays:20,startDate:new Date().toISOString().split("T")[0],completedDates:[]};await jt(t.id,R),n(R),o(!1),await _(),U.success("New month started! Begin tracking your symptoms.")}catch(R){console.error("Error starting new month:",R),U.error("Failed to start new month")}};if(c)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading your data..."})]})});const $=Math.min(e.completedDays/e.totalDays*100,100),D=e.completedDays>=5,N=e.completedDays>=e.totalDays;return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("header",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(qo,{className:"h-8 w-8 text-primary-600 mr-3"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Endometriosis Tracker"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",t.email]}),d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Monthly Tracking"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>b(!w),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[d.jsx(Pr,{className:"h-4 w-4 text-gray-600"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:m(p)}),d.jsx(PS,{className:"h-4 w-4 text-gray-500"})]}),w&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:d.jsx("div",{className:"py-1",children:f.map(R=>d.jsxs("button",{onClick:()=>{y(R),b(!1),R!==g()&&U.custom(`Viewing data for ${m(R)}`)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${R===p?"bg-primary-50 text-primary-700":"text-gray-700"}`,children:[m(R),R===g()&&d.jsx("span",{className:"ml-2 text-xs text-green-600",children:"(Current)"})]},R))})})]}),d.jsxs("button",{onClick:A,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[d.jsx(LS,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})]})})}),a&&!i&&d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx(Pr,{className:"h-8 w-8 text-blue-600 mt-1"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-xl font-semibold text-blue-900",children:"Welcome to Monthly Health Tracking!"}),d.jsx("p",{className:"text-blue-800 mt-2",children:"Track your symptoms for up to 20 days each month to get AI-powered insights. Data is organized by month for better pattern analysis. We've prepared sample data to help you explore all features."}),d.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[d.jsxs("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center",children:[d.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Load Sample Month Data"]}),d.jsx("button",{onClick:()=>l(!1),className:"bg-white hover:bg-gray-50 text-blue-600 border border-blue-300 px-6 py-3 rounded-lg font-medium transition-colors",children:"Start Fresh"})]}),d.jsx("p",{className:"text-sm text-blue-600 mt-3",children:"💡 Monthly tracking helps identify patterns and provides more accurate analysis"})]}),d.jsx("button",{onClick:()=>l(!1),className:"text-blue-400 hover:text-blue-600 text-xl",children:"×"})]})})}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsx("div",{className:"border-b border-gray-200",children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsxs("button",{onClick:()=>s("tracking"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="tracking"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(qo,{className:"h-4 w-4 inline mr-2"}),"Monthly Tracking",i&&d.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[Math.min(e.completedDays,20),"/20 days"]})]}),d.jsxs("button",{onClick:()=>s("prediction"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="prediction"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(ny,{className:"h-4 w-4 inline mr-2"}),"Monthly Analysis",D&&d.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Ready"}),N&&d.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Complete"})]})]})})}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r==="tracking"?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Monthly Progress (",m(p),")"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[d.jsx(ti,{className:"h-4 w-4 mr-1"}),"Real-time sync"]})]}),d.jsx(hT,{progress:e,onNewMonth:P})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Daily Symptom Tracking - ",m(p)]}),d.jsx(fT,{userId:t.id,progress:e,onProgressUpdate:C})]})]}):d.jsxs("div",{className:"space-y-8",children:[d.jsx(yT,{user:t,completedDays:Math.min(e.completedDays,20),isComplete:N,selectedMonth:p}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Monthly Data Summary - ",m(p)]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.min(e.completedDays,20)}),d.jsx("div",{className:"text-sm text-blue-800",children:"Days Tracked"})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round($),"%"]}),d.jsx("div",{className:"text-sm text-green-800",children:"Monthly Progress"})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:D?"Ready":"Pending"}),d.jsx("div",{className:"text-sm text-purple-800",children:"Analysis Status"})]}),d.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:f.length}),d.jsx("div",{className:"text-sm text-indigo-800",children:"Months Tracked"})]})]})]})]})}),d.jsx(bT,{user:t,onDataLoaded:k})]})},xT=()=>d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});function ST(){const[t,e]=j.useState(null),[n,r]=j.useState(!0),[s,i]=j.useState({connected:!1,tablesExist:!1,errors:[],checking:!0});j.useEffect(()=>{const{data:{subscription:a}}=TS(async l=>{e(l),l&&await o(),r(!1)});return()=>{a.unsubscribe()}},[]);const o=async()=>{try{i(l=>({...l,checking:!0})),await NS();const a=await RS();i({connected:a.connected,tablesExist:a.tablesExist,errors:a.errors,checking:!1})}catch(a){console.error("Error initializing Supabase:",a),i({connected:!1,tablesExist:!1,errors:[`Initialization failed: ${a}`],checking:!1})}};return n?d.jsx(xT,{}):t&&(!s.connected||!s.tablesExist||s.checking)?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(ti,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Setting up Database"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Initializing Supabase tables..."})]})]}),s.checking&&d.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),d.jsx("span",{className:"text-blue-800",children:"Checking database setup..."})]}),!s.checking&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${s.connected?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[s.connected?d.jsx(pn,{className:"h-5 w-5"}):d.jsx(Hn,{className:"h-5 w-5"}),d.jsxs("span",{children:["Connection: ",s.connected?"Connected":"Failed"]})]}),d.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${s.tablesExist?"bg-green-50 text-green-800":"bg-yellow-50 text-yellow-800"}`,children:[s.tablesExist?d.jsx(pn,{className:"h-5 w-5"}):d.jsx(Hn,{className:"h-5 w-5"}),d.jsxs("span",{children:["Tables: ",s.tablesExist?"Ready":"Setting up..."]})]}),s.errors&&s.errors.length>0&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Setup Issues:"}),d.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:s.errors.map((a,l)=>d.jsxs("li",{children:["• ",a]},l))})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry Setup"}),s.connected&&d.jsx("button",{onClick:()=>i(a=>({...a,tablesExist:!0})),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Continue Anyway"})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-4",children:[d.jsx("p",{children:"If issues persist:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-1",children:[d.jsx("li",{children:"Check your Supabase project settings"}),d.jsx("li",{children:"Verify environment variables are correct"}),d.jsx("li",{children:"Run migrations manually in Supabase SQL editor"})]})]})]})]})})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(a_,{position:"top-right"}),t?d.jsx(_T,{user:t}):d.jsx(QS,{})]})}Hl.createRoot(document.getElementById("root")).render(d.jsx(yo.StrictMode,{children:d.jsx(ST,{})}));
